{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/assets/dragHandle.svg","webpack:///./src/components/utils/ScrollToRefresh.vue?d288","webpack:///./src/components/utils/LoadingIcon.vue?061f","webpack:///./src/components/Watchlist/ReleaseScheduleModal.vue?bc55","webpack:///./src/components/Watchlist/CatalogModal.vue?0e1a","webpack:///./src/assets/b314_icon_inner.svg","webpack:///./src/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue?6806","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/assets/b_favicon.svg","webpack:///./src/components/Watchlist/WatchlistSection.vue?fa8f","webpack:///./src/components/DropboxSignIn.vue?9316","webpack:///./src/components/BasicWidget.vue?cd17","webpack:///./src/views/Watchlist.vue?eade","webpack:///./src/components/miscTools/SandboxGame.vue?2d8e","webpack:///./src/components/miscTools/ImageAnalyzer/ColorHistogram.vue?2fdc","webpack:///./src/components/WanikaniWidget.vue?2bca","webpack:///./src/App.vue?eb34","webpack:///./src/components/utils/Header.vue?ae88","webpack:///./src/components/DropboxSignIn.vue?61cc","webpack:///./src/store/modules/dropbox.ts","webpack:///./src/utils/tools.ts","webpack:///./src/utils/services/WatchlistService.ts","webpack:///./src/store/modules/watchlist.ts","webpack:///./src/store/index.ts","webpack:///./src/utils/dropbox.ts","webpack:///./src/components/DropboxSignIn.vue","webpack:///./src/components/DropboxSignIn.vue?72e2","webpack:///./src/components/DropboxSignIn.vue?c08f","webpack:///./src/components/utils/Header.vue","webpack:///./src/components/utils/Header.vue?06c1","webpack:///./src/components/utils/Header.vue?82ad","webpack:///./src/App.vue","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?315a","webpack:///./src/views/Home.vue?08d9","webpack:///./src/components/utils/ScrollToRefresh.vue?43a5","webpack:///./src/components/utils/LoadingIcon.vue?09f4","webpack:///./src/components/utils/LoadingIcon.vue","webpack:///./src/components/utils/LoadingIcon.vue?e329","webpack:///./src/components/utils/LoadingIcon.vue?344c","webpack:///./src/components/utils/ScrollToRefresh.vue","webpack:///./src/components/utils/ScrollToRefresh.vue?8b1a","webpack:///./src/components/utils/ScrollToRefresh.vue?1189","webpack:///./src/components/WidgetList.vue?fdb5","webpack:///./src/components/WanikaniWidget.vue?2e2d","webpack:///./src/components/BasicWidget.vue?4f2f","webpack:///./src/components/BasicWidget.vue","webpack:///./src/components/BasicWidget.vue?12db","webpack:///./src/components/BasicWidget.vue?63ce","webpack:///./src/components/WanikaniWidget.vue","webpack:///./src/components/WanikaniWidget.vue?d3ae","webpack:///./src/components/WanikaniWidget.vue?1ed4","webpack:///./src/components/utils/HoverIcon.vue?2684","webpack:///./src/components/utils/HoverIcon.vue","webpack:///./src/components/utils/HoverIcon.vue?ab64","webpack:///./src/components/utils/HoverIcon.vue?444c","webpack:///./src/components/WidgetList.vue","webpack:///./src/components/WidgetList.vue?fd9f","webpack:///./src/components/WidgetList.vue?1f76","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?c00d","webpack:///./src/views/Home.vue?f957","webpack:///./src/views/Watchlist.vue?0f61","webpack:///./src/components/Watchlist/CatalogModal.vue?783e","webpack:///./src/components/Watchlist/ShowInfoEditModal.vue?2ad8","webpack:///./src/components/utils/ThumbnailImage.vue?4084","webpack:///./src/components/utils/ThumbnailImage.vue","webpack:///./src/components/utils/ThumbnailImage.vue?f29d","webpack:///./src/components/utils/ThumbnailImage.vue?7ffd","webpack:///./src/components/Watchlist/ShowInfoEditModal.vue","webpack:///./src/components/Watchlist/ShowInfoEditModal.vue?e677","webpack:///./src/components/Watchlist/ShowInfoEditModal.vue?6a75","webpack:///./src/utils/services/TMDBService.ts","webpack:///./src/components/Watchlist/CatalogModal.vue","webpack:///./src/components/Watchlist/CatalogModal.vue?a382","webpack:///./src/components/Watchlist/CatalogModal.vue?bb07","webpack:///./src/components/utils/IconButton.vue?b69b","webpack:///./src/components/utils/IconButton.vue","webpack:///./src/components/utils/IconButton.vue?3c69","webpack:///./src/components/utils/IconButton.vue?b946","webpack:///./src/components/Watchlist/WatchlistItem.vue?5991","webpack:///./src/components/Watchlist/ReleaseScheduleModal.vue?1591","webpack:///./src/components/Watchlist/ReleaseScheduleModal.vue","webpack:///./src/components/Watchlist/ReleaseScheduleModal.vue?236a","webpack:///./src/components/Watchlist/ReleaseScheduleModal.vue?1741","webpack:///./src/components/Watchlist/WatchlistItem.vue","webpack:///./src/components/Watchlist/WatchlistItem.vue?63d0","webpack:///./src/components/Watchlist/WatchlistItem.vue?2591","webpack:///./src/components/Watchlist/WatchlistSection.vue?9ce8","webpack:///./src/components/Watchlist/WatchlistSection.vue","webpack:///./src/components/Watchlist/WatchlistSection.vue?6f56","webpack:///./src/components/Watchlist/WatchlistSection.vue?b51a","webpack:///./src/views/Watchlist.vue","webpack:///./src/views/Watchlist.vue?87cd","webpack:///./src/views/Watchlist.vue?63c9","webpack:///./src/views/MiscTools.vue?b3a7","webpack:///./src/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue?e26f","webpack:///./src/components/miscTools/ImageAnalyzer/ColorHistogram.vue?eb75","webpack:///./src/components/miscTools/ImageAnalyzer/ColorHistogram.vue","webpack:///./src/components/miscTools/ImageAnalyzer/ColorHistogram.vue?1201","webpack:///./src/components/miscTools/ImageAnalyzer/ColorHistogram.vue?19ff","webpack:///./src/utils/miscTools/ImageAnalyzer/ImageAnalyzerService.ts","webpack:///./src/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue","webpack:///./src/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue?c93b","webpack:///./src/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue?17f0","webpack:///./src/components/CanvasTest.vue?0d80","webpack:///./src/components/CanvasTest.vue","webpack:///./src/components/CanvasTest.vue?80d9","webpack:///./src/components/CanvasTest.vue?531e","webpack:///./src/components/miscTools/SandboxGame.vue?c886","webpack:///./src/components/miscTools/SandboxGame.vue","webpack:///./src/components/miscTools/SandboxGame.vue?b6c5","webpack:///./src/components/miscTools/SandboxGame.vue?a8d1","webpack:///./src/components/miscTools/DropletRing.vue?34dc","webpack:///./src/components/miscTools/DropletRing.vue","webpack:///./src/components/miscTools/DropletRing.vue?a02f","webpack:///./src/components/miscTools/DropletRing.vue?4ef2","webpack:///./src/views/MiscTools.vue","webpack:///./src/views/MiscTools.vue?8bf8","webpack:///./src/views/MiscTools.vue?8b0a","webpack:///./src/router/index.ts","webpack:///./src/mixin.ts","webpack:///./src/main.ts","webpack:///./src/components/Watchlist/ShowInfoEditModal.vue?8bf6","webpack:///./src/components/WidgetList.vue?9e8e","webpack:///./src/components/Watchlist/WatchlistItem.vue?b59e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticStyle","_v","staticClass","style","on","$event","openModal","$store","state","imgLink","_s","userShortName","userFullName","isSignedIn","_e","model","callback","$$v","doRememberMe","expression","closeModal","signOut","openSignInScreen","db_accessToken","db_userInfo","getters","db_isLoggedIn","db_isReady","mutations","setAccessToken","accessToken","setUserInfo","userInfo","actions","updateAccessToken","context","commit","updateUserInfo","dec2hex","dec","toString","substr","generateRandomHexString","array","Uint32Array","crypto","getRandomValues","Array","from","join","hexToBase64","hexStr","hexPairs","match","btoa","a","String","fromCharCode","parseInt","base64URLEncode","b64str","replace","generateCodeVerifier","sha256","str","encoder","TextEncoder","encode","subtle","digest","buf","bytes","Uint8Array","len","byteLength","resultStr","deepClone","obj","JSON","parse","stringify","pluralFormat","val","unit","getGUID","cInt","getTimestamp","Date","toISOString","getFormattedDate","timestamp","doDateOnly","toLocaleDateString","timeZone","undefined","getToday","toLocaleString","substring","showInfoPath","showSeasonsPath","watchlistDataPath","seasonViewsPath","ShowInfoCache","ShowSeasonCache","SeasonViewCache","DebouncedSeasonViewUpdates","DebounceTimeoutId","LoadShowInfo","doForceReload","getData","showInfo","LoadShowSeasons","showSeasons","LoadSeasonViews","seasonViews","LoadWatchlistData","watchlistData","mainSeasonViewIds","liveSeasonViewIds","queueSeasonViewIds","upcomingShowSeasonIds","backlogShowInfoIds","BuildShowInfo","ids","uniqueIds","Set","rawShowInfo","forEach","rawInfo","title","altTitle","isAnime","doEpisodeCountOverall","seasonCount","seasons","showSeasonIds","BuildSeasonViews","rawViews","rawView","seasonInfo","showSeasonId","watchedEpisodes","currentEpisodeCount","beganDate","completedDate","droppedDate","GetCatalog","showInfoData","showSeasonData","catalog","values","sort","b","titleA","toLowerCase","split","reverse","titleB","localeCompare","SaveCatalog","show","season","rawShow","saveData","UpdateShowSeason","GetWatchlistData","rawWLData","allSeasonViewIds","allSeasonViews","allShowInfo","allShowSeasons","watchlist","main","live","queue","upcoming","backlog","SaveWatchlistData","SaveSeasonViews","rawData","view","allViews","newViews","tools","SaveSeasonViewDebounced","debounceSeconds","clearTimeout","setTimeout","newSeasonViews","ForceSaveSeasonViews","isLoading","isUpdatingSeason","getShowInfoById","showId","find","getShowImageLink","latestSznImgLinkIdx","findIndex","getImageLink","seasonId","setIsLoading","setIsUpdatingSeason","setCatalog","setCatalogShowSeason","showIdx","sznIdx","updateCatalog","newCatalogData","updateCatalogShowSeason","newSeasonData","loadCatalogFromDropbox","catalogData","use","Store","userWidgets","accessTokens","setUserWidgets","setSingleAccessToken","token","setAccessTokens","updateIsLoading","updateUserWidgets","updateSingleAccessToken","updateAccessTokens","dropbox","vm","db_app_client_id","redirect_uri","location","origin","paths","settingsPath","tokensPath","getBearerToken","store","authorizeWithDropbox","codeVerifier","codeChallenge","$cookies","set","authorizationURL","encodeURIComponent","handleDropboxOAuthRedirect","authorizationCode","tokenRequestURL","post","response","tokenData","refresh_token","remove","dispatch","access_token","disconnectAccount","tryRefreshAccessToken","refreshToken","status","alert","path","retries","url","dropboxAPIArg","headers","dataBlob","Blob","arrayBuffer","dataBuffer","console","log","loadUserInfo","getFolders","body","loadTokens","tokens","saveTokens","loadSettings","settings","widgetList","saveSettings","reloadAll","extend","computed","familiar_name","display_name","profile_photo_url","methods","$bvModal","hide","component","components","DropboxSignIn","AppHeader","Header","created","initializeDropbox","tryHandleOauthRedirect","isRedirect","params","URLSearchParams","search","handleRefresh","refreshKey","class","showManualTrigger","triggerRefresh","viewboxWidthPx","viewboxHeightPx","boxColor","iconPath","pathLength","pathColor","loadingColorA","loadingColorB","props","type","Boolean","required","default","heightPx","Number","LoadingIcon","doRefresh","addEventListener","handleScroll","destroyed","removeEventListener","watch","scrollY","now","$emit","_l","widget","idx","refreshTrigger","scopedSlots","_u","fn","proxy","onModalClose","w","description","removeWidget","addWidget","undoChanges","openLoginModal","openKTListModal","isConnected","userLevel","lessonCount","reviewCount","todaysLessons","subject","document_url","getSubjectMeaning","characters","saveTokenUpdate","cancelTokenUpdate","onLoginModalClose","modeledTokenString","testNewToken","isNewTokenValid","newTokenResult","_t","BasicWidget","loading","ktListStartLevel","ktListEndLevel","ktListObject","newAccessToken","apiAccessToken","loadData","wanikani","ktListBlob","URL","createObjectURL","openLessons","open","openReviews","meanings","meaning","getUserData","getSummary","getTodaysLessons","error","message","user","username","level","lessons","subject_ids","reviews","todayMidnight","setHours","todayMidnightUTC","assignmentsUrl","todaysAssignmentsFilter","started_at","getSubjectsByAssignmentsUrl","closeLoginModal","getPaginatedResourceData","allResources","collection","pages","next_url","concat","assignmentFilter","assignmentResources","subjectsList","filter","subject_id","subjectsUrl","subjectResources","icon","getSuffix","scale","variant","isHovering","wanikaniWidget","WanikaniWidget","basicWidget","hoverIcon","HoverIcon","allWidgets","displayedWidgets","syncWithStore","WidgetList","scrollToRefresh","ScrollToRefresh","openCatalog","selectCatalogEntry","showMarkCompletedOptions","demoteItem","promptConfirmRemoveItem","$set","promoteItem","loadWatchlist","onReorderList","targetListName","addCatalogItemToList","resetTargets","markSeasonCompleted","onModalHide","targetSeasonView","doNextSeasonToQueue","preventDefault","targetShowSeason","doPopQueueToMain","targetNextQueueItem","removeItem","targetShowInfo","_f","_b","selectMode","ref","ok","createNewEntry","selectedItemId","chooseItem","selectionTargetList","$attrs","searchTMDB","searchString","selectShow","getTotalEpisodeCount","stopPropagation","editShowEntry","expandedShowId","selectSeason","some","getSeasonImageLink","totalEpisodeCount","startDate","endDate","airingYear","airingSeason","tmdbShowResults","editingShowId","saveShowEntry","editingShowInfo","modalTitle","loadValue","isChanged","checkValidity","showData","_n","deleteSeason","addSeason","sizeStyle","colorStyle","doFaded","link","colorSeed","height","thumbnailImage","ThumbnailImage","isNewShow","originalData","isShowDataChanged","isSznDataChanged","szn","seasonNumber","previousSznNumber","Math","floor","syncModel","form","document","getElementById","isValid","reportValidity","saveChanges","publicToken","logoPrimaryFullURL","getImageURL","resolveImageURL","getSearchRequest","isMovie","searchURL","searchTVShows","apiResponse","results","original_language","original_name","origin_country","includes","genre_ids","poster_path","showInfoEditModal","ShowInfoEditModal","isReady","filteredCatalog","$root","$on","isShown","toggleShow","selectedShow","selectedSeason","reduce","sum","openEditModal","updatedShowIdx","searchStr","TMDBService","closeEditModal","isMobile","innerWidth","paddingStyle","imageLink","loadedShowInfo","parentList","loadedShowSeason","editedSeasonView","doProgressBar","isReadOnly","rerenderKey","getProgressBar","toggleEpisodeCountUnits","doManualProgressEdit","maxValidProgress","minValidProgress","isEditedProgressValid","saveManualProgressEdit","indexOf","_k","keyCode","arguments","editedProgress","enableManualProgressEdit","displayedEpisodeProgress","releaseSchedule","displayedAvailableEpisodeCount","displayedTotalEpisodeCount","isSeasonProgressComplete","isUpToDateWithLiveSeason","incrementProgress","beginSeason","itemMessages","itemButton","action","args","label","seasonView","openScheduleModal","doReleaseSchedule","availableEpisodeCount","showSeason","episodeDate","episode","editingEpisode","conflictingIrregularEpisodes","datePickerState","editingDate","closeDateEditor","isEditingDateIrregular","setIrregularDate","isEditingDateChanged","isIrregularlyScheduledEpisode","isConflictingIrregularDate","editEpisodeDate","formatReleaseDate","date","toISODate","irregularDates","toFormat","episodeNumber","doReset","updatedSeason","updatedDateIdx","updateShowSeason","releaseScheduleModal","ReleaseScheduleModal","isReorderable","doEpisodeCountUnitsLabel","previousSeasonsEpisodeCount","currentSznNumber","total","overallEpisodeProgress","overallTotalEpisodeCount","currentSznTotalEpisodes","Infinity","isPromotable","isDemotable","hasBegunAiring","today","episodeDates","fromISO","episodeCount","previousDate","nextIrregularDate","currentDate","nextWeekDate","plus","days","min","thisSeasonEpisodes","thisSeasonNotYetAvailable","max","isSeasonFullyReleased","messages","progressBarStyle","progressPct","availablePct","totalEps","seasonProgress","destination","listType","items","addItem","onReorder","dragOptions","item","isSeasonView","isShowSeason","isShowInfo","updateSeasonView","watchlistItem","WatchlistItem","draggable","animation","ghostClass","itemIdx","catalogModal","CatalogModal","watchlistSection","WatchlistSection","iconButton","IconButton","saveWatchlist","listName","newSeasonView","closeCatalog","seasonViewId","sourceList","seasonViewIdx","seasonShowInfo","seasonIdx","completedViewId","completedViewIdx","itemId","showSeasonIdx","showInfoIdx","destinationList","promotedSeasonView","promotedSzn","promotedShow","showFirstSeason","demotedSeasonView","droppedViewId","droppedViewIdx","droppedSznId","droppedSznIdx","droppedShowId","droppedShowIdx","event","trigger","dropletCount","initImage","allColors","color","getColorSampleStyle","getColorString","colorRGB","colorHSL","count","stop","offset","bucket","hueAvg","bucketWidth","xAxisDivisions","colorBuckets","buckets","hueMin","hueMax","hueListIdx","xAxisColors","colors","rgbToHsl","rgb","g","cmin","cmax","delta","h","round","abs","filterColors","colorHeuristic","lightPoints","saturationPoints","getColorData","img","doOpacity","doFilters","colorData","canvas","createElement","naturalHeight","width","naturalWidth","ctx","getContext","willReadFrequently","drawImage","imageData","getImageData","colorGroups","GetFormattedColor","GetImageColorData","imageURL","Image","crossOrigin","src","decode","colorHistogram","ColorHistogram","selectedColorsStyle","selectedColorLimit","hueBucketRadius","usedHues","selectedColors","currentHue","hue","ImageAnalyzerService","styleString","startPct","endPct","generateCanvasImage","mainSceneIdx","text","canvasSettingsControl","getWidthInfo","canvasWidth","canvasHeight","look","allScenes","subSceneCount","startTime","format","endTime","totalRuntime","sceneIdx","sceneSettings","pxRows","pxCols","reflectLimit","superSampleLvl","getRuntime","start","end","vueCanvas","size","cMat","doOut","captureTimes","doGlobalCameraSettings","createKeydownListener","imgA","x","y","z","imgB","darkColor","lightColor","fill","vSubtract","vScale","row","sampleMaterialA","sampleMaterialB","sampleMaterialC","matteA","reflectivity","matteB","image","matteC","matteD","mirrorA","mirrorSphere","ka","kd","glassSphere","textureScene0","imgSrcSceneIdx","textureScene1","pgScale","pgP","pgU","norm","pgV","pgP2","pgU2","pgV2","fastSettings","camera","pos","dir","up","fov","PI","A","material","v0","v1","v2","p0","p1","compoundItems","lights","C","vertices","canvasSettings","u","v","voidColor","nullVolumes","scene","unpackCompound","refractLimit","ks","$nextTick","currentSceneShown","diff","toFixed","keyboardResponder","move","vec3ToStr","vAdd","vCross","evt","rect","getBoundingClientRect","clientX","left","clientY","top","cameraLeft","screenWidth","tan","screenHeight","pxWidth","pxHeight","pxYaw","pxPitch","targetDir","capture","refreshCanvas","allVecs","prev","curr","vDot","magnitude","sqrt","mag","imgPxRows","imgPxCols","col","colorString","fillStyle","fillRect","getAvgColor","solveQuadratic","a2","determinant","sqDet","getUV","pg","noX","noY","p2","invDet","alpha","beta","getRayPoint","ray","getNormal","plane","triangle","circle","sphere","tube","cylinder","qp","p0QpDotD","p1QpDotNegD","isInside","dist","intersect","isNullVolume","ts","bottom","initialT","v0v1","v1v2","v2v0","v0v1Xv0p","v1v2Xv1p","v2v0Xv2p","p2c","uvCoeffs","deltaO","tubeT","end0","end1","end0T","end1T","doNullVolCheck","maxNullVolT","maxNullVolIdx","nv","nullVolT","isFinite","getColor","minT","N","E","I","shadowP","light","doLightCalculation","shadowP2L","shadowT","shadowRay","shadowItem","itemT","p2L","L","diffAndSpec","R","itemColor","imgRows","imgCols","rowIdx","colIdx","rayColor","reflectedColor","reflectLvl","reflectDir","newRay","refractLvl","mainScene","scenesNeeded","add","timingData","scenePxRows","scenePxCols","camLeft","ssColors","ssLvl","ssRow","ssPitch","ssCol","ssYaw","polygon","vertexCount","pair","aAdd","aScale","getGrayscale","px","getEdgeMap","grayImg","edgeMap","neighbors","neighborPx","blurCross","pxMask","pxCount","colorSum","get3dFrom2d","pen","element","vec2RGB","elementsList","drawMouseEvent","isDrawing","doTick","resetScene","doAutoTick","isCeiling","isFloor","tick","msPerTick","density","isActive","reactions","reactee","isTransitive","chance","decay","startAge","endAge","particles","interval","backgroundImage","blankA","blankB","background","k","initializeScene","handleTap","drawTouchEvent","passive","renderScene","setInterval","clearInterval","trimToLength","repeat","vec2Str","decimals","particle2Str","particleRow2Str","particleStrs","imageRow2Str","pixelStrs","printImgData","testDrag","setParticle","birthTick","draw","touches","particleRow","particleCol","maxOffset","rowOffset","colOffset","fills","f","startRow","startCol","react","getNewParticle","isDenser","densityA","densityB","densityMap","doesChanceSucceed","random","doesDecayOccur","age","nextScene","isUpdatedMask","potentialReactions","potentialReactee","reaction","newReaction","direction","didMovement","positionAbove","isLeftOpen","isLeftUpOpen","isRightOpen","isRightUpOpen","doLeft","idxShift","positionBelow","isLeftDownOpen","isRightDownOpen","de","sin","cos","l0","canvasTest","CanvasTest","imageAnalyzer","ImageAnalyzer","sandboxGame","SandboxGame","dropletRing","DropletRing","base","routes","Home","Watchlist","MiscTools","filters","toTitleCase","txt","charAt","toUpperCase","formatDate","dateStr","test","config","productionTip","mixin","router","render","App","$mount"],"mappings":"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","file":"js/app.139c0bb6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/bushu-app/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/dragHandle.71056405.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrollToRefresh.vue?vue&type=style&index=0&id=67985f0a&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIcon.vue?vue&type=style&index=0&id=2d80d57c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReleaseScheduleModal.vue?vue&type=style&index=0&id=3d67a0ca&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogModal.vue?vue&type=style&index=0&id=515c93c2&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/b314_icon_inner.e3e60166.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnalyzer.vue?vue&type=style&index=0&id=04736a9a&scoped=true&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf755\",\n\t\"./tlh.js\": \"cf755\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","module.exports = __webpack_public_path__ + \"img/b_favicon.2f70cbe0.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistSection.vue?vue&type=style&index=0&id=27ac129b&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropboxSignIn.vue?vue&type=style&index=0&id=1fa56000&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicWidget.vue?vue&type=style&index=0&id=a2c29ee6&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watchlist.vue?vue&type=style&index=0&id=5c8b316c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandboxGame.vue?vue&type=style&index=0&id=407b3fe4&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorHistogram.vue?vue&type=style&index=0&id=4ed23202&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WanikaniWidget.vue?vue&type=style&index=0&id=7f873998&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"nav\"}},[_c('app-header')],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"fixed\":\"top\",\"type\":\"dark\",\"variant\":\"secondary\"}},[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_c('img',{staticStyle:{\"height\":\"30px\"},attrs:{\"src\":require(\"@/assets/b_favicon.svg\"),\"alt\":\"B icon\"}}),_vm._v(\" BushuApp \")]),_c('b-navbar-toggle',{attrs:{\"target\":\"headerOptions\"}}),_c('b-collapse',{attrs:{\"id\":\"headerOptions\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-item',{attrs:{\"to\":\"/\"}},[_vm._v(\"Home\")]),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Apps\"}},[_c('b-dropdown-item',{attrs:{\"to\":\"/watchlist\"}},[_vm._v(\"Watchlist\")]),_c('b-dropdown-item',{attrs:{\"to\":\"/miscTools\"}},[_vm._v(\"Misc Tools Gallery\")])],1)],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('dropbox-sign-in')],1)],1)],1),_c('div',{style:('height: 58px; width: 100%')})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"sign-in-button\",on:{\"click\":function($event){return _vm.openModal()}}},[(_vm.$store.state.isLoading)?_c('b-spinner',{staticStyle:{\"margin\":\"5px\"},attrs:{\"variant\":\"secondary\"}}):(_vm.isSignedIn)?_c('div',[_c('b-avatar',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"34\",\"src\":_vm.imgLink}}),_vm._v(\" Hi \"+_vm._s(_vm.userShortName)+\" \")],1):_c('div',[_vm._v(\" Sign in with Dropbox \")])],1),_c('b-modal',{attrs:{\"id\":\"loginModal\",\"title\":\"Dropbox Sign In\",\"hide-footer\":\"\",\"centered\":\"\"}},[_c('div',{staticClass:\"sign-in-modal-content\"},[(_vm.isSignedIn)?_c('p',[_vm._v(\" Currently signed in as \"+_vm._s(_vm.userFullName)+\". \")]):_c('p',[_vm._v(\" Sign in with your Dropbox account to be able to load and save custom user data and settings. \")]),_c('div',[(!_vm.isSignedIn)?_c('b-form-checkbox',{model:{value:(_vm.doRememberMe),callback:function ($$v) {_vm.doRememberMe=$$v},expression:\"doRememberMe\"}},[_vm._v(\" Remember Me \")]):_vm._e(),_c('b-button',{attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\" Cancel \")]),(_vm.isSignedIn)?_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.signOut()}}},[_vm._v(\" Disconnect Account \")]):_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.openSignInScreen()}}},[_vm._v(\" Sign In \")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { DBAccountInfo } from \"@/types/dropboxTypes\";\n\nexport default {\n  state: {\n    db_accessToken: '' as string,\n    db_userInfo: null as null | DBAccountInfo\n  },\n  getters: {\n    db_isLoggedIn(state: any): boolean {\n      return state.db_userInfo !== null\n    },\n    db_isReady(state: any): boolean {\n      return state.db_accessToken !== ''\n    },\n  },\n  mutations: {\n    setAccessToken(state: any, accessToken: string): void {\n      state.db_accessToken = accessToken\n    },\n    setUserInfo(state: any, userInfo: null | DBAccountInfo): void {\n      state.db_userInfo = userInfo\n    },\n  },\n  actions: {\n    updateAccessToken(context: any, accessToken: string): void {\n      context.commit('setAccessToken', accessToken)\n    },\n    updateUserInfo(context: any, userInfo: null | DBAccountInfo): void {\n      context.commit('setUserInfo', userInfo)\n    },\n  },\n}\n","export default {\n  dec2hex(dec: number): string {\n    return ('0' + dec.toString(16)).substr(-2)\n  },\n  generateRandomHexString(): string {\n    const array = new Uint32Array(32)\n    window.crypto.getRandomValues(array)\n    return Array.from(array, this.dec2hex).join('')\n  },\n  hexToBase64(hexStr: string): string {\n    const hexPairs = hexStr.match(/\\w{2}/g)\n    if (hexPairs !== null) {\n      return btoa(hexPairs.map((a) => {\n        return String.fromCharCode(parseInt(a, 16))\n      }).join(''))\n    }\n    return ''\n  },\n  base64URLEncode(b64str: string): string {\n    return b64str.replace(/\\+/g, '-')\n                 .replace(/\\//g, '_')\n                 .replace(/=/g, '')\n  },\n  generateCodeVerifier(): string {\n    return this.base64URLEncode(this.hexToBase64(this.generateRandomHexString()))\n  },\n  async sha256(str: string): Promise<string> {\n    const encoder = new TextEncoder()\n    const data = encoder.encode(str)\n    const buf = await window.crypto.subtle.digest('SHA-256', data)\n    const bytes = new Uint8Array(buf)\n    const len = bytes.byteLength\n    let resultStr = ''\n    for (let i = 0; i < len; i++) {\n      resultStr += String.fromCharCode(bytes[i])\n    }\n    return this.base64URLEncode(btoa(resultStr))\n  },\n  deepClone<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj))\n  },\n  pluralFormat(val: number, unit: string): string {\n    return `${val} ${unit}${val === 1 ? '' : 's'}`\n  },\n  getGUID(): string {\n    return (`${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`).replace(/[018]/g, c => {\n      const cInt = parseInt(c)\n      return (cInt ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> cInt / 4).toString(16)\n    })\n  },\n  getTimestamp(): string {\n    return (new Date()).toISOString()\n  },\n  getFormattedDate(timestamp: string, doDateOnly = false): string {\n    return (new Date(timestamp)).toLocaleDateString('en-US', doDateOnly ? {timeZone: 'UTC'} : undefined)\n  },\n  getToday(): string {\n    return (new Date().toLocaleString('sv')).substring(0, 10)\n  },\n}\n","import {\n  ShowInfo,\n  ShowSeason,\n  WatchlistData,\n  SeasonView,\n} from '@/types/watchlistTypes'\nimport dropbox from '@/utils/dropbox'\nimport tools from '../tools'\n\ninterface DataStore<T> {\n  [ id: string ]: T\n}\n\ninterface RawShowInfo {\n  id: string\n  title: string\n  altTitle?: string\n  isAnime?: boolean\n  doEpisodeCountOverall?: boolean\n  seasonCount?: number\n  showSeasonIds: string[]\n  imgLink?: string\n}\ninterface RawWatchlistData {\n  mainSeasonViewIds: string[]\n  liveSeasonViewIds: string[]\n  queueSeasonViewIds: string[]\n  upcomingShowSeasonIds: string[]\n  backlogShowInfoIds: string[]\n}\ninterface RawSeasonView {\n  id: string\n  showSeasonId: string\n  watchedEpisodes: number\n  currentEpisodeCount?: number\n  beganDate?: string\n  completedDate?: string\n  droppedDate?: string\n}\n\nconst showInfoPath = '/Watchlist/shows.json'\nconst showSeasonsPath = '/Watchlist/seasons.json'\nconst watchlistDataPath = '/Watchlist/watchlistData.json'\nconst seasonViewsPath = '/Watchlist/seasonViews.json'\n\nlet ShowInfoCache: DataStore<RawShowInfo> = {}\nlet ShowSeasonCache: DataStore<ShowSeason> = {}\nlet SeasonViewCache: DataStore<RawSeasonView> = {}\n\nlet DebouncedSeasonViewUpdates: DataStore<SeasonView> = {}\nlet DebounceTimeoutId: number | undefined = undefined\n\nasync function LoadShowInfo(doForceReload = false): Promise<DataStore<RawShowInfo>> {\n  if (doForceReload || Object.keys(ShowInfoCache).length === 0) {\n    let showInfo: DataStore<RawShowInfo> | null = await dropbox.getData(showInfoPath)\n    if (showInfo === null) {\n      showInfo = {}\n    }\n    ShowInfoCache = showInfo\n  }\n  return ShowInfoCache\n}\n\nasync function LoadShowSeasons(doForceReload = false): Promise<DataStore<ShowSeason>> {\n  if (doForceReload || Object.keys(ShowSeasonCache).length === 0) {\n    let showSeasons: DataStore<ShowSeason> | null = await dropbox.getData(showSeasonsPath)\n    if (showSeasons === null) {\n      showSeasons = {}\n    }\n    ShowSeasonCache = showSeasons\n  }\n  return ShowSeasonCache\n}\n\nasync function LoadSeasonViews(doForceReload = false): Promise<DataStore<RawSeasonView>> {\n  if (doForceReload || Object.keys(SeasonViewCache).length === 0) {\n    let seasonViews: DataStore<RawSeasonView> | null = await dropbox.getData(seasonViewsPath)\n    if (seasonViews === null) {\n      seasonViews = {}\n    }\n    SeasonViewCache = seasonViews\n  }\n  return SeasonViewCache\n}\n\nasync function LoadWatchlistData(): Promise<RawWatchlistData> {\n  let watchlistData: RawWatchlistData | null = await dropbox.getData(watchlistDataPath)\n  if (watchlistData === null) {\n    watchlistData = {\n      mainSeasonViewIds: [],\n      liveSeasonViewIds: [],\n      queueSeasonViewIds: [],\n      upcomingShowSeasonIds: [],\n      backlogShowInfoIds: [],\n    }\n  }\n  return watchlistData\n}\n\nasync function BuildShowInfo(ids: string[], doForceReload = false): Promise<DataStore<ShowInfo>> {\n  const uniqueIds = [ ...new Set(ids) ]\n  const rawShowInfo: DataStore<RawShowInfo> = await LoadShowInfo(doForceReload)\n  const showSeasons: DataStore<ShowSeason> = await LoadShowSeasons(doForceReload)\n  const showInfo: DataStore<ShowInfo> = {}\n\n  uniqueIds.forEach((id: string) => {\n    const rawInfo = rawShowInfo[id]\n    showInfo[id] = {\n      id: id,\n      title: rawInfo.title,\n      altTitle: rawInfo.altTitle,\n      isAnime: rawInfo.isAnime,\n      doEpisodeCountOverall: rawInfo.doEpisodeCountOverall,\n      seasonCount: rawInfo.seasonCount,\n      seasons: rawInfo.showSeasonIds.map((id) => showSeasons[id]),\n      imgLink: rawInfo.imgLink,\n    }\n  })\n\n  return showInfo\n}\n\n\nasync function BuildSeasonViews(ids: string[], doForceReload = false): Promise<DataStore<SeasonView>> {\n  const uniqueIds = [ ...new Set(ids) ]\n  const rawViews: DataStore<RawSeasonView> = await LoadSeasonViews(doForceReload)\n  const showSeasons: DataStore<ShowSeason> = await LoadShowSeasons(doForceReload)\n  const seasonViews: DataStore<SeasonView> = {}\n\n  uniqueIds.forEach((id: string) => {\n    const rawView = rawViews[id]\n    seasonViews[id] = {\n      id: id,\n      seasonInfo: showSeasons[rawView.showSeasonId],\n      watchedEpisodes: rawView.watchedEpisodes,\n      currentEpisodeCount: rawView.currentEpisodeCount,\n      beganDate: rawView.beganDate,\n      completedDate: rawView.completedDate,\n      droppedDate: rawView.droppedDate,\n    }\n  })\n\n  return seasonViews\n}\n\nexport default {\n  async GetCatalog(): Promise<ShowInfo[]> {\n    const showInfoData: DataStore<RawShowInfo> = await LoadShowInfo()\n    const showSeasonData: DataStore<ShowSeason> = await LoadShowSeasons()\n\n    const catalog: ShowInfo[] = Object.values(showInfoData).map((rawInfo: RawShowInfo) => {\n      return {\n        id: rawInfo.id,\n        title: rawInfo.title,\n        altTitle: rawInfo.altTitle,\n        isAnime: rawInfo.isAnime,\n        doEpisodeCountOverall: rawInfo.doEpisodeCountOverall,\n        seasonCount: rawInfo.seasonCount,\n        seasons: rawInfo.showSeasonIds.map((id: string) => showSeasonData[id]),\n        imgLink: rawInfo.imgLink,\n      }\n    })\n    catalog.sort((a, b) => {\n      const titleA = a.title.toLowerCase().split(/^the /).reverse()[0]\n      const titleB = b.title.toLowerCase().split(/^the /).reverse()[0]\n      return titleA.localeCompare(titleB)\n    })\n\n    return catalog\n  },\n  async SaveCatalog(catalog: ShowInfo[]): Promise<void> {\n    const showInfoData: DataStore<RawShowInfo> = {}\n    const showSeasonData: DataStore<ShowSeason> = {}\n\n    catalog.forEach((show: ShowInfo) => {\n      show.seasons.forEach((season: ShowSeason) => {\n        showSeasonData[season.id] = season\n      })\n\n      const rawShow: RawShowInfo = {\n        id: show.id,\n        title: show.title,\n        altTitle: show.altTitle,\n        isAnime: show.isAnime,\n        doEpisodeCountOverall: show.doEpisodeCountOverall,\n        seasonCount: show.seasonCount,\n        imgLink: show.imgLink,\n        showSeasonIds: show.seasons.map((season: ShowSeason) => season.id)\n      }\n      showInfoData[show.id] = rawShow\n    })\n\n    await dropbox.saveData(showInfoPath, showInfoData)\n    await dropbox.saveData(showSeasonsPath, showSeasonData)\n    ShowInfoCache = showInfoData\n    ShowSeasonCache = showSeasonData\n  },\n  async UpdateShowSeason(season: ShowSeason): Promise<void> {\n    const showSeasonData: DataStore<ShowSeason> = await LoadShowSeasons()\n\n    showSeasonData[season.id] = season\n\n    await dropbox.saveData(showSeasonsPath, showSeasonData)\n    ShowSeasonCache = showSeasonData\n  },\n  async GetWatchlistData(doForceReload = false): Promise<WatchlistData> {\n    const rawWLData: RawWatchlistData = await LoadWatchlistData()\n    const allSeasonViewIds = [\n      ...rawWLData.mainSeasonViewIds,\n      ...rawWLData.liveSeasonViewIds,\n      ...rawWLData.queueSeasonViewIds,\n    ]\n    const allSeasonViews: DataStore<SeasonView> = await BuildSeasonViews(allSeasonViewIds, doForceReload)\n    const allShowInfo: DataStore<ShowInfo> = await BuildShowInfo(rawWLData.backlogShowInfoIds, doForceReload)\n    const allShowSeasons: DataStore<ShowSeason> = await LoadShowSeasons(doForceReload)\n\n    const watchlist: WatchlistData = {\n      main: rawWLData.mainSeasonViewIds.map((id) => allSeasonViews[id]),\n      live: rawWLData.liveSeasonViewIds.map((id) => allSeasonViews[id]),\n      queue: rawWLData.queueSeasonViewIds.map((id) => allSeasonViews[id]),\n      upcoming: rawWLData.upcomingShowSeasonIds.map((id) => allShowSeasons[id]),\n      backlog: rawWLData.backlogShowInfoIds.map((id) => allShowInfo[id]),\n    }\n\n    return watchlist\n  },\n  async SaveWatchlistData(watchlist: WatchlistData): Promise<void> {\n    const allSeasonViews: SeasonView[] = [\n      ...watchlist.main,\n      ...watchlist.live,\n      ...watchlist.queue,\n    ]\n    await this.SaveSeasonViews(allSeasonViews)\n\n    const rawData: RawWatchlistData = {\n      mainSeasonViewIds: watchlist.main.map((view: SeasonView) => view.id),\n      liveSeasonViewIds: watchlist.live.map((view: SeasonView) => view.id),\n      queueSeasonViewIds: watchlist.queue.map((view: SeasonView) => view.id),\n      upcomingShowSeasonIds: watchlist.upcoming.map((season: ShowSeason) => season.id),\n      backlogShowInfoIds: watchlist.backlog.map((show: ShowInfo) => show.id),\n    }\n\n    await dropbox.saveData(watchlistDataPath, rawData)\n  },\n  async SaveSeasonViews(seasonViews: SeasonView[]): Promise<void> {\n    const allViews: DataStore<RawSeasonView> = await LoadSeasonViews()\n    const newViews: DataStore<RawSeasonView> = tools.deepClone(allViews)\n    seasonViews.forEach((view: SeasonView) => {\n      newViews[view.id] = {\n        id: view.id,\n        showSeasonId: view.seasonInfo.id,\n        watchedEpisodes: view.watchedEpisodes,\n        currentEpisodeCount: view.currentEpisodeCount,\n        beganDate: view.beganDate,\n        completedDate: view.completedDate,\n        droppedDate: view.droppedDate,\n      }\n    })\n\n    SeasonViewCache = newViews\n    await dropbox.saveData(seasonViewsPath, newViews)\n  },\n  SaveSeasonViewDebounced(view: SeasonView): void {\n    const debounceSeconds = 3\n    DebouncedSeasonViewUpdates[view.id] = view\n    window.clearTimeout(DebounceTimeoutId)\n    DebounceTimeoutId = window.setTimeout(() => {\n      const newSeasonViews: SeasonView[] = Object.values(DebouncedSeasonViewUpdates)\n      this.SaveSeasonViews(newSeasonViews)\n      DebouncedSeasonViewUpdates = {}\n      DebounceTimeoutId = undefined\n    }, debounceSeconds * 1000)\n  },\n  async ForceSaveSeasonViews(): Promise<void> {\n    if (Object.keys(DebouncedSeasonViewUpdates).length > 0) {\n      window.clearTimeout(DebounceTimeoutId)\n      DebounceTimeoutId = undefined\n\n      const newSeasonViews: SeasonView[] = Object.values(DebouncedSeasonViewUpdates)\n      await this.SaveSeasonViews(newSeasonViews)\n\n      DebouncedSeasonViewUpdates = {}\n    }\n  },\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ShowInfo, ShowSeason } from '@/types/watchlistTypes'\nimport watchlistService from '@/utils/services/WatchlistService'\nimport tools from '@/utils/tools'\n\nexport default {\n  state: {\n    isLoading: false as boolean,\n    isUpdatingSeason: false as boolean,\n    catalog: [] as ShowInfo[],\n  },\n  getters: {\n    getShowInfoById: (state: any) => (showId: string): ShowInfo | undefined => {\n      return state.catalog.find((show: ShowInfo) => show.id === showId)\n    },\n    getShowImageLink: () => (show: ShowInfo): string => {\n      if (show.imgLink) {\n        return show.imgLink\n      }\n      const seasons: ShowSeason[] = tools.deepClone(show.seasons)\n      const latestSznImgLinkIdx = seasons.reverse().findIndex((s: ShowSeason) => s.imgLink)\n      return latestSznImgLinkIdx === -1 ? '' : seasons[latestSznImgLinkIdx].imgLink!\n    },\n    getImageLink: (state: any, getters: any) => (showId: string, seasonId: string | null = null): string => {\n      const show: ShowInfo | undefined = getters.getShowInfoById(showId)\n      if (show) {\n        const season: ShowSeason | undefined = show.seasons.find((season: ShowSeason) => season.id === seasonId)\n        if (season && season.imgLink) {\n          return season.imgLink\n        }\n        return getters.getShowImageLink(show)\n      }\n      return ''\n    },\n  },\n  mutations: {\n    setIsLoading(state: any, isLoading: boolean) {\n      state.isLoading = isLoading\n    },\n    setIsUpdatingSeason(state: any, isUpdatingSeason: boolean) {\n      state.isUpdatingSeason = isUpdatingSeason\n    },\n    setCatalog(state: any, catalog: ShowInfo[]) {\n      state.catalog = catalog\n    },\n    setCatalogShowSeason(state: any, season: ShowSeason) {\n      const showIdx: number = state.catalog.findIndex((s: ShowInfo) => s.id === season.showId)\n      if (showIdx !== -1) {\n        const sznIdx: number = state.catalog[showIdx].seasons.findIndex((s: ShowSeason) => s.id === season.id)\n        if (sznIdx !== -1) {\n          state.catalog[showIdx].seasons[sznIdx] = season\n        }\n      }\n    },\n  },\n  actions: {\n    async updateCatalog(context: any, newCatalogData: ShowInfo[]) {\n      context.commit('setIsLoading', true)\n\n      await watchlistService.SaveCatalog(newCatalogData)\n      context.commit('setCatalog', newCatalogData)\n      \n      context.commit('setIsLoading', false)\n    },\n    async updateCatalogShowSeason(context: any, newSeasonData: ShowSeason) {\n      context.commit('setIsUpdatingSeason', true)\n      \n      await watchlistService.UpdateShowSeason(newSeasonData)\n      context.commit('setCatalogShowSeason', newSeasonData)\n      \n      context.commit('setIsUpdatingSeason', false)\n    },\n    async loadCatalogFromDropbox(context: any) {\n      context.commit('setIsLoading', true)\n\n      const catalogData: ShowInfo[] = await watchlistService.GetCatalog()\n      context.commit('setCatalog', catalogData)\n  \n      context.commit('setIsLoading', false)\n    },\n  },\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport dropbox from \"./modules/dropbox\";\nimport watchlist from \"./modules/watchlist\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    isLoading: false as boolean,\n    userWidgets: [] as string[],\n    accessTokens: {} as { [ name: string ]: string }\n  },\n  mutations: {\n    setIsLoading(state: any, isLoading: boolean) {\n      state.isLoading = isLoading\n    },\n    setUserWidgets(state: any, userWidgets: string[]) {\n      state.userWidgets = userWidgets\n    },\n    setSingleAccessToken(state: any, token: { key: string, value: string }) {\n      state.accessTokens[token.key] = token.value\n    },\n    setAccessTokens(state: any, accessTokens: { [ name: string ]: string }) {\n      state.accessTokens = accessTokens\n    },\n  },\n  actions: {\n    updateIsLoading(context: any, isLoading: boolean) {\n      context.commit('setIsLoading', isLoading)\n    },\n    updateUserWidgets(context: any, userWidgets: string[]) {\n      context.commit('setUserWidgets', userWidgets)\n    },\n    updateSingleAccessToken(context: any, token: { key: string, value: string }) {\n      context.commit('setSingleAccessToken', token)\n    },\n    updateAccessTokens(context: any, accessTokens: { [ name: string ]: string }) {\n      context.commit('setAccessTokens', accessTokens)\n    },\n  },\n  modules: {\n    dropbox,\n    watchlist,\n  },\n});\n","import Vue from \"vue\"\nimport axios, { AxiosError } from 'axios'\nimport store from \"@/store\"\nimport tools from \"@/utils/tools\"\nimport { TokenResponse, AppSettings } from \"@/types/dropboxTypes\"\n\nconst vm = Vue.prototype\nconst db_app_client_id = 'q9aarn0najvippt'\nconst redirect_uri = window.location.origin + process.env.BASE_URL\nconst paths = {\n  settingsPath: '/General/settings.json',\n  tokensPath: '/General/Private/tokens.json',\n}\n\nfunction getBearerToken(): string {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return `Bearer ${(store.state.dropbox.db_accessToken === '') ? 'invalidToken' : store.state.dropbox.db_accessToken}`\n}\n\nexport default {\n  // step 1 of PKCE authorization code flow\n  async authorizeWithDropbox(doRememberMe: boolean): Promise<void> {\n    const codeVerifier = tools.generateCodeVerifier()\n    const codeChallenge = await tools.sha256(codeVerifier)\n    vm.$cookies.set('code_verifier', codeVerifier, 300)\n\n    const authorizationURL = `https://www.dropbox.com/oauth2/authorize` +\n                              `?client_id=${db_app_client_id}` +\n                              `&redirect_uri=${encodeURIComponent(redirect_uri)}` +\n                              `&code_challenge_method=S256` +\n                              `&code_challenge=${codeChallenge}` +\n                              (doRememberMe ? `&token_access_type=offline` : '') +\n                              `&response_type=code`\n\n    window.location.replace(authorizationURL)\n  },\n\n  // step 2 of PKCE authorization code flow\n  async handleDropboxOAuthRedirect(authorizationCode: string, codeVerifier: string): Promise<void> {\n    const tokenRequestURL = `https://api.dropbox.com/oauth2/token` +\n                            `?client_id=${db_app_client_id}` +\n                            `&redirect_uri=${encodeURIComponent(redirect_uri)}` +\n                            `&code_verifier=${codeVerifier}` +\n                            `&code=${authorizationCode}` +\n                            `&grant_type=authorization_code`\n    \n    const response = await axios.post(tokenRequestURL)\n    const tokenData: TokenResponse = response.data\n\n    if (tokenData.refresh_token) {\n      vm.$cookies.set('db_refresh', tokenData.refresh_token, -1)\n    } else {\n      vm.$cookies.remove('db_refresh')\n    }\n\n    store.dispatch('updateAccessToken', tokenData.access_token)\n  },\n\n  // delete tokens and user account data\n  disconnectAccount(): void {\n    store.dispatch('updateAccessToken', '')\n    store.dispatch('updateUserInfo', null)\n    vm.$cookies.remove('db_refresh')\n  },\n\n  // refresh access token with refresh token if available\n  async tryRefreshAccessToken(): Promise<boolean> {\n    const refreshToken: string = vm.$cookies.get('db_refresh')\n    if (refreshToken) {\n      const tokenRequestURL = `https://api.dropbox.com/oauth2/token` +\n                              `?client_id=${db_app_client_id}` +\n                              `&refresh_token=${refreshToken}` +\n                              `&grant_type=refresh_token`\n      try {\n        const response = await axios.post(tokenRequestURL)\n        const tokenData: TokenResponse = response.data\n        store.dispatch('updateAccessToken', tokenData.access_token)\n        return true\n      } catch (error) {\n        const e = error as AxiosError\n        if (e.response && (e.response.status === 400 || e.response.status === 401)) {\n          // refresh token is invalid or expired\n          vm.$cookies.remove('db_refresh')\n          alert('Dropbox login expired. Please log in again.')\n        }\n      }\n    }\n    store.dispatch('updateAccessToken', '')\n    return false\n  },\n\n  // load file data\n  async getData<T>(path: string, retries = 0): Promise<null | T> {\n    const url = 'https://content.dropboxapi.com/2/files/download'\n    const dropboxAPIArg = {\n      'path': path,\n    }\n\n    try {\n      const response = await axios.post(url, null, {\n        headers: {\n          'Authorization': getBearerToken(),\n          'Dropbox-API-Arg': JSON.stringify(dropboxAPIArg),\n          'Content-Type': 'text/plain'\n        },\n      })\n      return response.data\n\n    } catch (error) {\n      const e = error as AxiosError\n      if (e.response && e.response.status === 401) {\n        if (retries < 3 && await this.tryRefreshAccessToken()) {\n          return await this.getData(path, ++retries)\n        }\n      } else if (e.response && e.response.status === 409) {\n        // path not found\n        return null\n      }\n      throw(error)\n    }\n  },\n\n  // save file data\n  async saveData(path: string, data: unknown, retries = 0): Promise<void> {\n    const url = 'https://content.dropboxapi.com/2/files/upload'\n    const dropboxAPIArg = {\n      'path': path,\n      'autorename': true,\n      'mode': 'overwrite',\n    }\n    const dataBlob = new Blob([JSON.stringify(data, null, 2)])\n    const dataBuffer = await dataBlob.arrayBuffer()\n\n    try {\n      await axios.post(url, dataBuffer, {\n        headers: {\n          'Authorization': getBearerToken(),\n          'Dropbox-API-Arg': JSON.stringify(dropboxAPIArg),\n          'Content-Type': 'application/octet-stream'\n        },\n      })\n      \n    } catch (error) {\n      const e = error as AxiosError\n      console.log('save failed:')\n      console.log(e)\n      if (e.response && e.response.status === 401) {\n        if (retries < 3 && await this.tryRefreshAccessToken()) {\n          await this.saveData(path, data, ++retries)\n        }\n      }\n    }\n  },\n\n  // load user info\n  async loadUserInfo(retries = 0): Promise<void> {\n    const url = 'https://api.dropboxapi.com/2/users/get_current_account'\n\n    try {\n      const response = await axios.post(url, null, {\n        headers: {\n          'Authorization': getBearerToken(),\n          'Content-Type': 'application/json',\n        },\n      })\n\n      store.dispatch('updateUserInfo', response.data)\n    } catch (error) {\n      const e = error as AxiosError\n      if (e.response && e.response.status === 401) {\n        if (retries < 3 && await this.tryRefreshAccessToken()) {\n          this.loadUserInfo(++retries)\n        }\n      }\n    }\n  },\n\n  // get folder list\n  async getFolders(path: string, retries = 0): Promise<null | unknown> {\n    const url = 'https://api.dropboxapi.com/2/files/list_folder'\n    const body = {\n      'path': path,\n      'recursive': true,\n    }\n\n    try {\n      const response = await axios.post(url, body, {\n        headers: {\n          'Authorization': getBearerToken(),\n          'Content-Type': 'application/json'\n        },\n      })\n      return response.data\n\n    } catch (error) {\n      const e = error as AxiosError\n      if (e.response && e.response.status === 401) {\n        if (retries < 3 && await this.tryRefreshAccessToken()) {\n          return await this.getFolders(path, ++retries)\n        }\n      }\n    }\n  },\n\n  // load API tokens\n  async loadTokens(): Promise<void> {\n    const tokens = await this.getData(paths.tokensPath)\n\n    store.dispatch('updateAccessTokens', tokens)\n  },\n\n  // save API tokens\n  async saveTokens(): Promise<void> {\n    const tokens: { [ name: string ]: string } = store.state.accessTokens\n\n    await this.saveData(paths.tokensPath, tokens)\n  },\n\n  // load general settings\n  async loadSettings(): Promise<void> {\n    const settings: AppSettings | null = await this.getData<AppSettings>(paths.settingsPath)\n    const widgetList = settings?.widgetList || []\n\n    store.dispatch('updateUserWidgets', widgetList)\n  },\n\n  // save all general settings\n  async saveSettings(): Promise<void> {\n    const settings: AppSettings = {\n      widgetList: store.state.userWidgets\n    }\n\n    await this.saveData(paths.settingsPath, settings)\n  },\n\n  // reload all data\n  async reloadAll(): Promise<void> {\n    await this.loadUserInfo()\n    await this.loadTokens()\n    await this.loadSettings()\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport dropbox from '@/utils/dropbox'\n\nexport default Vue.extend({\n  name: 'DropboxSignIn',\n  data() {\n    return {\n      doRememberMe: false as boolean,\n    }\n  },\n  computed: {\n    isSignedIn(): boolean {\n      return this.$store.getters.db_isLoggedIn\n    },\n    userShortName(): string {\n      return this.$store.state.dropbox.db_userInfo.name.familiar_name\n    },\n    userFullName(): string {\n      return this.$store.state.dropbox.db_userInfo.name.display_name\n    },\n    imgLink(): string {\n      return this.$store.state.dropbox.db_userInfo.profile_photo_url\n    },\n  },\n  methods: {\n    openModal() {\n      this.$bvModal.show('loginModal')\n    },\n    closeModal() {\n      this.$bvModal.hide('loginModal')\n    },\n    signOut() {\n      dropbox.disconnectAccount()\n      this.closeModal()\n    },\n    async openSignInScreen() {\n      await dropbox.authorizeWithDropbox(this.doRememberMe)\n      this.closeModal()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropboxSignIn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropboxSignIn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropboxSignIn.vue?vue&type=template&id=1fa56000&scoped=true&\"\nimport script from \"./DropboxSignIn.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropboxSignIn.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DropboxSignIn.vue?vue&type=style&index=0&id=1fa56000&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fa56000\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport DropboxSignIn from '@/components/DropboxSignIn.vue'\nexport default Vue.extend({\n  components: { DropboxSignIn },\n  name: 'Header',\n  data() {\n    return {}\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=38ea5798&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\"\nimport Header from \"@/components/utils/Header.vue\"\nimport dropbox from '@/utils/dropbox'\n\nexport default Vue.extend({\n  name: \"App\",\n  components: {\n    AppHeader: Header,\n  },\n  async created() {\n    this.$store.dispatch('updateIsLoading', true)\n\n    await this.initializeDropbox()\n\n    this.$store.dispatch('updateIsLoading', false)\n  },\n  methods: {\n    async initializeDropbox() {\n      // update access and refresh tokens if login redirect\n      let isRedirect = await this.tryHandleOauthRedirect()\n\n      // attempt to log in with tokens\n      if (!isRedirect) {\n        await dropbox.tryRefreshAccessToken()\n      }\n\n      // load user settings and data from Dropbox if logged in\n      if (this.$store.state.dropbox.db_accessToken) {\n        await dropbox.reloadAll()\n      } else {\n        // set up default settings if not logged in\n        let widgetList = [\n          'wanikani',\n          'test',\n        ]\n\n        this.$store.dispatch('updateUserWidgets', widgetList)\n      }\n    },\n    async tryHandleOauthRedirect(): Promise<boolean> {\n      // if code query parameter and code_verifier cookie exist, handle as a Dropbox OAuth redirect\n      const params = new URLSearchParams(window.location.search)\n      const authorizationCode = params.get('code')\n      const codeVerifier = this.$cookies.get('code_verifier')\n      this.$cookies.remove('code_verifier')\n\n      if (authorizationCode !== null && codeVerifier !== null) {\n        await dropbox.handleDropboxOAuthRedirect(authorizationCode, codeVerifier)\n        return true\n      }\n      return false\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=04ec2552&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('scroll-to-refresh',{attrs:{\"is-loading\":_vm.isLoading},on:{\"refresh\":_vm.handleRefresh}}),_c('img',{staticStyle:{\"margin\":\"50px 0 30px\",\"max-width\":\"200px\"},attrs:{\"src\":require(\"@/assets/b314_icon_inner.svg\"),\"alt\":\"bushu314 logo\"}}),_c('widget-list',{attrs:{\"refreshTrigger\":_vm.refreshKey}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    'refresh-div',\n    { 'refreshing': _vm.isLoading }\n  ],attrs:{\"id\":\"refreshDiv\"}},[_c('div',{class:{ 'refreshing': _vm.isLoading },attrs:{\"id\":\"expander\"}},[_c('loading-icon',{class:[\n        'loading-icon',\n        { 'refreshing': _vm.isLoading }\n      ],attrs:{\"is-loading\":_vm.isLoading,\"height-px\":_vm.isLoading ? 80 : 50}})],1),(_vm.showManualTrigger && !_vm.isLoading)?_c('div',{attrs:{\"id\":\"trigger\"}},[_c('b-button',{attrs:{\"size\":\"sm\",\"pill\":\"\",\"variant\":\"outline-danger\"},on:{\"click\":_vm.triggerRefresh}},[_vm._v(\" Refresh \")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"svg-wrapper\"}},[_c('svg',{attrs:{\"viewBox\":(\"0 0 \" + _vm.viewboxWidthPx + \" \" + _vm.viewboxHeightPx),\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":_vm.viewboxWidthPx,\"height\":_vm.viewboxHeightPx,\"stroke\":\"none\",\"fill\":_vm.boxColor,\"rx\":\"2.5\"}}),_c('g',{attrs:{\"fill\":\"none\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\"}},[_c('path',{attrs:{\"d\":_vm.iconPath,\"stroke-dasharray\":_vm.pathLength,\"stroke\":_vm.pathColor}}),_c('path',{attrs:{\"d\":_vm.iconPath,\"stroke-dasharray\":\"16 16\",\"stroke\":_vm.loadingColorA}},[_c('animate',{attrs:{\"attributeName\":\"stroke-dashoffset\",\"values\":\"16; 48\",\"begin\":'0s',\"dur\":'2s',\"repeatCount\":\"indefinite\"}})]),_c('path',{attrs:{\"d\":_vm.iconPath,\"stroke\":_vm.loadingColorB,\"stroke-dasharray\":\"16 16\"}},[_c('animate',{attrs:{\"attributeName\":\"stroke-dashoffset\",\"values\":\"0; -32\",\"begin\":'0s',\"dur\":'2s',\"repeatCount\":\"indefinite\"}})])])]),(!_vm.isLoading)?_c('svg',{attrs:{\"viewBox\":(\"0 0 \" + _vm.viewboxWidthPx + \" \" + _vm.viewboxHeightPx),\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"myGradient\",\"gradientTransform\":\"rotate(90)\"}},[_c('stop',{attrs:{\"offset\":\"5%\",\"stop-color\":\"gold\"}}),_c('stop',{attrs:{\"offset\":\"95%\",\"stop-color\":\"red\"}})],1)],1),_c('path',{attrs:{\"d\":_vm.iconPath,\"fill\":\"none\",\"stroke\":\"url('#myGradient')\",\"stroke-width\":\"1\",\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\"}},[_c('animate',{staticClass:\"end-animate\",attrs:{\"attributeName\":\"stroke-dasharray\",\"values\":\"0 32; 32 0\",\"begin\":\"0s\",\"dur\":'0.3s'}}),_c('animate',{staticClass:\"end-animate\",attrs:{\"attributeName\":\"stroke-dashoffset\",\"values\":\"0; 16\",\"begin\":\"0s\",\"dur\":'0.3s'}})])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nexport default Vue.extend({\n  name: 'LoadingIcon',\n  props: {\n    isLoading: {\n      type: Boolean,\n      required: false,\n      default: true,\n    },\n    heightPx: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      iconPath: `\n        M 2.5 6.5\n        l 0 4\n        l 5 0\n        l 0 -1\n        l -3 -3\n        l -1.757359313 0\n        l 1.757359313 0\n        l 3 -3\n        l 0 -1\n        l -5 0\n        z\n      ` as string,\n      pathLength: 32 as number,\n      boxColor: '#043' as string,\n      pathColor: '#dfe7' as string,\n      loadingColorA: '#fd8a' as string,\n      loadingColorB: '#8dfa' as string,\n      viewboxHeightPx: 13 as number,\n      viewboxWidthPx: 10 as number,\n    }\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIcon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIcon.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoadingIcon.vue?vue&type=template&id=2d80d57c&scoped=true&\"\nimport script from \"./LoadingIcon.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoadingIcon.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LoadingIcon.vue?vue&type=style&index=0&id=2d80d57c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d80d57c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport LoadingIcon from '@/components/utils/LoadingIcon.vue'\n\nexport default Vue.extend({\n  name: 'ScrollToRefresh',\n  components: { LoadingIcon },\n  props: {\n    isLoading: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      doRefresh: false as boolean,\n      showManualTrigger: false as boolean,\n    }\n  },\n  created () {\n    window.addEventListener('scroll', this.handleScroll)\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  },\n  watch: {\n    doRefresh() {\n      if (this.doRefresh) {\n        this.triggerRefresh()\n      }\n    },\n  },\n  methods: {\n    handleScroll() {\n      this.doRefresh = !this.isLoading && window.scrollY < -70\n    },\n    triggerRefresh() {\n      const refreshKey = Date.now().toString()\n      this.$emit('refresh', refreshKey)\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrollToRefresh.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrollToRefresh.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScrollToRefresh.vue?vue&type=template&id=67985f0a&scoped=true&\"\nimport script from \"./ScrollToRefresh.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScrollToRefresh.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ScrollToRefresh.vue?vue&type=style&index=0&id=67985f0a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67985f0a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"all-widgets\"},[(_vm.$store.state.isLoading)?_c('b-spinner',{attrs:{\"variant\":\"secondary\"}}):[_vm._l((_vm.displayedWidgets),function(widget,idx){return [(widget.id === 'wanikani')?_c('wanikani-widget',{key:'wanikani' + idx + _vm.refreshTrigger}):_vm._e(),(widget.id === 'test')?_c('basic-widget',{key:'test' + idx + _vm.refreshTrigger,scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" Test Widget \"+_vm._s(idx)+\" \")]},proxy:true}],null,true)},[_c('div',[_vm._v(\" test content a \")]),_c('div',[_vm._v(\" test content b \")]),_c('b-button',[_vm._v(\"Test Button\")])],1):_vm._e(),(widget.id === 'test2')?_c('basic-widget',{key:'test2' + idx + _vm.refreshTrigger,scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" Other Test Widget \"+_vm._s(idx)+\" \")]},proxy:true}],null,true)},[_c('div',[_vm._v(\" test content ba \")]),_c('div',[_vm._v(\" test content bb \")]),_c('div',[_vm._v(\" test content bc \")]),_c('b-button',[_vm._v(\"Test Button #2\")])],1):_vm._e()]})],_c('div',{staticStyle:{\"margin\":\"5px 0 0\"}},[_c('hover-icon',{attrs:{\"icon\":\"gear\",\"scale\":\"1.5\",\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.openModal()}}})],1),_c('b-modal',{attrs:{\"id\":\"settingsModal\",\"title\":\"Edit Widget Layout\",\"size\":\"lg\",\"centered\":\"\",\"hide-footer\":\"\"},on:{\"hidden\":function($event){return _vm.onModalClose()}}},[_c('b-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('b-col',{attrs:{\"sm\":\"7\"}},[_c('small',[_vm._v(\"Displayed Widgets:\")]),_c('div',_vm._l((_vm.displayedWidgets),function(w,idx){return _c('div',{key:idx,staticClass:\"displayed-widget-list-item\"},[_c('div',[_c('h3',[_vm._v(_vm._s(w.name))]),_c('small',[_vm._v(_vm._s(w.description))])]),_c('div',[_c('hover-icon',{attrs:{\"icon\":\"trash\",\"scale\":\"1.5\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.removeWidget(idx)}}})],1)])}),0)]),_c('b-col',[_c('small',[_vm._v(\"All Widgets:\")]),_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-list-group',{attrs:{\"flush\":\"\"}},_vm._l((_vm.allWidgets),function(w,idx){return _c('b-list-group-item',{key:w.id,staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('h5',[_vm._v(_vm._s(w.name))]),_c('small',[_vm._v(_vm._s(w.description))])]),_c('hover-icon',{attrs:{\"icon\":\"plus-circle\",\"scale\":\"1.5\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.addWidget(idx)}}})],1)}),1)],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.undoChanges()}}},[_vm._v(\" Cancel \")])],1),_c('b-col',[_c('b-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\" Done \")])],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('basic-widget',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('a',{attrs:{\"href\":\"https://www.wanikani.com\",\"target\":\"_blank\"}},[_c('img',{staticStyle:{\"height\":\"30px\"},attrs:{\"src\":\"https://assets.wanikani.com/assets/logo--retro-colors-9b88dd59.png\"}})])]},proxy:true},{key:\"dropdown-items\",fn:function(){return [_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.openLoginModal()}}},[_vm._v(\"Update access token\")]),_c('b-dropdown-item',{attrs:{\"disabled\":\"\"},on:{\"click\":function($event){return _vm.openKTListModal()}}},[_vm._v(\"Export Kanji Teacher list (WIP)\")])]},proxy:true}])},[(_vm.loading)?_c('div',[_c('b-spinner')],1):(!_vm.isConnected)?_c('div',{staticClass:\"widget-section\"},[_vm._v(\" Could not connect to WaniKani account. \"),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.openLoginModal()}}},[_vm._v(\" Update access token \")])],1)]):_c('div',{staticClass:\"body-section\"},[_c('div',{staticClass:\"widget-section\"},[_c('h5',[_vm._v(\"Level \"+_vm._s(_vm.userLevel))]),_c('a',{attrs:{\"href\":\"https://www.wanikani.com/lesson\",\"target\":\"_blank\"}},[_c('div',{staticClass:\"clickable-item kanji-color\"},[_vm._v(\" Lessons: \"+_vm._s(_vm.lessonCount)+\" \")])]),_c('a',{attrs:{\"href\":\"https://www.wanikani.com/review\",\"target\":\"_blank\"}},[_c('div',{staticClass:\"clickable-item radical-color\"},[_vm._v(\" Reviews: \"+_vm._s(_vm.reviewCount)+\" \")])])]),(_vm.todaysLessons.length > 0)?_c('div',{staticClass:\"widget-section\"},[_c('h5',[_vm._v(\"Today's Lessons\")]),_c('div',{staticStyle:{\"margin\":\"auto\",\"max-width\":\"300px\"}},_vm._l((_vm.todaysLessons),function(subject,idx){return _c('a',{key:idx,attrs:{\"href\":subject.data.document_url,\"target\":\"_blank\"}},[_c('div',{class:[\n              'clickable-item',\n              'today-lesson',\n              {\n                'radical-color': (subject.object === 'radical'),\n                'kanji-color': (subject.object === 'kanji'),\n                'vocab-color': (subject.object === 'vocabulary' || subject.object === 'kana_vocabulary'),\n              }\n            ],attrs:{\"title\":_vm.getSubjectMeaning(subject)}},[_vm._v(\" \"+_vm._s(subject.data.characters)+\" \")])])}),0)]):_vm._e()]),_c('b-modal',{attrs:{\"id\":\"wk_accessTokenModal\",\"title\":\"Update Access Token\",\"centered\":\"\",\"ok-variant\":\"success\",\"ok-title\":\"Save\",\"cancel-variant\":\"outline-danger\"},on:{\"ok\":function($event){return _vm.saveTokenUpdate()},\"cancel\":function($event){return _vm.cancelTokenUpdate()},\"hidden\":function($event){return _vm.onLoginModalClose()}}},[_vm._v(\" Edit access token for your WaniKani account: \"),_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.modeledTokenString),callback:function ($$v) {_vm.modeledTokenString=$$v},expression:\"modeledTokenString\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.testNewToken()}}},[_vm._v(\" Test \")])],1)],1),(_vm.newTokenResult)?_c('div',{class:[\n        'test-result-div',\n        {\n          'test-success': _vm.isNewTokenValid,\n          'test-fail': !_vm.isNewTokenValid,\n        }\n      ]},[_vm._v(\" \"+_vm._s(_vm.newTokenResult)+\" \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"widget\"},[_c('div',{staticClass:\"header\"},[_c('h3',[_vm._t(\"header\")],2),_c('b-dropdown',{staticStyle:{\"height\":\"25px\",\"padding-left\":\"50px\"},attrs:{\"right\":\"\",\"variant\":\"transparent-secondary\"}},[_vm._t(\"dropdown-items\",function(){return [_c('b-dropdown-item',[_vm._v(\"Test item 1\")]),_c('b-dropdown-item',[_vm._v(\"Test item 2\")])]})],2)],1),_c('div',{staticClass:\"main-body\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'BasicWidget'\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicWidget.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicWidget.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BasicWidget.vue?vue&type=template&id=a2c29ee6&scoped=true&\"\nimport script from \"./BasicWidget.vue?vue&type=script&lang=ts&\"\nexport * from \"./BasicWidget.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BasicWidget.vue?vue&type=style&index=0&id=a2c29ee6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2c29ee6\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport axios, { AxiosError } from 'axios'\nimport dropbox from '@/utils/dropbox'\nimport BasicWidget from '@/components/BasicWidget.vue'\nimport {\n  Resource,\n  Collection,\n  WKUserData,\n  AssignmentResource,\n  SubjectResource,\n  KTListCollection,\n} from '@/types/wanikaniTypes'\n\nexport default Vue.extend({\n  name: 'WanikaniWidget',\n  components: {\n    BasicWidget: BasicWidget,\n  },\n  data() {\n    return {\n      loading: false as boolean,\n      isConnected: false as boolean,\n      userLevel: 0 as number,\n      lessonCount: 0 as number,\n      reviewCount: 0 as number,\n      todaysLessons: [] as SubjectResource[],\n      ktListStartLevel: 0 as number,\n      ktListEndLevel: 0 as number,\n      ktListObject: null as KTListCollection | null,\n      modeledTokenString: '' as string,\n      newAccessToken: '' as string,\n      isNewTokenValid: true as boolean,\n      newTokenResult: '' as string,\n    };\n  },\n  async created() {\n    if (this.apiAccessToken) {\n      await this.loadData()\n      this.newAccessToken = this.apiAccessToken\n      this.modeledTokenString = this.apiAccessToken\n      this.ktListStartLevel = 1\n      this.ktListEndLevel = this.userLevel\n    }\n  },\n  watch: {\n    apiAccessToken() {\n      this.loadData()\n    },\n  },\n  computed: {\n    apiAccessToken(): string {\n      if (this.$store.getters.db_isLoggedIn) {\n        return this.$store.state.accessTokens?.wanikani || ''\n      }\n      return this.newAccessToken || ''\n    },\n    ktListBlob() : string {\n      return URL.createObjectURL(new Blob([JSON.stringify(this.ktListObject, null, 2)]))\n    },\n  },\n  methods: {\n    openLessons() {\n      window.open('https://www.wanikani.com/lesson')\n    },\n    openReviews() {\n      window.open('https://www.wanikani.com/review')\n    },\n    getSubjectMeaning(subject: SubjectResource): string {\n      return subject.data.meanings[0].meaning\n    },\n    async loadData() {\n      try {\n        this.loading = true\n        await this.getUserData()\n        await this.getSummary()\n        await this.getTodaysLessons()\n        this.isConnected = true\n      } catch (error) {\n        let e = error as AxiosError\n        this.isConnected = false\n        console.error('Error loading data: ' + e.message)\n      } finally {\n        this.loading = false\n      }\n    },\n    async testNewToken() {\n      let response\n      try {\n        response = await axios.get('https://api.wanikani.com/v2/user', {\n          headers: {\n            'Authorization': ('Bearer ' + this.modeledTokenString)\n          }\n        })\n\n        let user: WKUserData = response.data.data\n        this.isNewTokenValid = true\n        this.newTokenResult = 'Successfully connected to account for user ' + user.username + '!'\n        this.newAccessToken = this.modeledTokenString\n      } catch (error) {\n        let e = error as AxiosError\n        this.isNewTokenValid = false\n        if (e.response && e.response.status === 401) {\n          this.newTokenResult = 'Invalid access token.'\n        } else {\n          this.newTokenResult = 'Error while running test: ' + e.message\n        }\n      }\n    },\n    async getUserData() {\n      let r = await axios.get('https://api.wanikani.com/v2/user', {\n        headers: {\n          'Authorization': ('Bearer ' + this.apiAccessToken)\n        }\n      })\n      this.userLevel = r.data.data.level\n    },\n    async getSummary() {\n      let r = await axios.get('https://api.wanikani.com/v2/summary', {\n        headers: {\n          'Authorization': ('Bearer ' + this.apiAccessToken)\n        },\n        params: { 't': Date.now() },\n      })\n      this.lessonCount = r.data.data.lessons[0].subject_ids.length\n      this.reviewCount = r.data.data.reviews[0].subject_ids.length\n    },\n    async getTodaysLessons() {\n      let todayMidnight = new Date()\n      todayMidnight.setHours(0, 0, 0, 0)\n      let todayMidnightUTC = todayMidnight.toISOString()\n\n      let assignmentsUrl = 'https://api.wanikani.com/v2/assignments' +\n                           `?updated_after=${todayMidnightUTC}` +\n                           '&srs_stages=1,2,3'\n      const todaysAssignmentsFilter = (a: AssignmentResource) => {\n        if (a.data.started_at) {\n          return new Date(a.data.started_at) >= todayMidnight\n        }\n        return false\n      }\n      this.todaysLessons = await this.getSubjectsByAssignmentsUrl(assignmentsUrl, todaysAssignmentsFilter)\n    },\n    async saveTokenUpdate() {\n      this.newAccessToken = this.modeledTokenString\n      // update store and save changes to Dropbox\n      const token = {\n        key: 'wanikani',\n        value: this.newAccessToken,\n      }\n      this.$store.dispatch('updateSingleAccessToken', token)\n      if (this.$store.getters.db_isLoggedIn) {\n        await dropbox.saveTokens()\n      }\n      // await this.loadData()\n      this.closeLoginModal()\n    },\n    cancelTokenUpdate() {\n      this.modeledTokenString = this.apiAccessToken\n      this.closeLoginModal()\n    },\n    openLoginModal() {\n      this.$bvModal.show('wk_accessTokenModal')\n    },\n    closeLoginModal() {\n      this.$bvModal.hide('wk_accessTokenModal')\n    },\n    onLoginModalClose() {\n      this.newTokenResult = ''\n    },\n    openKTListModal() {\n      // this.$bvModal.show('ktListModal')\n    },\n    // closeKTListModal() {\n    //   this.$bvModal.hide('ktListModal')\n    // },\n    async getPaginatedResourceData(url: string | null): Promise<Resource[]> {\n      let allResources: Resource[] = []\n      while (url !== null) {\n        let r = await axios.get(url, {\n          headers: {\n            'Authorization': ('Bearer ' + this.apiAccessToken)\n          },\n        })\n        let collection = r.data as Collection\n        url = collection.pages.next_url\n        allResources = allResources.concat(collection.data)\n      }\n      return allResources\n    },\n    async getSubjectsByAssignmentsUrl(assignmentsUrl: string, assignmentFilter: (a: AssignmentResource) => boolean = (() => true)): Promise<SubjectResource[]> {\n      // get subject ids from assignments\n      let assignmentResources = await this.getPaginatedResourceData(assignmentsUrl) as AssignmentResource[]\n      let subjectsList: number[] = assignmentResources.filter(assignmentFilter).map((r) => r.data.subject_id)\n\n      // get subjects by id\n      let subjectsUrl = 'https://api.wanikani.com/v2/subjects' +\n                        '?ids=' + subjectsList.join()\n      let subjectResources = await this.getPaginatedResourceData(subjectsUrl) as SubjectResource[]\n\n      return subjectResources\n    },\n    // TODO: fix this because something's wrong it doesn't work any more\n    // async buildKanjiTeacherList() {\n    //   let levelsList = [...Array(this.userLevel).keys()].map(n => n + 1) as number[]\n\n    //   // get subject ids from assignments\n    //   let url = 'https://api.wanikani.com/v2/assignments' +\n    //             '?subject_types=kanji' +\n    //             '&levels=' + levelsList.join()// as null | string\n      //// here do getSubjectsByAssignmentsUrl()\n\n      // let subjectsList = [] as number[]\n      // while (url !== null) {\n      //   let r = await axios.get(url, {\n      //     headers: {\n      //       'Authorization': ('Bearer ' + this.apiAccessToken)\n      //     },\n      //   })\n      //   let assignments = r.data as Collection\n      //   url = assignments.pages.next_url\n\n      //   subjectsList = subjectsList.concat(\n      //     assignments.data.map((assignment: Resource) => {\n      //       return assignment.data.subject_id as number\n      //     })\n      //   )\n      // }\n\n      // // get kanji characters from subjects\n      // let kanjiList = [] as string[]\n      // url = 'https://api.wanikani.com/v2/subjects' +\n      //       '?ids=' + subjectsList.join() as null | string\n      // while (url !== null) {\n      //   let r = await axios.get(url, {\n      //     headers: {\n      //       'Authorization': ('Bearer ' + this.apiAccessToken)\n      //     },\n      //   })\n      //   let subjects = r.data as Collection\n      //   url = subjects.pages.next_url\n\n      //   kanjiList = kanjiList.concat(\n      //     subjects.data.map((subject: Resource) => {\n      //       return subject.data.characters!\n      //     })\n      //   )\n      // }\n\n      // build object\n      // this.ktListObject = {\n      //   \"learninglist\": {\n      //     \"own\": kanjiList,\n      //     \"list1\": [],\n      //     \"list2\": [],\n      //     \"list3\": [],\n      //     \"list4\": [],\n      //     \"list5\": [],\n      //     \"list6\": [],\n      //     \"list7\": []\n      //   },\n      //   \"version\": \"11.0\"\n      // }\n    // },\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WanikaniWidget.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WanikaniWidget.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WanikaniWidget.vue?vue&type=template&id=7f873998&scoped=true&\"\nimport script from \"./WanikaniWidget.vue?vue&type=script&lang=ts&\"\nexport * from \"./WanikaniWidget.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WanikaniWidget.vue?vue&type=style&index=0&id=7f873998&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f873998\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-icon',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":_vm.icon + _vm.getSuffix(),\"font-scale\":_vm.scale ? _vm.scale : '1',\"variant\":_vm.variant},on:{\"mouseenter\":function($event){_vm.isHovering = true},\"mouseleave\":function($event){_vm.isHovering = false},\"click\":function($event){return _vm.$emit('click')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  props: {\n    icon: String,\n    scale: String,\n    variant: String,\n  },\n  name: 'HoverIcon',\n  data() {\n    return {\n      isHovering: false as boolean,\n    }\n  },\n  methods: {\n    getSuffix(): string {\n      return (!this.isHovering || this.icon.slice(-5) === '-fill') ? '' : '-fill'\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HoverIcon.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HoverIcon.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HoverIcon.vue?vue&type=template&id=66868936&\"\nimport script from \"./HoverIcon.vue?vue&type=script&lang=ts&\"\nexport * from \"./HoverIcon.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport WanikaniWidget from './WanikaniWidget.vue'\nimport BasicWidget from './BasicWidget.vue'\nimport HoverIcon from '@/components/utils/HoverIcon.vue'\nimport { WidgetData } from '@/types/generalTypes'\nimport dropbox from '@/utils/dropbox'\n\nexport default Vue.extend({\n  name: 'WidgetList',\n  props: {\n    refreshTrigger: String,\n  },\n  components: {\n    wanikaniWidget: WanikaniWidget,\n    basicWidget: BasicWidget,\n    hoverIcon: HoverIcon,\n  },\n  data() {\n    return {\n      allWidgets: [\n        {\n          id: 'wanikani',\n          name: 'WaniKani',\n          description: 'Do your reviews!'\n        },\n        {\n          id: 'test',\n          name: 'Test Widget',\n          description: 'Don\\'t have enough widgets defined yet so here\\'s just a sample'\n        },\n        {\n          id: 'test2',\n          name: 'Test Widget 2',\n          description: 'Another sample widget. Doesn\\'t do much'\n        },\n      ] as WidgetData[],\n      displayedWidgets: [] as WidgetData[],\n    }\n  },\n  watch: {\n    '$store.state.userWidgets': function() {\n      this.syncWithStore()\n    }\n  },\n  created() {\n    this.syncWithStore()\n  },\n  methods: {\n    syncWithStore() {\n      this.displayedWidgets = this.$store.state.userWidgets.map((id: string): WidgetData | undefined => {\n        return this.allWidgets.find((w: WidgetData) => w.id === id)\n      }).filter((w: WidgetData | undefined) => w !== undefined)\n    },\n    addWidget(idx: number) {\n      this.displayedWidgets.push(this.allWidgets[idx])\n    },\n    removeWidget(idx: number) {\n      this.displayedWidgets.splice(idx, 1)\n    },\n    undoChanges() {\n      this.syncWithStore()\n      this.closeModal()\n    },\n    openModal() {\n      this.$bvModal.show('settingsModal')\n    },\n    closeModal() {\n      this.$bvModal.hide('settingsModal')\n    },\n    async onModalClose() {\n      // update store and save changes to Dropbox\n      this.$store.dispatch('updateUserWidgets', this.displayedWidgets.map(w => w.id))\n      await dropbox.saveSettings()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WidgetList.vue?vue&type=template&id=c941bd92&scoped=true&\"\nimport script from \"./WidgetList.vue?vue&type=script&lang=ts&\"\nexport * from \"./WidgetList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WidgetList.vue?vue&type=style&index=0&id=c941bd92&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c941bd92\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport ScrollToRefresh from '@/components/utils/ScrollToRefresh.vue'\nimport WidgetList from '@/components/WidgetList.vue'\nimport dropbox from '@/utils/dropbox'\n\nexport default Vue.extend({\n  name: \"Home\",\n  components: {\n    widgetList: WidgetList,\n    scrollToRefresh: ScrollToRefresh,\n  },\n  data() {\n    return {\n      doRefresh: false as boolean,\n      refreshKey: '' as string,\n      isLoading: false as boolean,\n    };\n  },\n  methods: {\n    async handleRefresh(key: string) {\n      this.isLoading = true\n\n      this.refreshKey = key\n      await dropbox.reloadAll()\n\n      this.isLoading = false\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=b1b4c2ca&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('scroll-to-refresh',{attrs:{\"is-loading\":_vm.isLoading},on:{\"refresh\":_vm.handleRefresh}}),(_vm.watchlist)?_c('div',{attrs:{\"id\":\"all-sections-container\"}},[_c('div',{attrs:{\"id\":\"buttons-container\"}},[_c('icon-button',{attrs:{\"icon\":'collection'},on:{\"click\":function($event){return _vm.openCatalog()}}})],1),_c('div',{attrs:{\"id\":\"active-sections-container\"}},[_c('div',{attrs:{\"id\":\"currently-watching-section\"}},[_vm._v(\" Currently Watching \")]),_c('div',{attrs:{\"id\":\"main-live-container\"}},[_c('div',{attrs:{\"id\":\"main-list\"}},[_c('watchlist-section',{attrs:{\"list-type\":'main'},on:{\"add-item\":function($event){return _vm.selectCatalogEntry('main')},\"mark-item-completed\":_vm.showMarkCompletedOptions,\"demote-item\":_vm.demoteItem,\"remove-item\":_vm.promptConfirmRemoveItem},model:{value:(_vm.watchlist.main),callback:function ($$v) {_vm.$set(_vm.watchlist, \"main\", $$v)},expression:\"watchlist.main\"}})],1),_c('div',{attrs:{\"id\":\"live-list\"}},[_c('watchlist-section',{attrs:{\"list-type\":'live'},on:{\"add-item\":function($event){return _vm.selectCatalogEntry('live')},\"mark-item-completed\":_vm.showMarkCompletedOptions,\"promote-item\":_vm.promoteItem,\"demote-item\":_vm.demoteItem,\"remove-item\":_vm.promptConfirmRemoveItem,\"irregular-seasons-updated\":function($event){return _vm.loadWatchlist()}},model:{value:(_vm.watchlist.live),callback:function ($$v) {_vm.$set(_vm.watchlist, \"live\", $$v)},expression:\"watchlist.live\"}})],1)])]),_c('div',{attrs:{\"id\":\"inactive-sections-container\"}},[_c('div',{attrs:{\"id\":\"queue-list\"}},[_c('watchlist-section',{attrs:{\"list-type\":'queue'},on:{\"add-item\":function($event){return _vm.selectCatalogEntry('queue')},\"promote-item\":_vm.promoteItem,\"remove-item\":_vm.promptConfirmRemoveItem,\"reorder\":_vm.onReorderList},model:{value:(_vm.watchlist.queue),callback:function ($$v) {_vm.$set(_vm.watchlist, \"queue\", $$v)},expression:\"watchlist.queue\"}})],1),_c('div',{attrs:{\"id\":\"upcoming-list\"}},[_c('watchlist-section',{attrs:{\"list-type\":'upcoming'},on:{\"add-item\":function($event){return _vm.selectCatalogEntry('upcoming')},\"promote-item\":_vm.promoteItem,\"remove-item\":_vm.promptConfirmRemoveItem,\"irregular-seasons-updated\":function($event){return _vm.loadWatchlist()}},model:{value:(_vm.watchlist.upcoming),callback:function ($$v) {_vm.$set(_vm.watchlist, \"upcoming\", $$v)},expression:\"watchlist.upcoming\"}})],1),_c('div',{attrs:{\"id\":\"backlog-list\"}},[_c('watchlist-section',{attrs:{\"list-type\":'backlog'},on:{\"add-item\":function($event){return _vm.selectCatalogEntry('backlog')},\"promote-item\":_vm.promoteItem,\"remove-item\":_vm.promptConfirmRemoveItem,\"reorder\":_vm.onReorderList},model:{value:(_vm.watchlist.backlog),callback:function ($$v) {_vm.$set(_vm.watchlist, \"backlog\", $$v)},expression:\"watchlist.backlog\"}})],1)])]):_vm._e(),_c('catalog-modal',{attrs:{\"id\":\"catalogModal\",\"selection-target-list\":_vm.targetListName},on:{\"item-selected\":_vm.addCatalogItemToList,\"hidden\":function($event){return _vm.resetTargets()}}}),_c('b-modal',{attrs:{\"id\":\"markCompletedModal\",\"title\":\"Marking Season Completed\",\"size\":\"md\",\"centered\":\"\",\"ok-title\":\"Confirm\"},on:{\"ok\":_vm.markSeasonCompleted,\"hide\":_vm.onModalHide}},[_c('watchlist-item',{attrs:{\"parent-list\":\"main\",\"season-view\":_vm.targetSeasonView,\"is-read-only\":true}}),_c('ul',{attrs:{\"id\":\"mark-completed-options\"}},[(_vm.targetShowSeason)?_c('li',{class:{ 'selected': _vm.doNextSeasonToQueue },on:{\"click\":function($event){$event.preventDefault();_vm.doNextSeasonToQueue = !_vm.doNextSeasonToQueue}}},[_c('b-form-checkbox',{model:{value:(_vm.doNextSeasonToQueue),callback:function ($$v) {_vm.doNextSeasonToQueue=$$v},expression:\"doNextSeasonToQueue\"}},[_vm._v(\" Add next season to Queue: \")]),_c('watchlist-item',{attrs:{\"show-season\":_vm.targetShowSeason,\"is-read-only\":true}})],1):_vm._e(),(_vm.targetNextQueueItem)?_c('li',{class:{ 'selected': _vm.doPopQueueToMain },on:{\"click\":function($event){$event.preventDefault();_vm.doPopQueueToMain = !_vm.doPopQueueToMain}}},[_c('b-form-checkbox',{model:{value:(_vm.doPopQueueToMain),callback:function ($$v) {_vm.doPopQueueToMain=$$v},expression:\"doPopQueueToMain\"}},[_vm._v(\" Move next item from Queue to Main: \")]),_c('watchlist-item',{attrs:{\"season-view\":_vm.targetNextQueueItem,\"is-read-only\":true}})],1):_vm._e()])],1),_c('b-modal',{attrs:{\"id\":\"confirmRemoveModal\",\"title\":'Drop ' + (_vm.targetListName === 'backlog' ? 'show' : 'season') + '?',\"size\":\"md\",\"centered\":\"\",\"ok-title\":\"Confirm\",\"ok-variant\":\"danger\"},on:{\"ok\":_vm.removeItem,\"hide\":_vm.onModalHide}},[_c('watchlist-item',{attrs:{\"parent-list\":_vm.targetListName,\"season-view\":_vm.targetSeasonView,\"show-season\":_vm.targetShowSeason,\"show-info\":_vm.targetShowInfo,\"is-read-only\":true}}),_vm._v(\" The season will be \"+_vm._s(_vm.targetSeasonView ? 'marked as Dropped and' : '')+\" removed from \"+_vm._s(_vm.targetListName === 'queue' || _vm.targetListName === 'backlog' ? 'the ' : '')+_vm._s(_vm._f(\"toTitleCase\")(_vm.targetListName))+\". \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',_vm._b({attrs:{\"title\":_vm.selectMode ? ('Select a ' + _vm.selectMode + ':') : 'Catalog',\"centered\":\"\",\"scrollable\":\"\"},on:{\"hidden\":function($event){return _vm.onModalClose()}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('b-button',{staticStyle:{\"padding\":\"6px\",\"border\":\"none\",\"line-height\":\"20px\"},attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.createNewEntry()}}},[_c('b-icon',{attrs:{\"icon\":\"plus\",\"variant\":\"light\",\"font-scale\":\"1.5\"}})],1),(_vm.selectionTargetList)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\",\"disabled\":!_vm.selectedItemId},on:{\"click\":function($event){return _vm.chooseItem()}}},[_vm._v(\" Select \"+_vm._s(_vm._f(\"toTitleCase\")(_vm.selectMode))+\" \")]):_vm._e(),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-success\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\" \"+_vm._s(_vm.selectionTargetList ? 'Cancel' : 'Close')+\" \")])],1)]}}])},'b-modal',_vm.$attrs,false),[_c('div',{attrs:{\"id\":\"catalog-search\"}},[_c('b-form-input',{attrs:{\"type\":\"search\",\"debounce\":\"350\",\"placeholder\":\"Search\"},on:{\"update\":_vm.searchTMDB},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}})],1),(!_vm.catalog || _vm.catalog.length === 0)?_c('div',[_vm._v(\" There are no items in the catalog. \")]):_vm._e(),_vm._l((_vm.filteredCatalog),function(show,idx){return _c('div',{key:idx,staticClass:\"show-entry\"},[_c('div',{class:[\n          'show-info',\n          { 'selected-item': show.id === _vm.selectedItemId }\n        ],on:{\"click\":function($event){return _vm.selectShow(show.id)}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\"}},[_c('thumbnail-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"link\":_vm.getShowImageLink(show),\"colorSeed\":show.id,\"height\":90}}),_c('div',{staticClass:\"show-details\"},[_c('div',[_c('h4',[_vm._v(_vm._s(show.title))]),(show.altTitle)?_c('div',{staticClass:\"alt-title\"},[_vm._v(\" \"+_vm._s(show.altTitle)+\" \")]):_vm._e()]),(show.seasonCount)?_c('div',[_vm._v(\" \"+_vm._s(_vm.tools.pluralFormat(show.seasonCount, 'season'))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.getTotalEpisodeCount(show))+\" total episodes \")])])],1),_c('div',{staticClass:\"show-icons\"},[_c('div',{staticStyle:{\"font-size\":\"1.5em\",\"font-weight\":\"bold\",\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(show.isAnime ? '' : '')+\" \")]),_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.editShowEntry(idx)}}},[_c('hover-icon',{attrs:{\"icon\":\"pencil\",\"scale\":\"1.75\",\"variant\":\"secondary\"}})],1),(_vm.selectMode !== 'show')?_c('hover-icon',{style:('transition: transform 0.2s;' + ((_vm.expandedShowId === show.id) ? 'transform: rotate(90deg)' : '')),attrs:{\"icon\":'caret-right' + ((_vm.expandedShowId === show.id) ? '-fill' : ''),\"scale\":\"1.75\",\"variant\":\"secondary\"}}):_vm._e()],1)]),_c('b-collapse',{attrs:{\"id\":show.id,\"accordion\":\"show-accordion\"}},[_c('div',{staticClass:\"seasons-section\"},_vm._l((show.seasons),function(season,sznIdx){return _c('div',{key:idx + '-' + sznIdx,class:[\n              'show-info',\n              'show-season',\n              { 'selected-item': season.id === _vm.selectedItemId }\n            ],on:{\"click\":function($event){return _vm.selectSeason(season.id)}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\"}},[(show.seasons.some(function (s) { return s.imgLink; }))?_c('thumbnail-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"link\":_vm.getSeasonImageLink(show, sznIdx),\"doFaded\":!season.imgLink,\"colorSeed\":season.id,\"height\":80}}):_vm._e(),_c('div',{staticClass:\"season-details\"},[_c('h5',[_vm._v(\" \"+_vm._s(\"Season \" + (season.seasonNumber) + (season.name ? (\": \" + (season.name)) : ''))+\" \")]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"flex-end\"}},[_c('div',[(season.totalEpisodeCount)?_c('div',[_vm._v(\" \"+_vm._s(_vm.tools.pluralFormat(season.totalEpisodeCount, 'episode'))+\" \")]):_vm._e(),(season.startDate || season.endDate)?_c('div',[_vm._v(\" Aired \"+_vm._s(_vm._f(\"formatDate\")(season.startDate))+\" \"),(season.startDate !== season.endDate)?_c('span',[_vm._v(\" - \"+_vm._s(_vm._f(\"formatDate\")(season.endDate))+\" \")]):_vm._e()]):_vm._e()]),(season.airingYear && season.airingSeason)?_c('div',[_c('b',[_vm._v(_vm._s(season.airingYear + ' ' + season.airingSeason))])]):_vm._e()])])],1)])}),0)])],1)}),(_vm.tmdbShowResults.length > 0)?_c('div',{attrs:{\"id\":\"tmdb-results\"}},[_c('h3',[_vm._v(\" Add from \"),_c('div',{staticStyle:{\"display\":\"inline-flex\"}},[_c('img',{staticStyle:{\"height\":\"24px\"},attrs:{\"src\":\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\"}})])]),_c('div',{staticStyle:{\"margin\":\"-8px 0 8px\",\"font-size\":\"7.75px\",\"color\":\"#666\"}},[_vm._v(\" BushuApp uses TMDB and the TMDB APIs but is not endorsed, certified, or otherwise approved by TMDB. \")]),_vm._l((_vm.tmdbShowResults),function(show){return _c('div',{key:show.id,staticClass:\"tmdb-show\"},[_c('thumbnail-image',{attrs:{\"link\":show.imgLink,\"height\":75,\"colorSeed\":'0d253f'}}),_c('div',{staticClass:\"tmdb-show-text\"},[_c('div',[_vm._v(_vm._s(show.title))]),(show.altTitle)?_c('div',[_vm._v(\" \"+_vm._s(show.altTitle)+\" \")]):_vm._e()])],1)})],2):_vm._e()],2),_c('show-info-edit-modal',{attrs:{\"id\":\"editModal\",\"isNewShow\":_vm.editingShowId === ''},on:{\"save-changes\":_vm.saveShowEntry},model:{value:(_vm.editingShowInfo),callback:function ($$v) {_vm.editingShowInfo=$$v},expression:\"editingShowInfo\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',_vm._b({attrs:{\"title\":_vm.modalTitle,\"centered\":\"\",\"scrollable\":\"\"},on:{\"show\":function($event){return _vm.loadValue()}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('b-button',{staticStyle:{\"width\":\"30%\"},on:{\"click\":function($event){return _vm.closeModal()}}},[_vm._v(\" Cancel \")]),_c('b-button',{staticStyle:{\"width\":\"60%\"},attrs:{\"variant\":\"outline-success\",\"disabled\":!_vm.isChanged},on:{\"click\":function($event){return _vm.checkValidity()}}},[_vm._v(\" Save \")])],1)]},proxy:true}])},'b-modal',_vm.$attrs,false),[_c('div',[_c('b-form',{attrs:{\"id\":\"show-info-form\"}},[_c('div',{staticClass:\"show-entry\"},[_c('div',{staticClass:\"show-info\"},[_c('b-container',[_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('label',{attrs:{\"for\":\"form-title\"}},[_vm._v(\"Title:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":\"form-title\",\"type\":\"text\",\"required\":\"\"},model:{value:(_vm.showData.title),callback:function ($$v) {_vm.$set(_vm.showData, \"title\", $$v)},expression:\"showData.title\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('label',{attrs:{\"for\":\"form-alt-title\"}},[_vm._v(\"Alt title:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":\"form-alt-title\",\"type\":\"text\"},model:{value:(_vm.showData.altTitle),callback:function ($$v) {_vm.$set(_vm.showData, \"altTitle\", $$v)},expression:\"showData.altTitle\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('label',{attrs:{\"for\":\"form-season-count\"}},[_vm._v(\"Total seasons:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":\"form-season-count\",\"type\":\"number\"},model:{value:(_vm.showData.seasonCount),callback:function ($$v) {_vm.$set(_vm.showData, \"seasonCount\", _vm._n($$v))},expression:\"showData.seasonCount\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('label',{attrs:{\"for\":\"form-img-link\"}},[_vm._v(\"Image link:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":\"form-img-link\",\"type\":\"text\"},model:{value:(_vm.showData.imgLink),callback:function ($$v) {_vm.$set(_vm.showData, \"imgLink\", $$v)},expression:\"showData.imgLink\"}})],1)],1),_c('b-row',[_c('b-col',[_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"5\"}},[_c('label',{attrs:{\"for\":\"form-anime\"}},[_vm._v(\"Anime?\")])]),_c('b-col',{attrs:{\"cols\":\"*\"}},[_c('b-form-checkbox',{attrs:{\"id\":\"form-anime\",\"switch\":\"\"},model:{value:(_vm.showData.isAnime),callback:function ($$v) {_vm.$set(_vm.showData, \"isAnime\", $$v)},expression:\"showData.isAnime\"}})],1)],1),(_vm.showData.isAnime)?_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"*\"}},[_c('label',{attrs:{\"for\":\"form-show-episode-count\"}},[_vm._v(\"Count total episodes?\")])]),_c('b-col',{attrs:{\"cols\":\"*\"}},[_c('b-form-checkbox',{attrs:{\"id\":\"form-show-episode-count\",\"switch\":\"\"},model:{value:(_vm.showData.doEpisodeCountOverall),callback:function ($$v) {_vm.$set(_vm.showData, \"doEpisodeCountOverall\", $$v)},expression:\"showData.doEpisodeCountOverall\"}})],1)],1):_vm._e()],1),_c('b-col',{style:(_vm.showData.imgLink ? '' : 'visibility: hidden'),attrs:{\"cols\":\"*\"}},[_c('div',{staticClass:\"thumbnail-sample season-color\"},[_c('thumbnail-image',{attrs:{\"link\":_vm.showData.imgLink,\"colorSeed\":_vm.showData.id,\"height\":64}})],1)])],1)],1)],1),_c('div',{staticClass:\"seasons-section\"},[_vm._l((_vm.showData.seasons),function(season,idx){return _c('div',{key:idx,staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"flex-end\"}},[_c('div',{staticClass:\"delete-button\",on:{\"click\":function($event){return _vm.deleteSeason(idx)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1),_c('div',{staticClass:\"show-season-edit\"},[_c('b-container',[_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-number\")}},[_vm._v(\"Season #:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":(\"form-szn-\" + idx + \"-number\"),\"type\":\"number\",\"step\":\"0.1\",\"required\":\"\"},model:{value:(season.seasonNumber),callback:function ($$v) {_vm.$set(season, \"seasonNumber\", _vm._n($$v))},expression:\"season.seasonNumber\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-name\")}},[_vm._v(\"Season name:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":(\"form-szn-\" + idx + \"-name\"),\"type\":\"text\"},model:{value:(season.name),callback:function ($$v) {_vm.$set(season, \"name\", $$v)},expression:\"season.name\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-episode-count\")}},[_vm._v(\"Episode count:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":(\"form-szn-\" + idx + \"-episode-count\"),\"type\":\"number\"},model:{value:(season.totalEpisodeCount),callback:function ($$v) {_vm.$set(season, \"totalEpisodeCount\", _vm._n($$v))},expression:\"season.totalEpisodeCount\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-start-date\")}},[_vm._v(\"Start date:\")])]),_c('b-col',[_c('b-datepicker',{attrs:{\"id\":(\"form-szn-\" + idx + \"-start-date\"),\"show-decade-nav\":\"\",\"label-help\":''},model:{value:(season.startDate),callback:function ($$v) {_vm.$set(season, \"startDate\", $$v)},expression:\"season.startDate\"}})],1)],1),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-end-date\")}},[_vm._v(\"End date:\")])]),_c('b-col',[_c('b-datepicker',{attrs:{\"id\":(\"form-szn-\" + idx + \"-end-date\"),\"show-decade-nav\":\"\",\"label-help\":''},model:{value:(season.endDate),callback:function ($$v) {_vm.$set(season, \"endDate\", $$v)},expression:\"season.endDate\"}})],1)],1),(_vm.showData.isAnime)?_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-airing-szn\")}},[_vm._v(\"Season aired:\")])]),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-form-radio-group',{attrs:{\"id\":(\"form-szn-\" + idx + \"-airing-szn\"),\"options\":[ '', '', '', '' ],\"buttons\":\"\",\"size\":\"sm\"},model:{value:(season.airingSeason),callback:function ($$v) {_vm.$set(season, \"airingSeason\", $$v)},expression:\"season.airingSeason\"}})],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-form-input',{attrs:{\"id\":(\"form-szn-\" + idx + \"-airing-year\"),\"type\":\"number\"},model:{value:(season.airingYear),callback:function ($$v) {_vm.$set(season, \"airingYear\", _vm._n($$v))},expression:\"season.airingYear\"}})],1)],1):_vm._e(),_c('b-form-row',[_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('label',{attrs:{\"for\":(\"form-szn-\" + idx + \"-img-link\")}},[_vm._v(\"Image link:\")])]),_c('b-col',[_c('b-form-input',{attrs:{\"id\":(\"form-szn-\" + idx + \"-img-link\"),\"type\":\"text\"},model:{value:(season.imgLink),callback:function ($$v) {_vm.$set(season, \"imgLink\", $$v)},expression:\"season.imgLink\"}})],1)],1),(season.imgLink)?_c('div',{staticClass:\"thumbnail-sample show-color\"},[_c('thumbnail-image',{attrs:{\"link\":season.imgLink,\"colorSeed\":season.id,\"height\":64}})],1):_vm._e()],1)],1)])}),_c('div',{staticClass:\"add-season-button\",on:{\"click\":function($event){return _vm.addSeason()}}},[_c('b-icon',{attrs:{\"icon\":\"plus\",\"font-scale\":\"2\",\"variant\":\"light\"}})],1)],2)])])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.sizeStyle + _vm.colorStyle)},[_c('b-img-lazy',{style:(_vm.sizeStyle + (_vm.doFaded ? 'opacity: 0.6;' : '') + (_vm.link ? '' : 'visibility: hidden;')),attrs:{\"src\":_vm.link}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'ThumbnailImage',\n  props: {\n    link: {\n      type: String,\n    },\n    colorSeed: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    height: {\n      type: Number,\n    },\n    doFaded: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  computed: {\n    sizeStyle(): string {\n      if (this.height) {\n        return `height: ${this.height}px; width: ${this.height * 2 / 3}px; min-width: ${this.height * 2 / 3}px;`\n      }\n      return ''\n    },\n    colorStyle(): string {\n      if (this.colorSeed.length >= 6) {\n        return `background-color: #${this.colorSeed.slice(-6)};`\n      }\n      return 'background-color: #6c757d;'\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ThumbnailImage.vue?vue&type=template&id=7e778620&\"\nimport script from \"./ThumbnailImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ThumbnailImage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport tools from '@/utils/tools';\nimport { ShowInfo, ShowSeason } from '@/types/watchlistTypes'\nimport ThumbnailImage from '@/components/utils/ThumbnailImage.vue'\n\nexport default Vue.extend({\n  name: 'ShowInfoEditModal',\n  components: {\n    thumbnailImage: ThumbnailImage,\n  },\n  props: {\n    value: {\n      required: true,\n      type: Object as PropType<ShowInfo>,\n    },\n    isNewShow: {\n      required: true,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      showData: {} as ShowInfo,\n      originalData: {} as ShowInfo,\n    };\n  },\n  watch: {\n    value() {\n      this.loadValue()\n    },\n  },\n  computed: {\n    modalTitle(): string {\n      if (this.isNewShow) {\n        return 'Create New Show'\n      }\n      return 'Edit Show Info' + (this.showData.title ? (': ' + this.showData.title) : '')\n    },\n    isChanged(): boolean {\n      let isShowDataChanged = this.showData.id !== this.originalData.id ||\n                              this.showData.title !== this.originalData.title ||\n                              this.showData.altTitle !== this.originalData.altTitle ||\n                              this.showData.imgLink !== this.originalData.imgLink ||\n                              this.showData.isAnime !== this.originalData.isAnime ||\n                              this.showData.doEpisodeCountOverall !== this.originalData.doEpisodeCountOverall ||\n                              this.showData.seasonCount !== this.originalData.seasonCount\n      let isSznDataChanged = false\n      if (this.showData.seasons && this.originalData.seasons) {\n        isSznDataChanged = this.showData.seasons.length !== this.originalData.seasons.length ||\n                           this.showData.seasons.some((szn: ShowSeason, idx: number) => {\n                             return szn.id !== this.originalData.seasons[idx].id ||\n                                    szn.showId !== this.originalData.seasons[idx].showId ||\n                                    szn.seasonNumber !== this.originalData.seasons[idx].seasonNumber ||\n                                    szn.name !== this.originalData.seasons[idx].name ||\n                                    szn.totalEpisodeCount !== this.originalData.seasons[idx].totalEpisodeCount ||\n                                    szn.startDate !== this.originalData.seasons[idx].startDate ||\n                                    szn.endDate !== this.originalData.seasons[idx].endDate ||\n                                    szn.airingSeason !== this.originalData.seasons[idx].airingSeason ||\n                                    szn.airingYear !== this.originalData.seasons[idx].airingYear ||\n                                    szn.imgLink !== this.originalData.seasons[idx].imgLink\n                           })\n      }\n      return isShowDataChanged || isSznDataChanged\n    },\n  },\n  methods: {\n    deleteSeason(idx: number) {\n      this.showData.seasons.splice(idx, 1)\n    },\n    addSeason() {\n      let previousSznNumber = 0\n      if (this.showData.seasons.length > 0) {\n        previousSznNumber = this.showData.seasons[this.showData.seasons.length - 1].seasonNumber\n      }\n      this.showData.seasons.push({\n        id: tools.getGUID(),\n        showId: this.showData.id,\n        seasonNumber: Math.floor(previousSznNumber + 1)\n      })\n    },\n    loadValue() {\n      this.showData = tools.deepClone(this.value)\n      this.originalData = tools.deepClone(this.value)\n    },\n    syncModel() {\n      this.$emit('input', this.showData)\n    },\n    checkValidity() {\n      let form = document.getElementById('show-info-form') as HTMLFormElement\n      let isValid = form.reportValidity()\n      if (isValid) {\n        this.saveChanges()\n      }\n    },\n    saveChanges() {\n      this.showData.seasons.sort((a, b) => a.seasonNumber - b.seasonNumber)\n      this.syncModel()\n      this.$emit('save-changes')\n      this.closeModal()\n    },\n    closeModal() {\n      this.$bvModal.hide('editModal')\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowInfoEditModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowInfoEditModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShowInfoEditModal.vue?vue&type=template&id=29c4afef&scoped=true&\"\nimport script from \"./ShowInfoEditModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShowInfoEditModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShowInfoEditModal.vue?vue&type=style&index=0&id=29c4afef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29c4afef\",\n  null\n  \n)\n\nexport default component.exports","import axios, { AxiosError } from \"axios\"\nimport { ResponsePage, TVDetails } from \"@/utils/services/externalTypes/tmdbTypes\"\nimport { ShowInfo } from \"@/types/watchlistTypes\"\n\n// ok to expose the API token since it's a free service anyways - see https://www.themoviedb.org/talk/5b6b0e08925141406a1134de\nconst publicToken = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3NmFmNWI3MzVlZmU3ZTkzOGI4MGJkMGY1OTg4YzAxZSIsIm5i' +\n                    'ZiI6MTcxOTc4MjYyOC4yNzM4NzcsInN1YiI6IjY2ODFjNmUyYWYzMzg4NzQyMGVmNDg4OCIsInNjb3Blc' +\n                    'yI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4lJ_Smt237V-SToqhuMDGEGwmSLqM7Wb55fA0c5L7FI'\n\nconst logoPrimaryFullURL = 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg'\nconst logoAltShortURL = 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg'\n\nfunction getBearerToken(): string {\n  return `Bearer ${publicToken}`\n}\n\nfunction getImageURL(path: string | undefined): string | undefined {\n  return path ? `https://image.tmdb.org/t/p/w342${path}` : undefined\n}\n\nfunction resolveImageURL(url: string | undefined): string {\n  return url ?? logoPrimaryFullURL\n}\n\nasync function getSearchRequest<T>(searchString: string, isMovie = false): Promise<ResponsePage<T>> {\n  let searchURL = 'https://api.themoviedb.org/3/search/'\n  searchURL += isMovie ? 'movie' : 'tv'\n  searchURL += `?query=${encodeURIComponent(searchString)}`\n\n  try {\n    const response = await axios.get(searchURL, {\n      headers: {\n        'Authorization': getBearerToken(),\n        'accept': 'application/json',\n      },\n    })\n    return response.data\n\n  } catch (error) {\n    const e = error as AxiosError\n    throw(e)\n  }\n}\nexport default {\n  async searchTVShows(searchString: string): Promise<ShowInfo[]> {\n    const apiResponse: ResponsePage<TVDetails> = await getSearchRequest<TVDetails>(searchString)\n\n    return apiResponse.results.map((d: TVDetails) => {\n      return {\n        id: d.id.toString(),\n        title: d.name,\n        altTitle: (d.original_language !== 'en' && d.original_name) ? d.original_name : undefined,\n        isAnime: d.origin_country?.includes('JP') && d.genre_ids?.includes(16),\n        imgLink: resolveImageURL(getImageURL(d.poster_path)),\n        seasons: [],\n      }\n    })\n  },\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { ShowInfo, ShowSeason } from '@/types/watchlistTypes'\nimport tools from '@/utils/tools'\nimport HoverIcon from '@/components/utils/HoverIcon.vue'\nimport ShowInfoEditModal from '@/components/Watchlist/ShowInfoEditModal.vue'\nimport ThumbnailImage from '@/components/utils/ThumbnailImage.vue'\nimport TMDBService from '@/utils/services/TMDBService'\n\nexport default Vue.extend({\n  name: 'CatalogModal',\n  components: {\n    showInfoEditModal: ShowInfoEditModal,\n    hoverIcon: HoverIcon,\n    thumbnailImage: ThumbnailImage,\n  },\n  props: {\n    selectionTargetList: {\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      catalog: [] as ShowInfo[],\n      expandedShowId: '' as string,\n      editingShowInfo: {} as ShowInfo,\n      editingShowId: '' as string,\n      selectedItemId: '' as string,\n      searchString: '' as string,\n      tmdbShowResults: [] as ShowInfo[],\n      tools,\n    };\n  },\n  computed: {\n    isReady(): boolean {\n      return !this.$store.state.watchlist.isLoading\n    },\n    selectMode(): string | null {\n      if (this.selectionTargetList == undefined) {\n        return null\n      } else if (this.selectionTargetList === 'backlog') {\n        return 'show'\n      }\n      return 'season'\n    },\n    filteredCatalog(): ShowInfo[] {\n      if (this.searchString === '') {\n        return this.catalog\n      }\n      return this.catalog.filter((s: ShowInfo) => {\n        return s.title.toLowerCase().includes(this.searchString.toLowerCase())\n      })\n    },\n  },\n  watch: {\n    isReady(isReady: boolean) {\n      if (isReady) {\n        this.loadData()\n      }\n    },\n  },\n  created() {\n    this.loadData()\n\n    this.$root.$on('bv::collapse::state', (showId: string, isShown: boolean) => {\n      if (isShown) {\n        this.expandedShowId = showId\n      } else if (this.expandedShowId === showId) {\n        this.expandedShowId = '';\n      }\n    })\n  },\n  methods: {\n    loadData() {\n      if (this.isReady) {\n        this.catalog = this.$store.state.watchlist.catalog\n      }\n    },\n    toggleShow(showId: string) {\n      this.$root.$emit('bv::toggle::collapse', showId)\n    },\n    selectShow(showId: string) {\n      if (this.selectMode === 'show') {\n        this.selectedItemId = (this.selectedItemId === showId) ? '' : showId\n      } else {\n        this.toggleShow(showId)\n      }\n    },\n    selectSeason(seasonId: string) {\n      if (this.selectMode === 'season') {\n        this.selectedItemId = (this.selectedItemId === seasonId) ? '' : seasonId\n      }\n    },\n    chooseItem() {\n      if (this.selectMode === 'show') {\n        const selectedShow = this.catalog.find((show: ShowInfo) => show.id === this.selectedItemId)\n        if (selectedShow) {\n          this.$emit('item-selected', selectedShow, this.selectionTargetList)\n        }\n      } else if (this.selectMode === 'season') {\n        for (let i = 0; i < this.catalog.length; i++) {\n          let show = this.catalog[i]\n          for (let j = 0; j < show.seasons.length; j++) {\n            if (show.seasons[j].id === this.selectedItemId) {\n              const selectedSeason = show.seasons[j]\n              this.$emit('item-selected', selectedSeason, this.selectionTargetList)\n              return\n            }\n          }\n        }\n      }\n      \n    },\n    getTotalEpisodeCount(show: ShowInfo): number {\n      return show.seasons.reduce((sum: number, s: ShowSeason) => {\n        return sum + (s.totalEpisodeCount ? s.totalEpisodeCount : 0)\n      }, 0)\n    },\n    getShowImageLink(show: ShowInfo): string {\n      return this.$store.getters.getShowImageLink(show)\n    },\n    getSeasonImageLink(show: ShowInfo, sznIdx: number): string {\n      if (show.seasons[sznIdx].imgLink) {\n        return show.seasons[sznIdx].imgLink!\n      }\n      return this.getShowImageLink(show)\n    },\n    createNewEntry() {\n      this.editingShowId = ''\n      this.editingShowInfo = {\n        id: tools.getGUID(),\n        title: '',\n        seasons: [],\n      }\n      this.openEditModal()\n    },\n    editShowEntry(idx: number) {\n      this.editingShowInfo = tools.deepClone<ShowInfo>(this.filteredCatalog[idx])\n      this.editingShowId = this.editingShowInfo.id\n      this.openEditModal()\n    },\n    async saveShowEntry() {\n      let updatedShowIdx = this.catalog.findIndex((s: ShowInfo) => s.id === this.editingShowId)\n      if (updatedShowIdx === -1) {\n        // add data as new entry\n        this.catalog.push(this.editingShowInfo)\n      } else {\n        // update existing entry\n        this.catalog[updatedShowIdx] = this.editingShowInfo\n      }\n      this.catalog.sort((a, b) => {\n        const titleA = a.title.toLowerCase().split(/^the /).reverse()[0]\n        const titleB = b.title.toLowerCase().split(/^the /).reverse()[0]\n        return titleA.localeCompare(titleB)\n      })\n      await this.$store.dispatch('updateCatalog', this.catalog)\n    },\n    async searchTMDB(searchStr: string) {\n      if (searchStr === '') {\n        this.tmdbShowResults = []\n      } else {\n        this.tmdbShowResults = await TMDBService.searchTVShows(searchStr) \n      }\n    },\n    openEditModal() {\n      this.$bvModal.show('editModal')\n    },\n    closeEditModal() {\n      this.$bvModal.hide('editModal')\n    },\n    onModalClose() {\n      this.selectedItemId = ''\n      this.searchString = ''\n      this.$emit('hidden')\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CatalogModal.vue?vue&type=template&id=515c93c2&scoped=true&\"\nimport script from \"./CatalogModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./CatalogModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CatalogModal.vue?vue&type=style&index=0&id=515c93c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"515c93c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-button',{style:(_vm.paddingStyle),attrs:{\"id\":\"main-button\",\"variant\":_vm.variant ? _vm.variant : 'outline-secondary',\"pill\":\"\"},on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('b-icon',{staticStyle:{\"cursor\":\"pointer\",\"margin-bottom\":\"-2px\"},attrs:{\"icon\":_vm.icon,\"font-scale\":_vm.scale ? _vm.scale : '1'}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'IconButton',\n  props: {\n    icon: String,\n    scale: String,\n    variant: String,\n  },\n  computed: {\n    isMobile(): boolean {\n      return window.innerWidth < 992\n    },\n    paddingStyle(): string {\n      return `padding: ${this.isMobile ? '10px 14px 14px' : '12px 14px'}`\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IconButton.vue?vue&type=template&id=e9f07258&\"\nimport script from \"./IconButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./IconButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"full-item\"}},[_c('div',{attrs:{\"id\":\"item-details\"}},[_c('div',{attrs:{\"id\":\"info-section\"}},[_c('thumbnail-image',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"link\":_vm.imageLink,\"height\":100}}),_c('div',[(_vm.loadedShowInfo)?_c('div',{attrs:{\"id\":\"item-name\"}},[_c('span',[_vm._v(_vm._s(_vm.loadedShowInfo.title))]),(_vm.parentList !== 'backlog')?[(_vm.loadedShowSeason.name)?_c('span',[_vm._v(\" \"+_vm._s(_vm.loadedShowSeason.name)+\" \")]):_c('span',[_vm._v(\" Season \"+_vm._s(_vm.loadedShowSeason.seasonNumber)+\" \")])]:_vm._e()],2):_vm._e(),(_vm.editedSeasonView)?_c('div',{attrs:{\"id\":\"viewed-dates\"}},[(_vm.editedSeasonView.beganDate)?_c('div',[_vm._v(\" Started \"+_vm._s(_vm._f(\"formatDate\")(_vm.editedSeasonView.beganDate))+\" \")]):_vm._e(),(_vm.editedSeasonView.completedDate)?_c('div',[_vm._v(\" Completed \"+_vm._s(_vm._f(\"formatDate\")(_vm.editedSeasonView.completedDate))+\" \")]):_vm._e()]):_vm._e(),(_vm.parentList === 'upcoming' && _vm.loadedShowSeason)?_c('div',{attrs:{\"id\":\"release-date\"}},[_vm._v(\" Airing \"+_vm._s(_vm._f(\"formatDate\")(_vm.loadedShowSeason.startDate))+\" \")]):_vm._e()])],1),(_vm.doProgressBar && _vm.editedSeasonView && !_vm.isReadOnly)?_c('div',{key:_vm.rerenderKey,style:(_vm.getProgressBar()),attrs:{\"id\":\"progress-section\"}},[(_vm.editedSeasonView.beganDate)?_c('div',{staticClass:\"counts\"},[_c('span',{on:{\"click\":_vm.toggleEpisodeCountUnits}},[_vm._v(\" Progress: \")]),(!_vm.doManualProgressEdit)?_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.enableManualProgressEdit}},[_vm._v(\" \"+_vm._s(_vm.displayedEpisodeProgress ? _vm.displayedEpisodeProgress : '-')+\" \")]):_c('span',{staticStyle:{\"display\":\"inline-block\"}},[_c('b-form-input',{staticStyle:{\"width\":\"75px\",\"font-size\":\"0.8em\"},attrs:{\"type\":\"number\",\"max\":_vm.maxValidProgress,\"min\":_vm.minValidProgress,\"state\":_vm.isEditedProgressValid ? null : false,\"size\":\"sm\",\"inputmode\":\"numeric\",\"pattern\":\"[0-9]*\",\"autofocus\":\"\"},on:{\"blur\":_vm.saveManualProgressEdit,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveManualProgressEdit.apply(null, arguments)}},model:{value:(_vm.editedProgress),callback:function ($$v) {_vm.editedProgress=_vm._n($$v)},expression:\"editedProgress\"}})],1),_c('span',[_vm._v(\" / \")]),(!_vm.releaseSchedule || _vm.releaseSchedule.length === 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.displayedTotalEpisodeCount ? _vm.displayedTotalEpisodeCount : '?')+\" \")]):_c('div',{staticClass:\"live-episode-release-details\"},[_c('table',[_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.displayedAvailableEpisodeCount ? _vm.displayedAvailableEpisodeCount : '?')+\" \")]),_c('td',[_vm._v(\" available \")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.displayedTotalEpisodeCount ? _vm.displayedTotalEpisodeCount : '?')+\" \")]),_c('td',[_vm._v(\" total \")])])])]),(_vm.doEpisodeCountUnitsLabel)?_c('span',{key:_vm.doEpisodeCountOverall,staticClass:\"episode-count-units\"},[_vm._v(\" (\"+_vm._s(_vm.doEpisodeCountOverall ? 'Overall' : 'This season')+\") \")]):_vm._e()]):_vm._e(),(!_vm.editedSeasonView.beganDate)?_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"center\"}},[_c('div',{attrs:{\"id\":\"begin-watching-button\"},on:{\"click\":_vm.beginSeason}},[_vm._v(\" Begin watching \")])]):(!_vm.isSeasonProgressComplete && !_vm.isUpToDateWithLiveSeason)?_c('hover-icon',{attrs:{\"id\":\"increment-button\",\"icon\":\"plus-circle\",\"scale\":\"1.3\",\"variant\":\"light\"},on:{\"click\":function($event){return _vm.incrementProgress()}}}):_vm._e()],1):_vm._e(),(!_vm.isReadOnly && (_vm.itemMessages.length > 0 || _vm.itemButton))?_c('div',{attrs:{\"id\":\"modify-item-container\"}},[_vm._l((_vm.itemMessages),function(message,idx){return _c('div',{key:idx},[_vm._v(\" \"+_vm._s(message)+\" \")])}),(_vm.itemButton != null)?_c('div',{attrs:{\"id\":\"modify-item-button\"},on:{\"click\":function($event){return _vm.itemButton.action.apply(_vm.itemButton, _vm.itemButton.args)}}},[_vm._v(\" \"+_vm._s(_vm.itemButton.label)+\" \")]):_vm._e()],2):_vm._e()]),(!_vm.isReadOnly)?_c('div',{attrs:{\"id\":\"side-info\"}},[_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"text-decoration-none\",\"variant\":\"transparent\",\"size\":\"sm\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"three-dots-vertical\"}})]},proxy:true}],null,false,374507881)},[_vm._t(\"dropdown-items\",function(){return [(_vm.isPromotable)?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.promoteItem()}}},[_vm._v(\" Promote to \"+_vm._s(_vm.parentList === 'queue' ? 'Main' : 'Queue')+\" \")]):_vm._e(),(_vm.parentList === 'upcoming')?[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.promoteItem('live')}}},[_vm._v(\" Promote to Live \")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.promoteItem('main')}}},[_vm._v(\" Promote to Main \")])]:_vm._e(),(_vm.parentList === 'live')?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.promoteItem()}}},[_vm._v(\" Move to Main \")]):_vm._e(),(_vm.isDemotable)?_c('b-dropdown-item',{on:{\"click\":_vm.demoteItem}},[_vm._v(\" Demote to Queue \")]):_vm._e(),_c('b-dropdown-item',{on:{\"click\":_vm.removeItem}},[_vm._v(\" \"+_vm._s(_vm.seasonView ? 'Drop' : 'Remove')+\" \")]),(_vm.doReleaseSchedule)?_c('b-dropdown-item',{on:{\"click\":_vm.openScheduleModal}},[_vm._v(\" View Release Schedule \")]):_vm._e()]})],2),_c('div',{staticStyle:{\"text-align\":\"center\"}},[(_vm.isReorderable)?_c('img',{staticClass:\"drag-handle\",attrs:{\"src\":require(\"@/assets/dragHandle.svg\")}}):_vm._e()])],1):_vm._e(),(_vm.doReleaseSchedule && _vm.loadedShowSeason)?_c('release-schedule-modal',{attrs:{\"release-schedule\":_vm.releaseSchedule,\"show-season\":_vm.loadedShowSeason,\"available-episode-count\":_vm.availableEpisodeCount,\"parent-list\":_vm.parentList},on:{\"irregular-seasons-updated\":function($event){return _vm.$emit('irregular-seasons-updated')}},scopedSlots:_vm._u([{key:\"item-info\",fn:function(){return [_c('watchlist-item',{attrs:{\"show-season\":_vm.loadedShowSeason,\"is-read-only\":true}})]},proxy:true}],null,false,3290024183)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{attrs:{\"id\":(\"release-schedule-modal-\" + _vm.parentList + \"-\" + (_vm.showSeason.id)),\"title\":\"Projected Release Schedule\",\"centered\":\"\",\"ok-title\":\"Done\",\"ok-variant\":\"outline-primary\",\"ok-only\":\"\"}},[_vm._t(\"item-info\"),_c('div',{attrs:{\"id\":\"schedule-notes\"}},[_c('div',[_vm._v(\" This is only a projection. Manually adjust the date of any episode to update the schedule. \")])]),_c('table',{attrs:{\"id\":\"release-schedule-table\"}},[_c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"35%\"}},[_vm._v(\" Episode \")]),_c('th',{staticStyle:{\"width\":\"65%\"}},[_vm._v(\" Date \")])])]),_c('tbody',[(_vm.isLoading)?_c('div',{staticClass:\"loading-cover\"},[_c('b-spinner',{attrs:{\"variant\":\"light\"}})],1):_vm._e(),_vm._l((_vm.releaseSchedule),function(episodeDate){return _c('tr',{key:episodeDate.episode,class:{\n            'released-episode': episodeDate.episode <= _vm.availableEpisodeCount,\n            'latest-episode': episodeDate.episode === _vm.availableEpisodeCount,\n          }},[_c('td',[_vm._v(\" \"+_vm._s(episodeDate.episode)+\" \")]),_c('td',[(episodeDate.episode === _vm.editingEpisode)?_c('div',{staticClass:\"date-editor\"},[(_vm.conflictingIrregularEpisodes.length > 0)?_c('div',{staticClass:\"invalid-entry-message\"},[_vm._v(\" This conflicts with other episode dates. \")]):_vm._e(),_c('b-form-datepicker',{staticStyle:{\"margin\":\"2px 0\"},attrs:{\"min\":_vm.showSeason.startDate,\"size\":\"sm\",\"state\":_vm.datePickerState,\"label-help\":''},model:{value:(_vm.editingDate),callback:function ($$v) {_vm.editingDate=$$v},expression:\"editingDate\"}}),_c('div',[_c('b-button',{attrs:{\"variant\":\"secondary\",\"size\":\"sm\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){return _vm.closeDateEditor()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"warning\",\"size\":\"sm\",\"disabled\":!_vm.isEditingDateIrregular || _vm.isLoading},on:{\"click\":function($event){return _vm.setIrregularDate(true)}}},[_vm._v(\" Reset \")]),_c('b-button',{attrs:{\"variant\":\"primary\",\"size\":\"sm\",\"disabled\":!_vm.isEditingDateChanged || _vm.isLoading || _vm.conflictingIrregularEpisodes.length > 0},on:{\"click\":function($event){return _vm.setIrregularDate()}}},[_vm._v(\" Save \")])],1)],1):_c('div',{class:[\n                'schedule-date',\n                {\n                  'irregular-date': _vm.isIrregularlyScheduledEpisode(episodeDate.episode),\n                  'invalid-date': _vm.isConflictingIrregularDate(episodeDate.episode),\n                  'clickable': !_vm.isLoading && episodeDate.episode !== 1,\n                }\n              ],on:{\"click\":function($event){return _vm.editEpisodeDate(episodeDate)}}},[_vm._v(\" \"+_vm._s(_vm.formatReleaseDate(episodeDate.date))+\" \")])])])}),(_vm.showSeason.totalEpisodeCount == undefined)?_c('tr',{staticStyle:{\"background-color\":\"#0001\",\"font-size\":\"0.7em\",\"color\":\"#0008\"}},[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('div',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{staticStyle:{\"margin-right\":\"2px\"}},[_c('b-icon',{attrs:{\"icon\":\"exclamation-circle\"}})],1),_vm._v(\" The number of episodes shown may be inaccurate because the total episode count for this season is unset. \")])])]):_vm._e()],2)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport { DateTime } from 'luxon'\nimport { ShowSeason, EpisodeDate, RawEpisodeDate } from '@/types/watchlistTypes'\nimport tools from '@/utils/tools';\n\nexport default Vue.extend({\n  name: 'ReleaseScheduleModal',\n  props: {\n    releaseSchedule: {\n      type: Array as PropType<EpisodeDate[]>,\n      required: true,\n    },\n    showSeason: {\n      type: Object as PropType<ShowSeason>,\n      required: true,\n    },\n    availableEpisodeCount: {\n      type: Number,\n      required: true,\n    },\n    parentList: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      editingEpisode: -1 as number,\n      editingDate: '' as string,\n    };\n  },\n  computed: {\n    datePickerState(): boolean | null {\n      if (this.conflictingIrregularEpisodes.length > 0) {\n        return false\n      }\n      if (this.editingEpisode > 0 && this.isIrregularlyScheduledEpisode(this.editingEpisode)) {\n        return true\n      }\n      return null\n    },\n    isEditingDateChanged(): boolean {\n      return this.editingEpisode > 0 &&\n             this.releaseSchedule[this.editingEpisode - 1].date.toISODate() !== this.editingDate\n    },\n    isEditingDateIrregular(): boolean {\n      return this.editingEpisode > 0 &&\n             this.isIrregularlyScheduledEpisode(this.editingEpisode)\n    },\n    isLoading(): boolean {\n      return this.$store.state.watchlist.isUpdatingSeason\n    },\n    conflictingIrregularEpisodes(): number[] {\n      if (this.editingEpisode > 0 && this.showSeason.irregularDates) {\n        return this.showSeason.irregularDates\n          .filter((d: RawEpisodeDate) => {\n            return (d.episode < this.editingEpisode && d.date > this.editingDate) ||\n                   (d.episode > this.editingEpisode && d.date < this.editingDate)\n          })\n          .map((d: RawEpisodeDate) => d.episode)\n      }\n      return []\n    },\n  },\n  methods: {\n    formatReleaseDate(date: DateTime) {\n      return date.toFormat('EEEE, M/d/yyyy')\n    },\n    isIrregularlyScheduledEpisode(episodeNumber: number): boolean {\n      return this.showSeason.irregularDates?.some((d: RawEpisodeDate) => d.episode === episodeNumber) ?? false\n    },\n    isConflictingIrregularDate(episodeNumber: number): boolean {\n      return this.conflictingIrregularEpisodes.includes(episodeNumber)\n    },\n    editEpisodeDate(episodeDate: EpisodeDate) {\n      if (!this.isLoading && episodeDate.episode !== 1) {\n        this.editingEpisode = episodeDate.episode\n        this.editingDate = episodeDate.date.toISODate()\n      }\n    },\n    closeDateEditor() {\n      this.editingEpisode = -1\n    },\n    async setIrregularDate(doReset = false) {\n      if (!this.isLoading) {\n        let updatedSeason: ShowSeason = tools.deepClone(this.showSeason)\n        let irregularDates: RawEpisodeDate[] = updatedSeason.irregularDates ?? []\n        let updatedDateIdx = irregularDates.findIndex((d: RawEpisodeDate) => d.episode === this.editingEpisode)\n        if (updatedDateIdx === -1) {\n          irregularDates.push({\n            episode: this.editingEpisode,\n            date: this.editingDate\n          })\n        } else {\n          if (doReset) {\n            irregularDates.splice(updatedDateIdx, 1)\n          } else {\n            irregularDates[updatedDateIdx].date = this.editingDate\n          }\n        }\n        irregularDates.sort((a: RawEpisodeDate, b: RawEpisodeDate) => a.episode - b.episode)\n\n        updatedSeason.irregularDates = irregularDates\n\n        await this.updateShowSeason(updatedSeason)\n        this.$emit('irregular-seasons-updated')\n\n        this.closeDateEditor()\n      }\n    },\n    async updateShowSeason(updatedSeason: ShowSeason) {\n      await this.$store.dispatch('updateCatalogShowSeason', updatedSeason)\n    }\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReleaseScheduleModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReleaseScheduleModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ReleaseScheduleModal.vue?vue&type=template&id=3d67a0ca&scoped=true&\"\nimport script from \"./ReleaseScheduleModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ReleaseScheduleModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ReleaseScheduleModal.vue?vue&type=style&index=0&id=3d67a0ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d67a0ca\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport { DateTime } from 'luxon'\nimport {\n  SeasonView,\n  ShowInfo,\n  ShowSeason,\n  RawEpisodeDate,\n  EpisodeDate,\n} from '@/types/watchlistTypes'\nimport ThumbnailImage from '@/components/utils/ThumbnailImage.vue'\nimport ReleaseScheduleModal from '@/components/Watchlist/ReleaseScheduleModal.vue'\nimport HoverIcon from '@/components/utils/HoverIcon.vue'\nimport watchlistService from '@/utils/services/WatchlistService'\nimport tools from '@/utils/tools'\n\nexport default Vue.extend({\n  name: 'WatchlistItem',\n  components: {\n    releaseScheduleModal: ReleaseScheduleModal,\n    thumbnailImage: ThumbnailImage,\n    hoverIcon: HoverIcon,\n  },\n  props: {\n    parentList: {\n      type: String,\n      required: false,\n      default: 'queue',\n    },\n    seasonView: {\n      type: Object as PropType<SeasonView | undefined>,\n      required: false,\n    },\n    showSeason: {\n      type: Object as PropType<ShowSeason | undefined>,\n      required: false,\n    },\n    showInfo: {\n      type: Object as PropType<ShowInfo | undefined>,\n      required: false,\n    },\n    isReadOnly: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    isReorderable: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      editedSeasonView: null as SeasonView | null,\n      doEpisodeCountOverall: false as boolean,\n      doEpisodeCountUnitsLabel: false as boolean,\n      doManualProgressEdit: false as boolean,\n      editedProgress: 0 as number,\n      rerenderKey: '' as string,\n    }\n  },\n  computed: {\n    loadedShowInfo(): ShowInfo | null {\n      if (this.showInfo) {\n        return this.showInfo\n      }\n      const showSeasonData = this.editedSeasonView ? this.editedSeasonView.seasonInfo : this.showSeason\n      return showSeasonData ? this.$store.getters.getShowInfoById(showSeasonData.showId) : null\n    },\n    loadedShowSeason(): ShowSeason | null {\n      if (this.showSeason) {\n        return this.showSeason\n      }\n      if (this.editedSeasonView) {\n        return this.editedSeasonView.seasonInfo\n      }\n      return null\n    },\n    imageLink(): string {\n      if (this.editedSeasonView || this.showSeason) {\n        const showSeasonData = this.editedSeasonView ? this.editedSeasonView.seasonInfo : this.showSeason\n        if (showSeasonData?.imgLink) {\n          return showSeasonData.imgLink\n        } else if (showSeasonData != undefined) {\n          return this.$store.getters.getImageLink(showSeasonData.showId, showSeasonData.id)\n        }\n      } else if (this.showInfo) {\n        return this.$store.getters.getShowImageLink(this.showInfo)\n      }\n      return ''\n    },\n    doProgressBar(): boolean {\n      return this.parentList === 'main' || this.parentList === 'live'\n    },\n    previousSeasonsEpisodeCount(): number {\n      if (this.loadedShowSeason && this.loadedShowInfo) {\n        const currentSznNumber = this.loadedShowSeason.seasonNumber\n        return this.loadedShowInfo.seasons.reduce((total: number, szn: ShowSeason) => {\n          return total + ((currentSznNumber > szn.seasonNumber && szn.totalEpisodeCount) ? szn.totalEpisodeCount : 0)\n        }, 0)\n      }\n      return 0\n    },\n    overallEpisodeProgress(): number {\n      if (this.editedSeasonView) {\n        return this.editedSeasonView.watchedEpisodes + this.previousSeasonsEpisodeCount\n      }\n      return 0\n    },\n    overallTotalEpisodeCount(): number {\n      if (this.editedSeasonView && this.loadedShowInfo) {\n        return this.loadedShowInfo.seasons.reduce((total: number, szn: ShowSeason) => {\n          return total + (szn.totalEpisodeCount ? szn.totalEpisodeCount : 0)\n        }, 0)\n      }\n      return 0\n    },\n    displayedEpisodeProgress(): number {\n      if (this.doEpisodeCountOverall) {\n        return this.overallEpisodeProgress\n      } else {\n        return this.editedSeasonView ? this.editedSeasonView.watchedEpisodes : 0\n      }\n    },\n    displayedTotalEpisodeCount(): number {\n      if (this.doEpisodeCountOverall) {\n        return this.overallTotalEpisodeCount\n      } else {\n        return (this.loadedShowSeason && this.loadedShowSeason.totalEpisodeCount) ? this.loadedShowSeason.totalEpisodeCount : 0\n      }\n    },\n    minValidProgress(): number {\n      return this.doEpisodeCountOverall ? this.previousSeasonsEpisodeCount : 0\n    },\n    maxValidProgress(): number {\n      const currentSznTotalEpisodes: number | null | undefined = this.loadedShowSeason?.totalEpisodeCount\n      if (currentSznTotalEpisodes == null) {\n        return Infinity\n      }\n      return currentSznTotalEpisodes + this.minValidProgress\n    },\n    isEditedProgressValid(): boolean {\n      return this.editedProgress >= this.minValidProgress &&\n             this.editedProgress <= this.maxValidProgress\n    },\n    isSeasonProgressComplete(): boolean {\n      if (this.loadedShowSeason?.totalEpisodeCount) {\n        return this.loadedShowSeason.totalEpisodeCount === this.editedSeasonView?.watchedEpisodes\n      }\n      return false\n    },\n    isPromotable(): boolean {\n      return this.parentList === 'queue' || this.parentList === 'backlog'\n    },\n    isDemotable(): boolean {\n      return this.parentList === 'main' || this.parentList === 'live'\n    },\n    hasBegunAiring(): boolean {\n      if (this.loadedShowSeason && this.loadedShowSeason.startDate) {\n        const today = tools.getToday()\n        return this.loadedShowSeason.startDate <= today\n      }\n      return false\n    },\n    doReleaseSchedule(): boolean {\n      return this.parentList === 'live' || this.parentList === 'upcoming'\n    },\n    releaseSchedule(): EpisodeDate[] {\n      let episodeDates: EpisodeDate[] = []\n      if (this.doReleaseSchedule && this.loadedShowSeason && this.loadedShowSeason.startDate) {\n        let startDate = DateTime.fromISO(this.loadedShowSeason.startDate)\n        if (startDate.isValid)\n        {\n          episodeDates = [{\n            episode: 1,\n            date: startDate,\n          }]\n          let episodeCount = this.loadedShowSeason.totalEpisodeCount ?? 30\n          let previousDate: DateTime = startDate\n          for (let i = 1; i < episodeCount; i++) {\n            let nextIrregularDate = this.loadedShowSeason.irregularDates?.find((d: RawEpisodeDate) => d.episode >= i + 1)\n\n            let currentDate: DateTime\n            if (nextIrregularDate?.episode === i + 1) {\n              currentDate = DateTime.fromISO(nextIrregularDate.date)\n            } else {\n              let nextWeekDate = previousDate.plus({days: 7})\n              currentDate = nextIrregularDate ? DateTime.min(DateTime.fromISO(nextIrregularDate.date), nextWeekDate) : nextWeekDate\n            }\n\n            previousDate = currentDate\n\n            episodeDates.push({\n              episode: i + 1,\n              date: currentDate\n            })\n          }\n        }\n      }\n      return episodeDates\n    },\n    availableEpisodeCount(): number {\n      let today = DateTime.now()\n      return this.releaseSchedule.filter((d: EpisodeDate) => d.date <= today).length\n    },\n    displayedAvailableEpisodeCount(): number {\n      let thisSeasonEpisodes = ((this.loadedShowSeason?.totalEpisodeCount) ? this.loadedShowSeason.totalEpisodeCount : 0)\n      let thisSeasonNotYetAvailable = Math.max(0, thisSeasonEpisodes - this.availableEpisodeCount)\n      if (this.doEpisodeCountOverall) {\n        return this.overallTotalEpisodeCount - thisSeasonNotYetAvailable\n      } else {\n        return this.availableEpisodeCount\n      }\n    },\n    isSeasonFullyReleased(): boolean {\n      return this.availableEpisodeCount === (this.loadedShowSeason?.totalEpisodeCount ?? -1)\n    },\n    isUpToDateWithLiveSeason(): boolean {\n      return this.parentList === 'live' && this.editedSeasonView?.watchedEpisodes === this.availableEpisodeCount\n    },\n    itemMessages(): string[] {\n      let messages: string[] = []\n      if (this.parentList === 'live' && !this.isSeasonFullyReleased) {\n        if (this.isUpToDateWithLiveSeason) {\n          messages.push('Up to date!')\n        }\n        messages.push(`Next episode expected ${this.formatReleaseDate(this.releaseSchedule[this.availableEpisodeCount].date)}`)\n      } else if (this.parentList === 'upcoming' && this.hasBegunAiring) {\n        messages.push('This item has begun airing!')\n      }\n      return messages\n    },\n    itemButton(): { label: string, action: () => void, args: unknown[] } | null {\n      if (this.isSeasonProgressComplete && !this.isReadOnly) {\n        return {\n          label: 'Mark season completed',\n          action: this.markSeasonCompleted,\n          args: [],\n        }\n      }\n      if (this.parentList === 'upcoming' && this.hasBegunAiring) {\n        return {\n          label: 'Move to Live',\n          action: this.promoteItem,\n          args: ['live'],\n        }\n      }\n      return null\n    },\n  },\n  created() {\n    if (this.seasonView) {\n      this.editedSeasonView = this.seasonView\n    }\n    this.doEpisodeCountOverall = this.loadedShowInfo?.doEpisodeCountOverall || false\n  },\n  watch: {\n    seasonView() {\n      this.editedSeasonView = this.seasonView ?? null\n    },\n  },\n  methods: {\n    formatReleaseDate(date: DateTime) {\n      return date.toFormat('EEEE, M/d/yyyy')\n    },\n    getProgressBar(): string {\n      let progressBarStyle = `border-radius: 0 0 0 ${(this.itemMessages.length > 0 || this.itemButton) ? '0' : '8px'};`\n\n      let progressPct = -1\n      let availablePct = -1\n      if (this.displayedTotalEpisodeCount) {\n        progressPct = 100 * this.displayedEpisodeProgress / this.displayedTotalEpisodeCount\n\n        if (this.displayedAvailableEpisodeCount && this.parentList === 'live' && this.editedSeasonView?.beganDate) {\n          availablePct = 100 * this.displayedAvailableEpisodeCount / this.displayedTotalEpisodeCount\n        }\n\n        progressBarStyle += `background-image: linear-gradient(to right, ` +\n                            `hsl(222, 71%, 60%) ${progressPct}%, ` +\n                            ( availablePct === -1 ? '' : `hsl(222, 60%, 67.5%) ${progressPct}%, `) +\n                            ( availablePct === -1 ? '' : `hsl(222, 60%, 67.5%) ${availablePct}%, `) +\n                            `hsl(222, 71%, 75%) ${Math.max(progressPct, availablePct)}%);`\n      } else {\n        progressBarStyle += `background-image: linear-gradient(to right, hsl(222, 71%, 60%) 25%, hsl(222, 71%, 75%) 75%);`\n      }\n\n      return progressBarStyle\n    },\n    incrementProgress() {\n      if (this.editedSeasonView) {\n        const totalEps = this.editedSeasonView.seasonInfo.totalEpisodeCount\n        if (totalEps == null || this.editedSeasonView.watchedEpisodes < totalEps) {\n          this.editedSeasonView.watchedEpisodes++\n          this.saveChanges()\n        }\n      }\n    },\n    toggleEpisodeCountUnits() {\n      this.doEpisodeCountUnitsLabel = true\n      this.doEpisodeCountOverall = !this.doEpisodeCountOverall\n    },\n    enableManualProgressEdit() {\n      this.doManualProgressEdit = true\n      this.editedProgress = this.displayedEpisodeProgress\n    },\n    saveManualProgressEdit() {\n      if (this.editedSeasonView) {\n        if (this.isEditedProgressValid && this.editedProgress !== this.displayedEpisodeProgress) {\n          const seasonProgress = this.doEpisodeCountOverall ? (this.editedProgress - this.previousSeasonsEpisodeCount) : this.editedProgress\n          this.editedSeasonView.watchedEpisodes = seasonProgress\n          this.saveChanges()\n        }\n        this.doManualProgressEdit = false\n      }\n    },\n    beginSeason() {\n      if (this.editedSeasonView && !this.editedSeasonView.beganDate) {\n        this.editedSeasonView.beganDate = tools.getTimestamp()\n        this.saveChanges()\n      }\n      this.rerenderKey = tools.getTimestamp()\n    },\n    promoteItem(destination: string | undefined = undefined) {\n      this.$emit('promote-item', destination)\n    },\n    demoteItem() {\n      this.$emit('demote-item')\n    },\n    removeItem() {\n      this.$emit('remove-item')\n    },\n    markSeasonCompleted() {\n      this.$emit('mark-completed')\n    },\n    saveChanges() {\n      if (this.editedSeasonView) {\n        watchlistService.SaveSeasonViewDebounced(this.editedSeasonView)\n        this.$emit('season-view-updated', this.editedSeasonView)\n      }\n    },\n    openScheduleModal() {\n      if (this.loadedShowSeason) {\n        this.$bvModal.show(`release-schedule-modal-${this.parentList}-${this.loadedShowSeason.id}`)\n      }\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WatchlistItem.vue?vue&type=template&id=86b5fefc&scoped=true&\"\nimport script from \"./WatchlistItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./WatchlistItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WatchlistItem.vue?vue&type=style&index=0&id=86b5fefc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"86b5fefc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"section\"}},[_c('div',{attrs:{\"id\":\"header\"}},[_c('div',{attrs:{\"id\":\"header-title\"}},[_c('div',[_vm._v(\" \"+_vm._s(_vm._f(\"toTitleCase\")(_vm.listType))+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.items.length + ' item' + (_vm.items.length === 1 ? '' : 's'))+\" \")])]),_c('b-button',{attrs:{\"id\":\"add-button\",\"variant\":\"outline-light\",\"pill\":\"\"},on:{\"click\":function($event){return _vm.addItem()}}},[_c('b-icon',{attrs:{\"icon\":\"plus\",\"variant\":\"secondary\",\"font-scale\":\"1.5\"}})],1)],1),_c('div',{attrs:{\"id\":\"item-list\"}},[_c('draggable',_vm._b({attrs:{\"group\":_vm.listType,\"handle\":\".drag-handle\",\"disabled\":!_vm.isReorderable},on:{\"change\":_vm.onReorder},model:{value:(_vm.items),callback:function ($$v) {_vm.items=$$v},expression:\"items\"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{attrs:{\"type\":\"transition\"}},_vm._l((_vm.items),function(item,idx){return _c('watchlist-item',{key:item.id,attrs:{\"parent-list\":_vm.listType,\"season-view\":_vm.isSeasonView ? item : undefined,\"show-season\":_vm.isShowSeason ? item : undefined,\"show-info\":_vm.isShowInfo ? item : undefined,\"is-reorderable\":_vm.isReorderable},on:{\"mark-completed\":function($event){return _vm.$emit('mark-item-completed', item.id, _vm.listType)},\"promote-item\":function($event){return _vm.$emit('promote-item', item.id, _vm.listType, $event)},\"demote-item\":function($event){return _vm.$emit('demote-item', item.id, _vm.listType)},\"remove-item\":function($event){return _vm.$emit('remove-item', item.id, _vm.listType)},\"season-view-updated\":function($event){return _vm.updateSeasonView(idx, $event)},\"irregular-seasons-updated\":function($event){return _vm.$emit('irregular-seasons-updated')}}})}),1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport WatchlistItem from '@/components/Watchlist/WatchlistItem.vue'\nimport tools from '@/utils/tools'\nimport Draggable from 'vuedraggable'\nimport {\n  SeasonView,\n  ShowInfo,\n  ShowSeason\n} from '@/types/watchlistTypes'\n\nexport default Vue.extend({\n  name: 'WatchlistSection',\n  components: {\n    watchlistItem: WatchlistItem,\n    draggable: Draggable,\n  },\n  props: {\n    listType: {\n      type: String,\n      required: true,\n    },\n    value: {\n      type: Array as PropType<SeasonView[] | ShowSeason[] | ShowInfo[]>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      items: [] as SeasonView[] | ShowSeason[] | ShowInfo[],\n      dragOptions: {\n        animation: 200,\n        ghostClass: 'drag-ghost',\n      }\n    }\n  },\n  computed: {\n    isSeasonView(): boolean {\n      return this.listType === 'main' ||\n             this.listType === 'live' ||\n             this.listType === 'queue'\n    },\n    isShowSeason(): boolean {\n      return this.listType === 'upcoming'\n    },\n    isShowInfo(): boolean {\n      return this.listType === 'backlog'\n    },\n    isReorderable(): boolean {\n      return this.listType === 'queue' || this.listType === 'backlog'\n    },\n  },\n  watch: {\n    value() {\n      this.loadValue()\n    },\n  },\n  created() {\n    this.loadValue()\n  },\n  methods: {\n    loadValue() {\n      this.items = tools.deepClone(this.value)\n    },\n    syncModel() {\n      this.$emit('input', this.items)\n    },\n    onReorder() {\n      this.syncModel()\n      this.$emit('reorder')\n    },\n    addItem() {\n      this.$emit('add-item')\n    },\n    updateSeasonView(itemIdx: number, seasonView: SeasonView) {\n      if (this.isSeasonView) {\n        this.items[itemIdx] = seasonView\n        this.syncModel()\n      }\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WatchlistSection.vue?vue&type=template&id=27ac129b&scoped=true&\"\nimport script from \"./WatchlistSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./WatchlistSection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./WatchlistSection.vue?vue&type=style&index=0&id=27ac129b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27ac129b\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\"\nimport { BvModalEvent } from 'bootstrap-vue'\nimport {\n  SeasonView,\n  ShowInfo,\n  ShowSeason,\n  WatchlistData,\n} from '@/types/watchlistTypes'\nimport watchlistService from '@/utils/services/WatchlistService'\nimport tools from '@/utils/tools';\nimport CatalogModal from '@/components/Watchlist/CatalogModal.vue'\nimport IconButton from '@/components/utils/IconButton.vue'\nimport ScrollToRefresh from '@/components/utils/ScrollToRefresh.vue'\nimport WatchlistItem from '@/components/Watchlist/WatchlistItem.vue'\nimport WatchlistSection from '@/components/Watchlist/WatchlistSection.vue'\n\nexport default Vue.extend({\n  name: \"Watchlist\",\n  components: {\n    catalogModal: CatalogModal,\n    watchlistSection: WatchlistSection,\n    watchlistItem: WatchlistItem,\n    iconButton: IconButton,\n    scrollToRefresh: ScrollToRefresh,\n  },\n  data() {\n    return {\n      watchlist: null as WatchlistData | null,\n      isLoading: false as boolean,\n      targetListName: null as string | null,\n      targetSeasonView: null as SeasonView | null,\n      targetShowSeason: null as ShowSeason | null,\n      targetShowInfo: null as ShowInfo | null,\n      targetNextQueueItem: null as SeasonView | null,\n      doNextSeasonToQueue: true as boolean,\n      doPopQueueToMain: true as boolean,\n    };\n  },\n  computed: {\n    isReady(): boolean {\n      return this.$store.getters.db_isReady\n    },\n  },\n  watch: {\n    async isReady(isReady: boolean) {\n      if (isReady) {\n        await this.loadData()\n      }\n    },\n  },\n  async created() {\n    if (this.isReady) {\n      await this.loadData()\n    }\n  },\n  methods: {\n    resetTargets() {\n      this.targetListName = null\n      this.targetSeasonView = null\n      this.targetShowSeason = null\n      this.targetShowInfo = null\n      this.targetNextQueueItem = null\n    },\n    async loadWatchlist(doForceReload = false) {\n      this.watchlist = await watchlistService.GetWatchlistData(doForceReload)\n    },\n    async saveWatchlist() {\n      if (this.watchlist) {\n        await watchlistService.SaveWatchlistData(this.watchlist)\n      }\n    },\n    async loadData(doForceReload = false) {\n      this.isLoading = true\n\n      await this.$store.dispatch('loadCatalogFromDropbox')\n      await this.loadWatchlist(doForceReload)\n\n      this.isLoading = false\n    },\n    async handleRefresh() {\n      this.isLoading = true\n\n      await watchlistService.ForceSaveSeasonViews()\n      await this.loadData(true)\n\n      this.isLoading = false\n    },\n    selectCatalogEntry(listName: string) {\n      this.targetListName = listName\n      this.openCatalog()\n    },\n    async addCatalogItemToList(item: ShowInfo | ShowSeason, listName: string) {\n      if (this.watchlist) {\n        if (listName === 'main' || listName === 'live' || listName === 'queue') {\n          let newSeasonView: SeasonView = {\n            id: tools.getGUID(),\n            seasonInfo: item as ShowSeason,\n            watchedEpisodes: 0,\n          }\n          this.watchlist[listName].push(newSeasonView)\n        } else if (listName === 'upcoming') {\n          this.watchlist.upcoming.push(item as ShowSeason)\n          this.watchlist.upcoming.sort((a, b) => {\n            return (a.startDate ?? 'z').localeCompare(b.startDate ?? 'z')\n          })\n        } else if (listName === 'backlog') {\n          this.watchlist.backlog.push(item as ShowInfo)\n        }\n      }\n      this.closeCatalog()\n      await this.saveWatchlist()\n    },\n    showMarkCompletedOptions(seasonViewId: string, sourceList: string) {\n      this.targetListName = sourceList\n      if (this.watchlist) {\n        if (sourceList === 'main') {\n          let seasonViewIdx = this.watchlist.main.findIndex((view: SeasonView) => view.id === seasonViewId)\n          if (seasonViewIdx !== -1) {\n            this.doNextSeasonToQueue = false\n            this.doPopQueueToMain = false\n            this.targetSeasonView = this.watchlist.main[seasonViewIdx]\n\n            // find next season of show, if any\n            this.targetShowSeason = null\n            const seasonInfo = this.targetSeasonView.seasonInfo\n            const seasonShowInfo: ShowInfo = this.$store.getters.getShowInfoById(seasonInfo.showId)\n            let seasonIdx = seasonShowInfo.seasons.findIndex((season: ShowSeason) => season.id === seasonInfo.id)\n            if (seasonIdx < seasonShowInfo.seasons.length - 1) {\n              this.targetShowSeason = seasonShowInfo.seasons[seasonIdx + 1]\n              this.doNextSeasonToQueue = true\n            }\n\n            // find next item in Queue, if any\n            this.targetNextQueueItem = null\n            if (this.watchlist.queue.length > 0) {\n              this.targetNextQueueItem = this.watchlist.queue[0]\n              this.doPopQueueToMain = true\n            }\n\n            this.$bvModal.show('markCompletedModal')\n          }\n        } else if (sourceList === 'live') {\n          let seasonViewIdx = this.watchlist.live.findIndex((view: SeasonView) => view.id === seasonViewId)\n          if (seasonViewIdx !== -1) {\n            this.doNextSeasonToQueue = false\n            this.doPopQueueToMain = false\n            this.targetShowSeason = null\n            this.targetNextQueueItem = null\n\n            this.targetSeasonView = this.watchlist.live[seasonViewIdx]\n\n            this.$bvModal.show('markCompletedModal')\n          }\n        }\n      }\n    },\n    async markSeasonCompleted() {\n      if (this.watchlist && this.targetSeasonView) {\n        // set date completed, save, & remove from source list\n        // TODO: eventually should move completed SVs to new save file but for now this works fine\n        this.targetSeasonView.completedDate = tools.getTimestamp()\n        await watchlistService.SaveSeasonViews([ this.targetSeasonView ])\n\n        if (this.targetListName === 'main' || this.targetListName === 'live') {\n          const completedViewId = this.targetSeasonView.id\n          const completedViewIdx = this.watchlist[this.targetListName].findIndex((view: SeasonView) => view.id === completedViewId)\n          if (completedViewIdx !== -1) {\n            this.watchlist[this.targetListName].splice(completedViewIdx, 1)\n          }\n        }\n\n        if (this.doNextSeasonToQueue) {\n          if (this.targetShowSeason) {\n            const newSeasonView: SeasonView = {\n              id: tools.getGUID(),\n              seasonInfo: this.targetShowSeason,\n              watchedEpisodes: 0,\n            }\n            this.watchlist.queue.push(newSeasonView)\n          }\n        }\n\n        if (this.doPopQueueToMain) {\n          if (this.targetNextQueueItem) {\n            this.watchlist.main.push(this.targetNextQueueItem)\n            this.watchlist.queue.splice(0, 1)\n          }\n        }\n\n        await this.saveWatchlist()\n      }\n      this.resetTargets()\n    },\n    promptConfirmRemoveItem(itemId: string, sourceList: string) {\n      this.targetListName = sourceList\n      if (this.watchlist) {\n        if (sourceList === 'main' || sourceList === 'live' || sourceList === 'queue') {\n          let seasonViewIdx = this.watchlist[sourceList].findIndex((view: SeasonView) => view.id === itemId)\n          this.targetSeasonView = this.watchlist[sourceList][seasonViewIdx]\n        } else if (sourceList === 'upcoming') {\n          let showSeasonIdx = this.watchlist.upcoming.findIndex((szn: ShowSeason) => szn.id === itemId)\n          this.targetShowSeason = this.watchlist.upcoming[showSeasonIdx]\n        } else if (sourceList === 'backlog') {\n          let showInfoIdx = this.watchlist.backlog.findIndex((show: ShowInfo) => show.id === itemId)\n          this.targetShowInfo = this.watchlist.backlog[showInfoIdx]\n        }\n        this.$bvModal.show('confirmRemoveModal')\n      }\n    },\n    async promoteItem(itemId: string, sourceList: string, destinationList: string | undefined = undefined) {\n      if (this.watchlist) {\n        if (sourceList === 'live' || sourceList === 'queue') {\n          // promote Live or Queued SeasonView to Main\n          const seasonViewIdx = this.watchlist[sourceList].findIndex((view: SeasonView) => view.id === itemId)\n          if (seasonViewIdx !== -1) {\n            const promotedSeasonView = this.watchlist[sourceList][seasonViewIdx]\n            this.watchlist.main.push(promotedSeasonView)\n            this.watchlist[sourceList].splice(seasonViewIdx, 1)\n          }\n        } else if (sourceList === 'upcoming') {\n          // promote Upcoming ShowSeason to Live or Main\n          const sznIdx = this.watchlist.upcoming.findIndex((szn: ShowSeason) => szn.id === itemId)\n          if (sznIdx !== -1) {\n            const promotedSzn = this.watchlist.upcoming[sznIdx]\n\n            let newSeasonView: SeasonView = {\n              id: tools.getGUID(),\n              seasonInfo: promotedSzn,\n              watchedEpisodes: 0,\n            }\n            if (!destinationList || destinationList === 'live') {\n              this.watchlist.live.push(newSeasonView)\n            } else if (destinationList === 'main') {\n              this.watchlist.main.push(newSeasonView)\n            }\n\n            this.watchlist.upcoming.splice(sznIdx, 1)\n          }\n        } else if (sourceList === 'backlog') {\n          // promote Backlog ShowInfo to Queue\n          const showInfoIdx = this.watchlist.backlog.findIndex((show: ShowInfo) => show.id === itemId)\n          if (showInfoIdx !== -1) {\n            const promotedShow = this.watchlist.backlog[showInfoIdx]\n            if (promotedShow.seasons.length > 0) {\n              const showFirstSeason = promotedShow.seasons[0]\n\n              let newSeasonView: SeasonView = {\n                id: tools.getGUID(),\n                seasonInfo: showFirstSeason,\n                watchedEpisodes: 0,\n              }\n              this.watchlist.queue.push(newSeasonView)\n            }\n            this.watchlist.backlog.splice(showInfoIdx, 1)\n          }\n        }\n\n        await this.saveWatchlist()\n      }\n    },\n    async demoteItem(itemId: string, sourceList: string) {\n      if (this.watchlist) {\n        if (sourceList === 'main' || sourceList === 'live') {\n          // demote SeasonView from Main or Live to top of Queue\n          const seasonViewIdx = this.watchlist[sourceList].findIndex((view: SeasonView) => view.id === itemId)\n          if (seasonViewIdx !== -1) {\n            const demotedSeasonView = this.watchlist[sourceList][seasonViewIdx]\n            this.watchlist.queue.splice(0, 0, demotedSeasonView)\n            this.watchlist[sourceList].splice(seasonViewIdx, 1)\n          }\n        }\n\n        await this.saveWatchlist()\n      }\n    },\n    async removeItem() {\n      if (this.watchlist) {\n        if ((this.targetListName === 'main' || this.targetListName === 'live' || this.targetListName === 'queue') && this.targetSeasonView) {\n          this.targetSeasonView.droppedDate = tools.getTimestamp()\n          await watchlistService.SaveSeasonViews([ this.targetSeasonView ])\n\n          const droppedViewId = this.targetSeasonView.id\n          const droppedViewIdx = this.watchlist[this.targetListName].findIndex((view: SeasonView) => view.id === droppedViewId)\n          if (droppedViewIdx !== -1) {\n            this.watchlist[this.targetListName].splice(droppedViewIdx, 1)\n          }\n        } else if (this.targetListName === 'upcoming' && this.targetShowSeason) {\n          const droppedSznId = this.targetShowSeason.id\n          const droppedSznIdx = this.watchlist.upcoming.findIndex((szn: ShowSeason) => szn.id === droppedSznId)\n          if (droppedSznIdx !== -1) {\n            this.watchlist.upcoming.splice(droppedSznIdx, 1)\n          }\n        } else if (this.targetListName === 'backlog' && this.targetShowInfo) {\n          const droppedShowId = this.targetShowInfo.id\n          const droppedShowIdx = this.watchlist.backlog.findIndex((show: ShowInfo) => show.id === droppedShowId)\n          if (droppedShowIdx !== -1) {\n            this.watchlist.backlog.splice(droppedShowIdx, 1)\n          }\n        }\n\n        await this.saveWatchlist()\n      }\n      this.resetTargets()\n    },\n    async onReorderList() {\n      await this.saveWatchlist()\n    },\n    openCatalog() {\n      this.$bvModal.show('catalogModal')\n    },\n    closeCatalog() {\n      this.$bvModal.hide('catalogModal')\n    },\n    onModalHide(event: BvModalEvent) {\n      if (event.trigger !== 'ok') {\n        this.resetTargets()\n      }\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watchlist.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watchlist.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Watchlist.vue?vue&type=template&id=5c8b316c&scoped=true&\"\nimport script from \"./Watchlist.vue?vue&type=script&lang=ts&\"\nexport * from \"./Watchlist.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Watchlist.vue?vue&type=style&index=0&id=5c8b316c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c8b316c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"pills\":\"\",\"lazy\":\"\",\"card\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"Image Analyzer\",\"active\":\"\"}},[_c('image-analyzer')],1),_c('b-tab',{attrs:{\"title\":\"Ray Tracer\"}},[_c('canvas-test')],1),_c('b-tab',{attrs:{\"title\":\"Sandbox\"}},[_c('sandbox-game')],1),_c('b-tab',{attrs:{\"title\":\"Droplet Ring\"}},[_c('b-form-spinbutton',{staticStyle:{\"margin\":\"10px\"},attrs:{\"min\":\"2\",\"max\":\"10\",\"wrap\":\"\",\"inline\":\"\"},model:{value:(_vm.dropletCount),callback:function ($$v) {_vm.dropletCount=$$v},expression:\"dropletCount\"}}),_c('droplet-ring',{staticStyle:{\"max-width\":\"500px\"},attrs:{\"n\":_vm.dropletCount}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-input-group',{scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('b-button',{on:{\"click\":_vm.initImage}},[_vm._v(\"Analyze Image\")])]},proxy:true}])},[_c('b-form-input',{attrs:{\"placeholder\":\"URL\",\"debounce\":\"500\"},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}})],1),_c('img',{staticStyle:{\"max-width\":\"250px\",\"max-height\":\"250px\",\"margin-top\":\"20px\"},attrs:{\"src\":_vm.url}}),_c('div',{style:(_vm.selectedColorsStyle)},[_vm._v(\"\")]),_c('div',[_c('div',[(_vm.allColors.length > 0)?_c('color-histogram',{staticStyle:{\"width\":\"100%\",\"margin\":\"20px 0\"},attrs:{\"all-colors\":_vm.allColors}}):_vm._e()],1),_c('div',{attrs:{\"id\":\"color-samples\"}},_vm._l((_vm.allColors),function(color,idx){return _c('div',{key:idx,style:(_vm.getColorSampleStyle(color))},[_vm._v(\" RGB: \"+_vm._s(_vm.getColorString(color.colorRGB))),_c('br'),_vm._v(\" HSL: \"+_vm._s(_vm.getColorString(color.colorHSL))),_c('br'),_vm._v(\" Count: \"+_vm._s(color.count)+\" \")])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"svg-container\"}},[_c('svg',{attrs:{\"viewBox\":\"0 0 360 110\"}},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"x-axis-gradient\"}},_vm._l((_vm.xAxisColors),function(stop,idx){return _c('stop',{key:idx,attrs:{\"offset\":stop.offset,\"stop-color\":stop.color}})}),1)],1),_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"#def6\"}}),_c('g',{attrs:{\"id\":\"background-lines\"}}),_c('g',{attrs:{\"id\":\"values\"}},_vm._l((_vm.colorBuckets),function(bucket,idx){return _c('line',{key:idx,attrs:{\"x1\":bucket.hueAvg,\"x2\":bucket.hueAvg,\"y1\":\"100\",\"y2\":100 - (bucket.count * 100 / _vm.allColors.length),\"stroke-width\":_vm.bucketWidth / 2,\"stroke\":'hsl(' + bucket.hueAvg + ', 80%, 50%)'}})}),0),_c('g',{attrs:{\"id\":\"axes\"}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"100\",\"width\":\"100%\",\"height\":(1000 / 110) + '%',\"fill\":\"url(#x-axis-gradient)\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\ninterface ColorData {\n  colorRGB: number[]\n  colorHSL: number[]\n  count: number\n}\ninterface ColorBucket {\n  hueMin: number\n  hueMax: number\n  hueAvg: number\n  count: number\n}\n\nexport default Vue.extend({\n  name: 'ColorHistogram',\n  props: {\n    allColors: {\n      type: Array as () => ColorData[],\n      required: true,\n    },\n  },\n  data() {\n    return {\n      xAxisDivisions: 32 as number,\n    }\n  },\n  computed: {\n    bucketWidth(): number {\n      return 360 / this.xAxisDivisions\n    },\n    colorBuckets(): ColorBucket[] {\n      let buckets: ColorBucket[] = Array.from((new Array(this.xAxisDivisions)).keys()).map(i => {\n        return {\n          hueMin: i * this.bucketWidth,\n          hueMax: i * this.bucketWidth + this.bucketWidth,\n          hueAvg: i * this.bucketWidth + (this.bucketWidth / 2),\n          count: 0,\n        }\n      })\n\n      this.allColors.forEach((c: ColorData) => {\n        let hueListIdx = Math.floor(c.colorHSL[0] / this.bucketWidth)\n        buckets[hueListIdx].count++\n      })\n\n      return buckets\n    },\n    xAxisColors(): { offset: string, color: string }[] {\n      let colors = [\n        {\n          offset: '0%',\n          color: \"hsl(0, 80%, 50%)\",\n        },\n      ] as { offset: string, color: string }[]\n      for (let i = 0; i < this.xAxisDivisions; i++)\n      {\n        colors.push({\n          offset: (100 * (i + 1) / this.xAxisDivisions) + '%',\n          color: `hsl(${360 * (i + 1) / this.xAxisDivisions}, 80%, 50%)`\n        })\n      }\n\n      return colors\n    },\n  },\n  methods: {}\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorHistogram.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorHistogram.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorHistogram.vue?vue&type=template&id=4ed23202&scoped=true&\"\nimport script from \"./ColorHistogram.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorHistogram.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorHistogram.vue?vue&type=style&index=0&id=4ed23202&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed23202\",\n  null\n  \n)\n\nexport default component.exports","interface ColorData {\n  colorRGB: number[]\n  colorHSL: number[]\n  count: number\n}\n\nfunction rgbToHsl(rgb: number[]): number[] {\n  const r = rgb[0] / 255\n  const g = rgb[1] / 255\n  const b = rgb[2] / 255\n  const a = rgb.length < 4 ? 1 : rgb[3] / 255\n\n  const cmin = Math.min(r, g, b)\n  const cmax = Math.max(r, g, b)\n  const delta = cmax - cmin\n  let h = 0\n  let s = 0\n  let l = 0\n\n  if (delta === 0) {\n    h = 0\n  } else if (cmax === r) {\n    h = ((g - b) / delta) % 6\n  } else if (cmax === g) {\n    h = (b - r) / delta + 2\n  } else {\n    h = (r - g) / delta + 4\n  }\n  h = Math.round(h * 60)\n\n  if (h < 0) {\n    h += 360\n  }\n\n  l = (cmax + cmin) / 2\n  s = delta == 0 ? 0 : (delta / (1 - Math.abs((2 * l) - 1)))\n\n  s = Math.round(s * 100)\n  l = Math.round(l * 100)\n\n  return [h, s, l, a]\n}\n\nconst filterColors = (c: ColorData): boolean => {\n  return c.colorHSL[1] > 20 &&\n         c.colorHSL[2] > 20 &&\n         c.colorHSL[2] <= 80\n}\n\nconst colorHeuristic = (c: ColorData): number => {\n  const lightPoints = c.colorHSL[2] > 50 ? (100 - c.colorHSL[2]) : c.colorHSL[2]\n  const saturationPoints = c.colorHSL[1]\n  return 2*lightPoints + saturationPoints\n  // return c.colorHSL[1] * c.colorHSL[2]\n  // return c.count\n}\n\nfunction getColorData(img: HTMLImageElement, doOpacity = false, doFilters = false): ColorData[] {\n  let colorData: ColorData[] = []\n\n  const canvas = document.createElement('canvas')\n\n  if (canvas) {\n    canvas.height = img.naturalHeight\n    canvas.width = img.naturalWidth\n\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true }) as CanvasRenderingContext2D\n    if (ctx) {\n      ctx.drawImage(img, 0, 0)\n      const imageData = ctx.getImageData(0, 0, img.naturalWidth, img.naturalHeight)\n      const data = imageData.data\n\n      const colorGroups = {} as { [key: string]: ColorData }\n      for (let i = 0; i < data.length; i += 4) {\n        const r = data[i]\n        const g = data[i + 1]\n        const b = data[i + 2]\n        const a = data[i + 3]\n        const key = `${r}-${g}-${b}-${doOpacity ? a : ''}`\n\n        if (colorGroups[key] === undefined) {\n          const colorRGB = [r, g, b, a]\n          colorGroups[key] = {\n            colorRGB: colorRGB,\n            colorHSL: rgbToHsl(colorRGB),\n            count: 1,\n          }\n        } else {\n          colorGroups[key].count += 1\n        }\n      }\n\n      colorData = Object.values(colorGroups)\n      if (doFilters) {\n        colorData = colorData.filter(filterColors)\n      }\n\n      colorData.sort((a: ColorData, b: ColorData) => colorHeuristic(b) - colorHeuristic(a))\n    }\n  }\n\n  canvas.remove()\n\n  return colorData\n}\n\nexport default {\n  GetFormattedColor(color: ColorData): string {\n    return `hsl(${color.colorHSL[0]}, ${color.colorHSL[1]}%, ${color.colorHSL[2]}%)`\n  },\n  async GetImageColorData(imageURL: string): Promise<ColorData[]> {\n    const img = new Image()\n    img.crossOrigin = \"anonymous\"\n    img.src = imageURL\n\n    try {\n      await img.decode()\n\n      return getColorData(img)\n    } catch (e) {\n      console.log('---- Issue loading image:')\n      console.log(e)\n      console.log('--------')\n\n      return []\n    }\n  },\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport ColorHistogram from '@/components/miscTools/ImageAnalyzer/ColorHistogram.vue'\nimport ImageAnalyzerService from '@/utils/miscTools/ImageAnalyzer/ImageAnalyzerService'\n\ninterface ColorData {\n  colorRGB: number[]\n  colorHSL: number[]\n  count: number\n}\n\nexport default Vue.extend({\n  name: 'ImageAnalyzer',\n  components: {\n    colorHistogram: ColorHistogram,\n  },\n  data() {\n    return {\n      url: 'https://picsum.photos/600/300/?image=400' as string,\n      allColors: [] as ColorData[],\n    }\n  },\n  computed: {\n    selectedColorsStyle(): string {\n      if (this.allColors.length === 0) {\n        return 'display: none'\n      } else {\n        const selectedColorLimit = 3\n        const hueBucketRadius = 10\n        let usedHues: number[] = []\n        let selectedColors: string[] = []\n\n        for (let i = 0; i < this.allColors.length; i++) {\n          let currentHue = this.allColors[i].colorHSL[0]\n          if (!usedHues.some((hue) => (hue + hueBucketRadius) > currentHue && (hue - hueBucketRadius) < currentHue)) {\n            selectedColors.push(ImageAnalyzerService.GetFormattedColor(this.allColors[i]))\n            usedHues.push(currentHue)\n\n            if (selectedColors.length >= selectedColorLimit) {\n              break\n            }\n          }\n        }\n\n        let styleString = 'background-image: linear-gradient(to right, '\n        selectedColors.forEach((color: string, idx: number) => {\n          const startPct = idx * 100 / selectedColors.length\n          const endPct = (idx + 1) * 100 / selectedColors.length\n\n          styleString += `${color} ${startPct}%, ${color} ${endPct}%` + (idx === selectedColors.length - 1 ? '' : ', ')\n        })\n\n        styleString += '); height: 20px; width: 100%; margin-top: 5px;'\n        \n        return styleString\n      }\n    },\n  },\n  methods: {\n    getColorString(color: number[]): string {\n      return `(${color[0]}, ${color[1]}, ${color[2]}, ${Math.round(color[3] * 1000) / 1000})`\n    },\n    getColorSampleStyle(color: ColorData): string {\n      let style = `background-color: hsla(${color.colorHSL[0]}, ${color.colorHSL[1]}%, ${color.colorHSL[2]}%, ${color.colorHSL[3]});`\n      style += `color: ${(color.colorHSL[2] > 50 || color.colorHSL[3] < 0.5) ? '#000' : '#fff'};`\n\n      return style\n    },\n    async initImage() {\n      this.allColors = await ImageAnalyzerService.GetImageColorData(this.url)\n    },\n  }\n})\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnalyzer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAnalyzer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageAnalyzer.vue?vue&type=template&id=04736a9a&scoped=true&\"\nimport script from \"./ImageAnalyzer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageAnalyzer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageAnalyzer.vue?vue&type=style&index=0&id=04736a9a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04736a9a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('b',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"Scene:\")]),_c('b-form-spinbutton',{staticStyle:{\"margin\":\"10px auto\",\"width\":\"200px\"},attrs:{\"min\":\"0\",\"max\":\"4\",\"wrap\":\"\",\"inline\":\"\"},on:{\"change\":function($event){return _vm.generateCanvasImage()}},model:{value:(_vm.mainSceneIdx),callback:function ($$v) {_vm.mainSceneIdx=$$v},expression:\"mainSceneIdx\"}})],1),_c('div',[_c('b',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"Size:\")]),_c('b-form-radio-group',{staticStyle:{\"margin\":\"10px auto\",\"width\":\"200px\"},attrs:{\"options\":[\n        { text: 'Small', value: 1 },\n        { text: 'Large', value: 2 } ],\"buttons\":\"\"},on:{\"change\":function($event){return _vm.generateCanvasImage()}},model:{value:(_vm.canvasSettingsControl.size),callback:function ($$v) {_vm.$set(_vm.canvasSettingsControl, \"size\", $$v)},expression:\"canvasSettingsControl.size\"}})],1),_c('canvas',{style:(_vm.getWidthInfo + 'border:1px solid #000000'),attrs:{\"id\":\"c\",\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight},on:{\"click\":function($event){return _vm.look($event)}}}),(_vm.loading)?_c('div',[_c('b-spinner',{attrs:{\"variant\":\"secondary\"}})],1):_c('div',[_c('div',[_vm._v(\" \"+_vm._s(_vm.allScenes[_vm.mainSceneIdx].items.length)+\" items \")]),(_vm.subSceneCount != null)?_c('div',[_vm._v(\" \"+_vm._s(_vm.subSceneCount)+\" sub scenes \")]):_vm._e()]),_c('br'),(_vm.startTime)?_c('div',[_vm._v(\" Start: \"+_vm._s(_vm.startTime.format('h:mm:ss'))+\" \")]):_vm._e(),(_vm.endTime)?_c('div',[_vm._v(\" End: \"+_vm._s(_vm.endTime.format('h:mm:ss'))+\" \")]):_vm._e(),(_vm.totalRuntime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.totalRuntime)+\" seconds total \")]):_vm._e(),_vm._l((_vm.captureTimes),function(data,idx){return _c('div',{key:idx,staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\" Scene \"+_vm._s(data.sceneIdx)+\": (\"+_vm._s(data.sceneSettings.pxRows)+\"x\"+_vm._s(data.sceneSettings.pxCols)+\", \"+_vm._s(data.sceneSettings.reflectLimit)+\" ref, \"+_vm._s(data.sceneSettings.superSampleLvl)+\"xSS): \"),_c('b',[_vm._v(_vm._s(_vm.getRuntime(data.start, data.end))+\" s\")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport moment from 'moment'\n\ninterface vec3 {\n  x: number\n  y: number\n  z: number\n}\n\ninterface PhongColor {\n  color: vec3\n  ka: number\n  kd: number\n  ks: number\n  n: number\n  reflectivity: number\n  opacity: number\n\n  image?: null | vec3[][]\n  imgSrcSceneIdx?: null | number\n}\n\ninterface Item {\n  type: string\n  material: PhongColor\n  nullVolumes?: Item[]\n}\ninterface Sphere extends Item {\n  c: vec3\n  r: number\n}\ninterface Tube extends Item {\n  p: vec3\n  d: vec3\n  r: number\n}\ninterface Cylinder extends Item {\n  p0: vec3\n  p1: vec3\n  r: number\n}\ninterface Plane extends Item {\n  p: vec3\n  n: vec3\n}\ninterface Triangle extends Item {\n  v0: vec3\n  v1: vec3\n  v2: vec3\n}\ninterface Circle extends Item {\n  c: vec3\n  n: vec3\n  r: number\n}\ninterface Parallelogram extends Item {\n  p: vec3\n  u: vec3\n  v: vec3\n}\n\ninterface Polygon extends Item {\n  vertices: vec3[]\n}\ninterface SmoothPolygon extends Item {\n  vertices: vec3[]\n  r: number\n}\n\ninterface Light {\n  p: vec3\n  // color: vec3\n  C: number\n}\n\ninterface Ray {\n  o: vec3\n  dir: vec3\n  reflectLvl: number\n  refractLvl: number\n}\n\ninterface ImageSettings {\n  pxRows: number\n  pxCols: number\n  reflectLimit: number\n  refractLimit: number\n  superSampleLvl: number\n}\n\ninterface Camera {\n  pos: vec3\n  dir: vec3\n  up: vec3\n  fov: number[]\n  image: vec3[][]\n  settings: ImageSettings\n}\n\ninterface Scene {\n  camera: Camera\n  A: number\n  voidColor?: vec3\n  items: Item[]\n  compoundItems: Item[]\n  lights: Light[]\n}\n\ninterface TimingData {\n  sceneIdx: number,\n  sceneSettings: ImageSettings,\n  start: moment.Moment,\n  end: moment.Moment,\n}\n\n\nexport default Vue.extend({\n  name: 'CanvasTest',\n  data() {\n    return {\n      vueCanvas: {} as CanvasRenderingContext2D,\n      canvasSettingsControl: {\n        size: 1,\n        reflectLimit: 3 as number,\n        // refractLimit: 3 as number,\n        superSampleLvl: 1 as number,\n      },\n      cMat: [] as number[][][], /////////////////// outdated\n\n      doOut: false,\n      startTime: null as null | moment.Moment,\n      endTime: null as null | moment.Moment,\n      captureTimes: [] as TimingData[],\n      subSceneCount: null as null | number,\n\n      allScenes: [] as Scene[],\n      mainSceneIdx: 0 as number,\n      doGlobalCameraSettings: true as boolean,\n    }\n  },\n  created() {\n    this.createKeydownListener()\n\n    let imgA = [\n      [\n        { x: 0.75, y: 0, z: 0 } as vec3,\n        { x: 0, y: 0.75, z: 0 } as vec3,\n        { x: 0, y: 0.5, z: 0 } as vec3,\n      ],\n      [\n        { x: 0, y: 0, z: 0.75 } as vec3,\n        { x: 0.75, y: 0, z: 0.75 } as vec3,\n        { x: 0.5, y: 0, z: 0.75 } as vec3,\n      ],\n      [\n        { x: 0, y: 0.75, z: 0.75 } as vec3,\n        { x: 0.75, y: 0.75, z: 0 } as vec3,\n        { x: 0.75, y: 0.5, z: 0 } as vec3,\n      ],\n    ] as vec3[][]\n    let imgB = [] as vec3[][]\n    let darkColor = { x: 0.4, y: 0.3, z: 0 } as vec3\n    let lightColor = { x: 0.8, y: 0.8, z: 0.7 } as vec3\n    imgB.push(new Array(8).fill({}).map((item, idx) => idx % 2 === 1 ? this.vSubtract(lightColor, darkColor) : this.vScale(darkColor, 0)))\n    for (let i = 0; i < 7; i++) {\n      let row = [] as vec3[]\n      for (let j = 0; j < 8; j++) {\n        row.push(i % 2 === j % 2 ? lightColor : darkColor)\n      }\n      imgB.push(row)\n    }\n\n    let sampleMaterialA = {\n      color: { x: 0.6, y: 0.8, z: 1 } as vec3,\n    } as PhongColor\n    let sampleMaterialB = {\n      color: { x: 0.6, y: 1, z: 0.8 } as vec3,\n    } as PhongColor\n    let sampleMaterialC = {\n      color: { x: 0.8, y: 1, z: 0.6 } as vec3,\n    } as PhongColor\n    let matteA = {\n      color: { x: 0.9, y: 0.9, z: 1 } as vec3,\n      n: 5,\n      reflectivity: 0\n    } as PhongColor\n    let matteB = {\n      color: { x: 0.6, y: 0.5, z: 0.8 } as vec3,\n      n: 5,\n      reflectivity: 0,\n      image: imgA,\n    } as PhongColor\n    let matteC = {\n      color: { x: 0.3, y: 0.3, z: 0.6 } as vec3,\n      n: 5,\n      reflectivity: 0\n    } as PhongColor\n    let matteD = {\n      color: { x: 0.8, y: 0.3, z: 0.35 } as vec3,\n      n: 5,\n      reflectivity: 0\n    } as PhongColor\n    let mirrorA = {\n      color: { x: 0.5, y: 0.8, z: 0.8 } as vec3,\n      reflectivity: 0.5,\n    } as PhongColor\n    let mirrorSphere = {\n      color: { x: 1, y: 1, z: 1 } as vec3,\n      ka: 0.25,\n      kd: 0.05,\n      n: 300,\n      reflectivity: 0.8,\n    } as PhongColor\n    let glassSphere = {\n      color: { x: 1, y: 1, z: 1 } as vec3,\n      ka: 0.25,\n      kd: 0.05,\n      n: 300,\n      reflectivity: 0.8,\n      // opacity: 0/////////////////////////\n    } as PhongColor\n    let textureScene0 = {\n      color: { x: 1, y: 0, z: 1 } as vec3,\n      ka: 0.65,\n      // reflectivity: 0.25,\n      imgSrcSceneIdx: 0,\n    } as PhongColor\n    let textureScene1 = {\n      color: { x: 1, y: 0, z: 1 } as vec3,\n      ka: 0.75,\n      // reflectivity: 0.25,\n      imgSrcSceneIdx: 3,\n    } as PhongColor\n\n    let pgScale = 2\n    let pgP = { x: -0.75, y: 1, z: -1 } as vec3\n    let pgU = { x: 2, y: 1, z: 0 } as vec3\n    pgU = this.vScale(this.norm(pgU), 2 * pgScale)\n    let pgV = { x: -0.5, y: 1, z: 3.5 } as vec3\n    pgV = this.vScale(this.norm(pgV), 1 * pgScale)\n\n    let pgP2 = { x: 3.5, y: 2.5, z: -1 } as vec3\n    let pgU2 = { x: 2, y: -0.5, z: 0 } as vec3\n    pgU2 = this.vScale(this.norm(pgU2), 2 * pgScale)\n    let pgV2 = { x: 0.5, y: 0.5, z: 3 } as vec3\n    pgV2 = this.vScale(this.norm(pgV2), 1 * pgScale)\n\n    let fastSettings = {\n      pxCols: 30,\n      pxRows: 15,\n      reflectLimit: 2,\n      superSampleLvl: 1,\n    } as ImageSettings\n\n    this.allScenes = [\n      // 0: original shape scene\n      {\n        camera: {\n          // cylinder bug view\n          // pos: { x: 1, y: 0.5, z: 0 } as vec3,\n          // dir: this.norm({ x: 0.4, y: 0.9, z: -0.3 } as vec3),\n          // main view\n          pos: { x: 2, y: -0.5, z: 0 } as vec3,\n          dir: { x: 0, y: 1, z: 0 } as vec3,\n          up: { x: 0, y: 0, z: 1 } as vec3,\n          fov: [Math.PI / 3.4, Math.PI / 6] as number[],\n          settings: fastSettings\n          // {\n          //   // pxCols: 300,\n          //   // pxRows: 150,\n          //   // // reflectLimit: 0,\n          //   // superSampleLvl: 1,\n          // } as ImageSettings,\n        } as Camera,\n        A: 0.5,\n        items: [\n          {\n            type: 'sphere',\n            c: { x: 2, y: 3.5, z: 0.5 } as vec3,\n            r: 0.5 as number,\n            material: {\n              color: { x: 0, y: 0, z: 1 } as vec3,\n            } as PhongColor,\n          } as Sphere,\n          {\n            type: 'sphere',\n            c: { x: 3, y: 2, z: 0 } as vec3,\n            r: 1 as number,\n            material: {\n              color: { x: 0, y: 0.8, z: 1 } as vec3,\n              kd: 0.2,\n              // n: 100\n            } as PhongColor,\n          } as Sphere,\n          {\n            type: 'sphere',\n            c: { x: 1, y: 3, z: -1 } as vec3,\n            r: 0.75 as number,\n            material: {\n              color: { x: 0, y: 0.4, z: 0.1 } as vec3,\n            } as PhongColor,\n          } as Sphere,\n          {\n            type: 'sphere',\n            c: { x: 0, y: 3, z: 1 } as vec3,\n            r: 0.4 as number,\n            material: {\n              color: { x: 1, y: 0.4, z: 0.1 } as vec3,\n            } as PhongColor,\n          } as Sphere,\n          {\n            type: 'plane',\n            p: { x: 0, y: 0, z: -1 } as vec3,\n            n: { x: 0, y: 0, z: 1 } as vec3,\n            material: {\n              color: { x: 1, y: 1, z: 1 } as vec3,\n              kd: 0.1,\n              reflectivity: 0.5,\n            } as PhongColor,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 4, y: 0, z: 0 } as vec3,\n            n: { x: -1, y: 0, z: 0 } as vec3,\n            material: {\n              color: { x: 0, y: 1, z: 0 } as vec3,\n              reflectivity: 0,\n            } as PhongColor,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: -4, y: 0, z: 0 } as vec3,\n            n: this.norm({ x: 1, y: 0, z: 1 } as vec3),\n            material: {\n              color: { x: 0, y: 1, z: 0.6 } as vec3,\n              reflectivity: 0,\n            } as PhongColor,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 0, y: 10, z: 0 } as vec3,\n            n: { x: 0, y: -1, z: 0 } as vec3,\n            material: {\n              color: { x: 0.5, y: 0.7, z: 0.8 } as vec3,\n              reflectivity: 0,\n            } as PhongColor,\n          } as Plane,\n          {\n            type: 'triangle',\n            material: {\n              color: { x: 1, y: 0, z: 0 } as vec3,\n            } as PhongColor,\n            v0: { x: 1, y: 2, z: -1 } as vec3,\n            v1: { x: 0, y: 2, z: -0.5 } as vec3,\n            v2: { x: 1, y: 1.5, z: -1 } as vec3,\n          } as Triangle,\n          {\n            type: 'triangle',\n            material: {\n              color: { x: 1, y: 0, z: 0 } as vec3,\n            } as PhongColor,\n            v0: { x: 1, y: 1.5, z: -1 } as vec3,\n            v1: { x: 0, y: 2, z: -0.5 } as vec3,\n            v2: { x: 0, y: 1.5, z: -0.5 } as vec3,\n          } as Triangle,\n          {\n            type: 'triangle',\n            material: {\n              color: { x: 1, y: 0, z: 0 } as vec3,\n            } as PhongColor,\n            v0: { x: 1, y: 1.5, z: -1 } as vec3,\n            v1: { x: 0, y: 1.5, z: -0.5 } as vec3,\n            v2: { x: 0, y: 1.5, z: -1 } as vec3,\n          } as Triangle,\n          {\n            type: 'triangle',\n            material: {\n              color: { x: 1, y: 0, z: 0 } as vec3,\n            } as PhongColor,\n            v0: { x: 1, y: 2, z: -1 } as vec3,\n            v1: { x: 0, y: 2, z: -0.5 } as vec3,\n            v2: { x: 0, y: 2, z: -1 } as vec3,\n          } as Triangle,\n          {\n            type: 'tube',\n            material: {\n              color: { x: 1, y: 1, z: 0 } as vec3,\n            } as PhongColor,\n            p: { x: -1.5, y: 3, z: -1 } as vec3,\n            d: this.norm({ x: 2, y: 1.5, z: 2 } as vec3),\n            r: 0.4,\n          } as Tube,\n          {\n            type: 'cylinder',\n            material: {\n              color: { x: 0.4, y: 0.8, z: 0.6 } as vec3,\n            } as PhongColor,\n            p0: { x: 1.85, y: 1.6, z: -0.53 } as vec3,\n            p1: { x: 1.75, y: 1.5, z: -0.48 } as vec3,\n            r: 0.5,\n          } as Cylinder,\n        ] as Item[],\n        compoundItems: [] as Item[],\n        lights: [\n          {\n            p: { x: 1.5, y: 1, z: 2.5 } as vec3,\n            C: 30\n          } as Light,\n          {\n            p: { x: 3, y: 0.5, z: -0.9 } as vec3,\n            C: 0.75\n          } as Light,\n          // {\n          //   p: { x: 0, y: 0, z: 5 } as vec3,\n          //   C: 100\n          // } as Light,\n        ] as Light[],\n      },\n      // 1: ball on raft\n      {\n        camera: {\n          pos: { x: 0.25, y: -1, z: 0 } as vec3,\n          dir: this.norm({ x: 2, y: 5, z: -0.5 } as vec3),\n          up: { x: 0, y: 0, z: 1 } as vec3,\n          fov: [Math.PI / 3.4, Math.PI / 6] as number[],\n          settings: fastSettings,// this.canvasSettings,\n        } as Camera,\n        A: 0.5,\n        items: [\n          {\n            type: 'sphere',\n            c: { x: 3, y: 2.5, z: -0.2 } as vec3,\n            r: 0.6,\n            material: mirrorSphere,\n          } as Sphere,\n          {\n            type: 'plane',\n            p: { x: 0, y: 0, z: -1 } as vec3,\n            n: { x: 0, y: 0, z: 1 } as vec3,\n            material: mirrorA,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 0, y: 8, z: 0 } as vec3,\n            n: { x: 0, y: -1, z: 0 } as vec3,\n            material: matteA,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 9, y: 0, z: 0 } as vec3,\n            n: { x: -1, y: 0, z: 0 } as vec3,\n            material: matteB,\n          } as Plane,\n        ] as Item[],\n        compoundItems: [\n          {\n            type: 'smoothPolygon',\n            material: sampleMaterialB,\n            vertices: [\n              { x: 0.2, y: 4.8, z: -1 } as vec3,\n              { x: 1.8, y: 4.8, z: -1 } as vec3,\n              { x: 1.8, y: 2.2, z: -1 } as vec3,\n              { x: 0.2, y: 2.2, z: -1 } as vec3,\n            ],\n            r: 0.2,\n          } as SmoothPolygon,\n          {\n            type: 'smoothPolygon',\n            material: sampleMaterialA,\n            vertices: [\n              { x: 2.2, y: 4.8, z: -1 } as vec3,\n              { x: 4.8, y: 4.8, z: -1 } as vec3,\n              { x: 4.8, y: 2.2, z: -1 } as vec3,\n              { x: 2.2, y: 2.2, z: -1 } as vec3,\n            ],\n            r: 0.2,\n          } as SmoothPolygon,\n          {\n            type: 'smoothPolygon',\n            material: sampleMaterialC,\n            vertices: [\n              { x: 0.2, y: 1.8, z: -1 } as vec3,\n              { x: 4.8, y: 1.8, z: -1 } as vec3,\n              { x: 4.8, y: 1.2, z: -1 } as vec3,\n              { x: 0.2, y: 1.2, z: -1 } as vec3,\n            ],\n            r: 0.2,\n          } as SmoothPolygon,\n        ] as Item[],\n        lights: [\n          {\n            p: { x: 0, y: 0, z: 5 } as vec3,\n            C: 100\n          } as Light,\n        ] as Light[],\n      },\n      // 2: picture frames RD (w/ everything else commented)\n      {\n        camera: {\n          // pos: { x: 2, y: -4, z: 1.5 } as vec3,//origin\n          pos: { x: 2.5, y: -2.5, z: 0.5 } as vec3,//origin\n          // pos: { x: 3, y: -2, z: 0.5 } as vec3,//sceneB\n          dir: this.norm({ x: 0, y: 1, z: 0 } as vec3),\n          // pos: { x: 0.25, y: -1, z: 0 } as vec3,//sceneA\n          // dir: this.norm({ x: 2, y: 5, z: -0.5 } as vec3),\n          // pos: { x: 2, y: -0.5, z: 0 } as vec3,\n          // dir: { x: 0, y: 1, z: 0 } as vec3,\n          // pos: { x: 1, y: -1, z: -0.5 } as vec3,\n          // dir: this.norm({ x: 0.3, y: 2, z: 0.4 } as vec3),\n          up: { x: 0, y: 0, z: 1 } as vec3,\n          fov: [Math.PI / 3.4, Math.PI / 6] as number[],\n          settings: this.canvasSettings,\n        } as Camera,\n        A: 0.5,\n        items: [\n          // {\n          //   type: 'sphere',\n          //   c: { x: 3, y: 2.5, z: -0.2 } as vec3,\n          //   r: 0.6,\n          //   material: {\n          //     color: { x: 0.7, y: 0.7, z: 0.7 } as vec3,\n          //     reflectivity: 0.8,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: pgP,\n          //   r: 0.1,\n          //   material: {\n          //     color: { x: 0.7, y: 0.7, z: 0.7 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: this.vAdd(pgP, pgU),\n          //   r: 0.1,\n          //   material: {\n          //     color: { x: 0.7, y: 0.7, z: 0.7 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: this.vAdd(pgP, pgV),\n          //   r: 0.1,\n          //   material: {\n          //     color: { x: 0.7, y: 0.7, z: 0.7 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 4.5, y: 1, z: -0.3 } as vec3,\n          //   r: 0.7,\n          //   material: {\n          //     color: { x: 0.7, y: 0.7, z: 0.7 } as vec3,\n          //     reflectivity: 0.7,\n          //   } as PhongColor,\n          // } as Sphere,\n          {\n            type: 'parallelogram',\n            material: textureScene0,\n            p: pgP,\n            // p: { x: 0.5, y: 2, z: -1 } as vec3,\n            u: pgU,\n            v: pgV,\n          } as Parallelogram,\n          {\n            type: 'parallelogram',\n            material: textureScene1,\n            p: pgP2,\n            // p: { x: 0.5, y: 2, z: -1 } as vec3,\n            u: pgU2,\n            v: pgV2,\n          } as Parallelogram,\n          // {\n          //   type: 'parallelogram',\n          //   material: matteB,\n          //   p: { x: 0, y: 0, z: 0 } as vec3,\n          //   // p: { x: 0.5, y: 2, z: -1 } as vec3,\n          //   u: { x: 2, y: 1, z: 0 } as vec3,\n          //   v: { x: -0.5, y: 1, z: 3.5 } as vec3,\n          // } as Parallelogram,\n          // {\n          //   type: 'parallelogram',\n          //   material: matteB,\n          //   p: { x: 0, y: -1, z: 0 } as vec3,\n          //   // p: { x: 0.5, y: 2, z: -1 } as vec3,\n          //   u: { x: 2, y: 1, z: 0 } as vec3,\n          //   v: { x: 1, y: 2, z: 1 } as vec3,\n          // } as Parallelogram,\n          {\n            type: 'plane',\n            p: { x: 0, y: 0, z: -1 } as vec3,\n            n: { x: 0, y: 0, z: 1 } as vec3,\n            material: mirrorA,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 0, y: 8, z: 0 } as vec3,\n            n: { x: 0, y: -1, z: 0 } as vec3,\n            material: matteA,\n          } as Plane,\n          {\n            type: 'plane',\n            p: { x: 9, y: 0, z: 0 } as vec3,\n            n: { x: -1, y: 0, z: 0 } as vec3,\n            material: matteB,\n          } as Plane,\n          // {\n          //   type: 'tube',\n          //   material: matteC,\n          //   p: { x: 8, y: 8.5, z: -1 } as vec3,\n          //   d: this.norm({ x: -1, y: 0, z: 1 } as vec3),\n          //   r: 1,\n          // } as Tube,\n          // {\n          //   type: 'tube',\n          //   material: matteC,\n          //   p: { x: 2, y: 8.5, z: -1 } as vec3,\n          //   d: this.norm({ x: -1, y: 0, z: 1 } as vec3),\n          //   r: 1,\n          // } as Tube,\n          // {\n          //   type: 'tube',\n          //   material: matteC,\n          //   p: { x: -4, y: 8.5, z: -1 } as vec3,\n          //   d: this.norm({ x: -1, y: 0, z: 1 } as vec3),\n          //   r: 1,\n          // } as Tube,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 1, y: 3, z: -0.8 } as vec3,\n          //   r: 0.2,\n          //   material: sampleMaterialA,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 3, y: 3, z: -0.8 } as vec3,\n          //   r: 0.2 as number,\n          //   material: sampleMaterialA,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 3, y: 3, z: 0.8 } as vec3,\n          //   r: 0.2 as number,\n          //   material: sampleMaterialA,\n          // } as Sphere,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialA,\n          //   p0: { x: 1, y: 3, z: -0.8 } as vec3,\n          //   p1: { x: 3, y: 3, z: -0.8 } as vec3,\n          //   r: 0.2,\n          // } as Cylinder,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialA,\n          //   p0: { x: 3, y: 3, z: -0.8 } as vec3,\n          //   p1: { x: 3, y: 3, z: 0.8 } as vec3,\n          //   r: 0.2,\n          // } as Cylinder,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialA,\n          //   p0: { x: 1, y: 3, z: -0.8 } as vec3,\n          //   p1: { x: 3, y: 3, z: 0.8 } as vec3,\n          //   r: 0.2,\n          // } as Cylinder,\n          // {\n          //   type: 'triangle',\n          //   material: sampleMaterialA,\n          //   v0: { x: 1, y: 2.8, z: -0.8 } as vec3,\n          //   v1: { x: 3, y: 2.8, z: -0.8 } as vec3,\n          //   v2: { x: 3, y: 2.8, z: 0.8 } as vec3,\n          // } as Triangle,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 2, y: 3.5, z: 0.5 } as vec3,\n          //   r: 0.5 as number,\n          //   material: {\n          //     color: { x: 0, y: 0, z: 1 } as vec3,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 3, y: 2, z: 0 } as vec3,\n          //   r: 1 as number,\n          //   material: {\n          //     color: { x: 0, y: 0.8, z: 1 } as vec3,\n          //     kd: 0.2,\n          //     // n: 100\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 1, y: 3, z: -1 } as vec3,\n          //   r: 0.75 as number,\n          //   material: {\n          //     color: { x: 0, y: 0.4, z: 0.1 } as vec3,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   c: { x: 0, y: 3, z: 1 } as vec3,\n          //   r: 0.4 as number,\n          //   material: {\n          //     color: { x: 1, y: 0.4, z: 0.1 } as vec3,\n          //   } as PhongColor,\n          // } as Sphere,\n          // {\n          //   type: 'plane',\n          //   p: { x: 0, y: 0, z: -1 } as vec3,\n          //   n: { x: 0, y: 0, z: 1 } as vec3,\n          //   material: {\n          //     color: { x: 1, y: 1, z: 1 } as vec3,\n          //     kd: 0.1,\n          //     reflectivity: 0.5,\n          //   } as PhongColor,\n          // } as Plane,\n          // {\n          //   type: 'plane',\n          //   p: { x: 4, y: 0, z: 0 } as vec3,\n          //   n: { x: -1, y: 0, z: 0 } as vec3,\n          //   material: {\n          //     color: { x: 0, y: 1, z: 0 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Plane,\n          // {\n          //   type: 'plane',\n          //   p: { x: -4, y: 0, z: 0 } as vec3,\n          //   n: this.norm({ x: 1, y: 0, z: 1 } as vec3),\n          //   material: {\n          //     color: { x: 0, y: 1, z: 0.6 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Plane,\n          // {\n          //   type: 'plane',\n          //   p: { x: 0, y: 10, z: 0 } as vec3,\n          //   n: { x: 0, y: -1, z: 0 } as vec3,\n          //   material: {\n          //     color: { x: 0.5, y: 0.7, z: 0.8 } as vec3,\n          //     reflectivity: 0,\n          //   } as PhongColor,\n          // } as Plane,\n          // {\n          //   type: 'triangle',\n          //   material: {\n          //     color: { x: 1, y: 0, z: 0 } as vec3,\n          //   } as PhongColor,\n          //   v0: { x: 1, y: 2, z: -1 } as vec3,\n          //   v1: { x: 0, y: 2, z: -0.5 } as vec3,\n          //   v2: { x: 1, y: 1.5, z: -1 } as vec3,\n          // } as Triangle,\n          // {\n          //   type: 'triangle',\n          //   material: {\n          //     color: { x: 1, y: 0, z: 0 } as vec3,\n          //   } as PhongColor,\n          //   v0: { x: 1, y: 1.5, z: -1 } as vec3,\n          //   v1: { x: 0, y: 2, z: -0.5 } as vec3,\n          //   v2: { x: 0, y: 1.5, z: -0.5 } as vec3,\n          // } as Triangle,\n          // {\n          //   type: 'triangle',\n          //   material: {\n          //     color: { x: 1, y: 0, z: 0 } as vec3,\n          //   } as PhongColor,\n          //   v0: { x: 1, y: 1.5, z: -1 } as vec3,\n          //   v1: { x: 0, y: 1.5, z: -0.5 } as vec3,\n          //   v2: { x: 0, y: 1.5, z: -1 } as vec3,\n          // } as Triangle,\n          // {\n          //   type: 'triangle',\n          //   material: {\n          //     color: { x: 1, y: 0, z: 0 } as vec3,\n          //   } as PhongColor,\n          //   v0: { x: 1, y: 2, z: -1 } as vec3,\n          //   v1: { x: 0, y: 2, z: -0.5 } as vec3,\n          //   v2: { x: 0, y: 2, z: -1 } as vec3,\n          // } as Triangle,\n          // {\n          //   type: 'tube',\n          //   material: {\n          //     color: { x: 1, y: 1, z: 0 } as vec3,\n          //   } as PhongColor,\n          //   p: { x: -1.5, y: 3, z: -1 } as vec3,\n          //   d: this.norm({ x: 2, y: 1.5, z: 2 } as vec3),\n          //   r: 0.4,\n          // } as Tube,\n          // {\n          //   type: 'cylinder',\n          //   material: {\n          //     color: { x: 0.4, y: 0.8, z: 0.6 } as vec3,\n          //   } as PhongColor,\n          //   p0: { x: 1.85, y: 1.6, z: -0.53 } as vec3,\n          //   p1: { x: 1.75, y: 1.5, z: -0.48 } as vec3,\n          //   r: 0.5,\n          // } as Cylinder,\n        ] as Item[],\n        compoundItems: [\n          // {\n          //   type: 'polygon',\n          //   material: matteA,\n          //   vertices: [\n          //     { x: 3.5, y: 2.5, z: -1 } as vec3,\n          //     { x: 5.5, y: 2, z: -1 } as vec3,\n          //     { x: 6, y: 2.5, z: 2 } as vec3,\n          //     { x: 4, y: 3, z: 2 } as vec3,\n          //   ]\n          // } as Polygon,\n          // {\n          //   type: 'polygon',\n          //   material: matteA,\n          //   vertices: [\n          //     { x: -1, y: 7, z: -1 } as vec3,\n          //     { x: 7, y: 7, z: -1 } as vec3,\n          //     { x: 7, y: 7, z: 4 } as vec3,\n          //     { x: -1, y: 7, z: 4 } as vec3,\n          //   ]\n          // } as Polygon,\n          // {\n          //   type: 'polygon',\n          //   material: matteA,\n          //   vertices: [\n          //     { x: 7, y: 7, z: -1 } as vec3,\n          //     { x: 7, y: 0, z: -1 } as vec3,\n          //     { x: 7, y: 0, z: 4 } as vec3,\n          //     { x: 7, y: 7, z: 4 } as vec3,\n          //   ]\n          // } as Polygon,\n          // {\n          //   type: 'smoothPolygon',\n          //   material: sampleMaterialB,\n          //   vertices: [\n          //     { x: 0.2, y: 4.8, z: -1 } as vec3,\n          //     { x: 1.8, y: 4.8, z: -1 } as vec3,\n          //     { x: 1.8, y: 2.2, z: -1 } as vec3,\n          //     { x: 0.2, y: 2.2, z: -1 } as vec3,\n          //   ],\n          //   r: 0.2,\n          // } as SmoothPolygon,\n          // {\n          //   type: 'smoothPolygon',\n          //   material: sampleMaterialA,\n          //   vertices: [\n          //     { x: 2.2, y: 4.8, z: -1 } as vec3,\n          //     { x: 4.8, y: 4.8, z: -1 } as vec3,\n          //     { x: 4.8, y: 2.2, z: -1 } as vec3,\n          //     { x: 2.2, y: 2.2, z: -1 } as vec3,\n          //   ],\n          //   r: 0.2,\n          // } as SmoothPolygon,\n          // {\n          //   type: 'smoothPolygon',\n          //   material: sampleMaterialC,\n          //   vertices: [\n          //     { x: 0.2, y: 1.8, z: -1 } as vec3,\n          //     { x: 4.8, y: 1.8, z: -1 } as vec3,\n          //     { x: 4.8, y: 1.2, z: -1 } as vec3,\n          //     { x: 0.2, y: 1.2, z: -1 } as vec3,\n          //   ],\n          //   r: 0.2,\n          // } as SmoothPolygon,\n        ] as Item[],\n        lights: [\n          // {\n          //   p: { x: 1.5, y: 1, z: 2.5 } as vec3,\n          //   C: 30\n          // } as Light,\n          // {\n          //   p: { x: 3, y: 0.5, z: -0.9 } as vec3,\n          //   C: 0.75\n          // } as Light,\n          {\n            p: { x: 0, y: 0, z: 5 } as vec3,\n            C: 100\n          } as Light,\n          {\n            p: { x: 5, y: 0, z: 3 } as vec3,\n            C: 30\n          } as Light,\n        ] as Light[],\n      },\n      // 3: checkerboard & sphere\n      {\n        camera: {\n          pos: { x: 2, y: 0.45, z: 1 } as vec3,//origin\n          dir: this.norm({ x: 0, y: 1, z: -0.25 } as vec3),\n          up: { x: 0, y: 0, z: 1 } as vec3,\n          fov: [Math.PI / 3.4, Math.PI / 6] as number[],\n          settings: this.canvasSettings,\n        } as Camera,\n        A: 0.5,\n        voidColor: { x: 0.7, y: 0.8, z: 1 } as vec3,\n        items: [\n          {\n            type: 'parallelogram',\n            material: {\n              color: { x: 1, y: 0, z: 1 } as vec3,\n              reflectivity: 0.1,\n              image: imgB,\n            } as PhongColor,\n            p: { x: 0, y: 2, z: 0 } as vec3,\n            u: { x: 4, y: 0, z: 0 } as vec3,\n            v: { x: 0, y: 4, z: 0 } as vec3,\n          } as Parallelogram,\n          {\n            type: 'parallelogram',\n            material: {\n              color: { x: 0.4, y: 0.3, z: 0 } as vec3,\n              kd: 0.4,\n              reflectivity: 0.1,\n            } as PhongColor,\n            p: { x: 0, y: 2, z: -1 } as vec3,\n            u: { x: 4, y: 0, z: 0 } as vec3,\n            v: { x: 0, y: 0, z: 1 } as vec3,\n          } as Parallelogram,\n          {\n            type: 'sphere',\n            material: glassSphere,\n            c: { x: 1.25, y: 2.75, z: 0.4 } as vec3,\n            r: 0.4\n          } as Sphere,\n          {\n            type: 'cylinder',\n            material: matteC,\n            p0: { x: 3.25, y: 2.25, z: 0.6 } as vec3,\n            p1: { x: 3.25, y: 2.25, z: 0 } as vec3,\n            r: 0.15\n          } as Cylinder,\n        ] as Item[],\n        compoundItems: [] as Item[],\n        lights: [\n          {\n            p: { x: -0.5, y: 0.5, z: 8 } as vec3,\n            C: 300\n          } as Light,\n        ] as Light[],\n      },\n      // 4: null volumes practice\n      {\n        camera: {\n          // main cylinder\n          pos: { x: 3, y: -0.75, z: 1.75 } as vec3,\n          dir: this.norm({ x: -0.75, y: 1.5, z: -1.5 } as vec3),\n          // cylinders front\n          // pos: { x: 2, y: -1.65, z: 0.75 } as vec3,\n          // dir: this.norm({ x: 0, y: 1, z: 0 } as vec3),\n          // cylinders back\n          // pos: { x: 4.24, y: 4.76, z: 2 } as vec3,\n          // dir: this.norm({ x: -0.72, y: -0.83, z: -0.51 } as vec3),\n          // cylinder end bug view\n          // pos: { x: 2.24, y: 2.76, z: 0.78 } as vec3,\n          // dir: this.norm({ x: -0.52, y: -0.83, z: -0.21 } as vec3),\n          up: { x: 0, y: 0, z: 1 } as vec3,\n          fov: [Math.PI / 3.4, Math.PI / 6] as number[],\n          settings: this.canvasSettings,\n        } as Camera,\n        A: 0.5,\n        voidColor: { x: 0.7, y: 0.8, z: 1 } as vec3,\n        items: [\n          {\n            type: 'parallelogram',\n            material: {\n              color: { x: 1, y: 0, z: 1 } as vec3,\n              reflectivity: 0.1,\n              image: imgB,\n            } as PhongColor,\n            p: { x: 0, y: 0, z: 0 } as vec3,\n            u: { x: 4, y: 0, z: 0 } as vec3,\n            v: { x: 0, y: 4, z: 0 } as vec3,\n          } as Parallelogram,\n          {\n            type: 'parallelogram',\n            material: {\n              color: { x: 0.4, y: 0.3, z: 0 } as vec3,\n              kd: 0.4,\n              reflectivity: 0.1,\n            } as PhongColor,\n            p: { x: 0, y: 0, z: -3 } as vec3,\n            u: { x: 4, y: 0, z: 0 } as vec3,\n            v: { x: 0, y: 0, z: 3 } as vec3,\n          } as Parallelogram,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialB,\n          //   p0: { x: 0, y: 0.5, z: 0.25 } as vec3,\n          //   p1: { x: 0, y: 1.5, z: 0.25 } as vec3,\n          //   r: 0.25\n          // } as Cylinder,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialB,\n          //   p0: { x: 2, y: 0.5, z: 0.5 } as vec3,\n          //   p1: { x: 2, y: 1.5, z: 0.5 } as vec3,\n          //   r: 0.5\n          // } as Cylinder,\n          // {\n          //   type: 'cylinder',\n          //   material: sampleMaterialB,\n          //   p0: { x: 4, y: 0.5, z: 0.75 } as vec3,\n          //   p1: { x: 4, y: 1.5, z: 0.75 } as vec3,\n          //   r: 0.75\n          // } as Cylinder,\n          // {\n          //   type: 'sphere',\n          //   material: matteD,\n          //   c: { x: 0, y: 1.5, z: 0.25 } as vec3,\n          //   r: 0.2\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   material: matteD,\n          //   c: { x: 2, y: 1.5, z: 0.5 } as vec3,\n          //   r: 0.2\n          // } as Sphere,\n          // {\n          //   type: 'sphere',\n          //   material: matteD,\n          //   c: { x: 4, y: 1.5, z: 0.75 } as vec3,\n          //   r: 0.2\n          // } as Sphere,\n          // {\n          //   type: 'tube',\n          //   material: matteC,\n          //   p: { x: 0, y: 3, z: 0 } as vec3,\n          //   d: { x: 1, y: 0, z: 0 } as vec3,\n          //   r: 0.25\n          // } as Tube,\n          // {// cylinder null volume\n          //   type: 'sphere',\n          //   material: matteD,\n          //   c: { x: 2, y: 0.75, z: 1 } as vec3,\n          //   r: 0.4\n          // } as Sphere,\n          {\n            type: 'cylinder',\n            material: sampleMaterialB,\n            p0: { x: 2, y: 0.75, z: 0 } as vec3,\n            p1: { x: 2, y: 0.75, z: 1 } as vec3,\n            r: 0.6,\n            nullVolumes: [\n              {\n                type: 'sphere',\n                material: matteD,\n                c: { x: 2, y: 0.75, z: 1 } as vec3,\n                r: 0.4\n              } as Sphere,\n              {\n                type: 'tube',\n                material: matteD,\n                p: { x: 2, y: 0.75, z: 0.5 } as vec3,\n                d: { x: 0, y: 1, z: 0 } as vec3,\n                r: 0.3\n              } as Tube,\n            ]\n          } as Cylinder,\n        ] as Item[],\n        compoundItems: [] as Item[],\n        lights: [\n          {\n            p: { x: 0.5, y: -1, z: 8 } as vec3,\n            C: 300\n          } as Light,\n        ] as Light[],\n      },\n    ]\n\n    this.allScenes.forEach((scene: Scene, idx: number) => scene.compoundItems.forEach((i: Item) => this.unpackCompound(i, idx)))\n\n    this.allScenes.forEach((scene: Scene) => {\n      // set default camera settings\n      if (this.doGlobalCameraSettings || scene.camera.settings.pxRows === undefined) {\n        scene.camera.settings.pxRows = this.canvasSettings.pxRows\n      }\n      if (this.doGlobalCameraSettings || scene.camera.settings.pxCols === undefined) {\n        scene.camera.settings.pxCols = this.canvasSettings.pxCols\n      }\n      if (this.doGlobalCameraSettings || scene.camera.settings.reflectLimit === undefined) {\n        scene.camera.settings.reflectLimit = this.canvasSettings.reflectLimit\n      }\n      if (this.doGlobalCameraSettings || scene.camera.settings.refractLimit === undefined) {\n        scene.camera.settings.refractLimit = this.canvasSettings.refractLimit\n      }\n      if (this.doGlobalCameraSettings || scene.camera.settings.superSampleLvl === undefined) {\n        scene.camera.settings.superSampleLvl = this.canvasSettings.superSampleLvl\n      }\n\n      scene.camera.image = [[{ x: 1, y: 1, z: 0 } as vec3]]\n\n      // set default material values\n      scene.items.forEach((i: Item) => {\n        if (i.material.ka === undefined) {\n          i.material.ka = 0.5\n        }\n        if (i.material.kd === undefined) {\n          i.material.kd = 0.2\n        }\n        if (i.material.ks === undefined) {\n          i.material.ks = 0.1\n        }\n        if (i.material.n === undefined) {\n          i.material.n = 50\n        }\n        if (i.material.reflectivity === undefined) {\n          i.material.reflectivity = 0.1\n        }\n      })\n    })\n\n    this.$nextTick(() => {\n      // bind vueCanvas to canvas element\n      let c = document.getElementById(\"c\") as HTMLCanvasElement\n      let ctx = c.getContext(\"2d\");\n      if (ctx !== null) {\n        this.vueCanvas = ctx;\n        this.generateCanvasImage()\n      }\n    })\n  },\n  computed: {\n    totalRuntime() : null | string {\n      return this.getRuntime(this.startTime, this.endTime)\n    },\n    getWidthInfo() : string {\n      return window.innerWidth < this.canvasWidth ? 'max-width:' + this.canvasWidth + 'px;' : ''\n    },\n    canvasWidth() : number {\n      return this.canvasSettingsControl.size * 300\n    },\n    canvasHeight() : number {\n      return this.canvasSettingsControl.size * 150\n    },\n    canvasSettings() : ImageSettings {\n      return {\n        pxRows: this.canvasHeight,\n        pxCols: this.canvasWidth,\n        reflectLimit: 3,\n        // refractLimit: 3,\n        superSampleLvl: 1,\n      } as ImageSettings\n    },\n    loading() : boolean {\n      if (this.captureTimes.length === 0) {\n        return true\n      }\n      let currentSceneShown = this.captureTimes[this.captureTimes.length - 1] as TimingData\n      return this.mainSceneIdx !== currentSceneShown.sceneIdx\n    },\n  },\n  methods: {\n    getRuntime(start: null | moment.Moment, end: null | moment.Moment) : null | string {\n      return (start && end) ? end.diff(start, 'seconds', true).toFixed(1) : null\n    },\n    keyboardResponder(e: KeyboardEvent) {\n      if (e.key === 'W') {\n        this.move('up')\n      }\n      else if (e.key === 'S') {\n        this.move('down')\n      }\n      else if (e.key === 'w') {\n        this.move('forward')\n      }\n      else if (e.key === 's') {\n        this.move('back')\n      }\n      else if (e.key === 'a') {\n        this.move('left')\n      }\n      else if (e.key === 'd') {\n        this.move('right')\n      }\n      else if (e.key === 'l') {\n        let scene = this.allScenes[this.mainSceneIdx]\n        console.log('Camera pos: ' + this.vec3ToStr(scene.camera.pos))\n        console.log('Camera dir: ' + this.vec3ToStr(scene.camera.dir))\n      }\n      // else if (e.key === 'b') {\n      //   this.blurCross()\n      // }\n      // else if (e.key === 'g') {\n      //   this.cMat = this.get3dFrom2d(this.getGrayscale(this.cMat))\n      //   this.refreshCanvas()\n      // }\n      // else if (e.key === 'e') {\n      //   this.cMat = this.get3dFrom2d(this.getEdgeMap(this.cMat))\n      //   this.refreshCanvas()\n      // }\n      // else if (e.key === 'B') {\n      //   this.blurCross(this.getEdgeMap(this.cMat))\n      // }\n      // else if (e.key === 'c') {\n      //   console.log('Capturing...')\n      //   this.generateCanvasImage()\n      //   console.log('Done.')\n      // }\n    },\n    createKeydownListener() {\n      // create keydown event listener (removing the  old one doesn't work rn :/)\n      window.removeEventListener('keydown', this.keyboardResponder)\n      window.addEventListener('keydown', this.keyboardResponder)\n    },\n    move(dir: string) {\n      console.log('Moving ' + dir)\n      let scene = this.allScenes[this.mainSceneIdx]\n      if (dir === 'forward') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vAdd(scene.camera.pos, scene.camera.dir)\n      }\n      else if (dir === 'back') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vSubtract(scene.camera.pos, scene.camera.dir)\n      }\n      else if (dir === 'left') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vAdd(\n          scene.camera.pos,\n          this.vCross(scene.camera.up, scene.camera.dir)\n        )\n      }\n      else if (dir === 'right') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vSubtract(\n          scene.camera.pos,\n          this.vCross(scene.camera.up, scene.camera.dir)\n        )\n      }\n      else if (dir === 'up') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vAdd(scene.camera.pos, scene.camera.up)\n      }\n      else if (dir === 'down') {\n        this.allScenes[this.mainSceneIdx].camera.pos = this.vSubtract(scene.camera.pos, scene.camera.up)\n      }\n      this.generateCanvasImage()\n    },\n    look(evt: MouseEvent) {\n      let canvas = document.getElementById(\"c\")\n      if (canvas) {\n        let rect = canvas.getBoundingClientRect()\n        let x = evt.clientX - rect.left - 1\n        let y = evt.clientY - rect.top - 1\n        if (x >= 0 && x < this.canvasWidth && y >= 0 && y < this.canvasHeight) {\n          let scene = this.allScenes[this.mainSceneIdx]\n          let cameraLeft = this.vCross(scene.camera.up, scene.camera.dir)\n          let screenWidth = 2 * Math.tan(scene.camera.fov[0])\n          let screenHeight = 2 * Math.tan(scene.camera.fov[1])\n          let pxWidth = screenWidth / this.canvasWidth\n          let pxHeight = screenHeight / this.canvasHeight\n          let pxYaw = pxWidth * (this.canvasWidth / 2 - x - 0.5)\n          let pxPitch = pxHeight * (this.canvasHeight / 2 - y - 0.5)\n\n          let targetDir = this.norm(\n            this.vAdd(\n              scene.camera.dir,\n              this.vScale(scene.camera.up, pxPitch),\n              this.vScale(cameraLeft, pxYaw)\n            )\n          )\n          scene.camera.dir = targetDir\n          this.capture(this.mainSceneIdx)\n          this.refreshCanvas()\n        }\n      }\n    },\n    vScale(v: vec3, n: number) : vec3 {\n      return {\n        x: n * v.x,\n        y: n * v.y,\n        z: n * v.z\n      } as vec3\n    },\n    vAdd(...allVecs: vec3[]) : vec3 {\n      return allVecs.reduce((prev: vec3, curr: vec3) : vec3 => {\n        return {\n          x: prev.x + curr.x,\n          y: prev.y + curr.y,\n          z: prev.z + curr.z\n        } as vec3\n      })\n    },\n    vSubtract(a: vec3, b: vec3) : vec3 {\n      return {\n        x: a.x - b.x,\n        y: a.y - b.y,\n        z: a.z - b.z\n      } as vec3\n    },\n    vDot(a: vec3, b: vec3) : number {\n      return (a.x * b.x) + (a.y * b.y) + (a.z * b.z)\n    },\n    vCross(a: vec3, b: vec3) : vec3 {\n      return {\n        x: (a.y * b.z) - (b.y * a.z),\n        y: (b.x * a.z) - (a.x * b.z),\n        z: (a.x * b.y) - (b.x * a.y),\n      } as vec3\n    },\n    magnitude(v: vec3) : number {\n      return Math.sqrt(this.vDot(v, v))\n    },\n    norm(v: vec3) : vec3 {\n      let mag = this.magnitude(v)\n      return this.vScale(v, 1 / mag)\n    },\n    refreshCanvas() {\n      let img = this.allScenes[this.mainSceneIdx].camera.image\n      let imgPxRows = img.length\n      let imgPxCols = img.length > 0 ? img[0].length : 0\n      // let imgPxRows = this.cMat.length\n      // let imgPxCols = this.cMat.length > 0 ? this.cMat[0].length : 0\n      let pxWidth = this.canvasWidth / imgPxCols\n      let pxHeight = this.canvasHeight / imgPxRows\n      for (let row = 0; row < imgPxRows; row++) {\n        for (let col = 0; col < imgPxCols; col++) {\n          let colorString = 'rgb(' +\n                            img[row][col].x * 256 + ',' +\n                            img[row][col].y * 256 + ',' +\n                            img[row][col].z * 256 + ')'\n          this.vueCanvas.fillStyle = colorString\n          this.vueCanvas.fillRect(col * pxWidth, row * pxHeight, pxWidth, pxHeight)\n        }\n      }\n    },\n    getAvgColor(colors: vec3[]) : vec3 {\n      return this.vScale(\n        this.vAdd(...colors),\n        1 / colors.length\n      )\n    },\n    solveQuadratic(a: number, b: number, c: number) : number[] {\n      let a2 = a * 2\n      let determinant = b * b - 2 * a2 * c\n      if (determinant >= 0) {\n        let sqDet = Math.sqrt(determinant)\n        return [(-b + sqDet) / a2, (-b - sqDet) / a2]\n      }\n      else {\n        return []\n      }\n    },\n    getUV(pg: Parallelogram, p: vec3) : number[] {\n      p = this.vSubtract(p, pg.p)\n\n      // decide which dimension to drop in calculations\n      let noX = pg.u.x === 0 && pg.v.x === 0\n      let noY = pg.u.y === 0 && pg.v.y === 0\n\n      let a = noX ? pg.u.y : pg.u.x\n      let b = noX ? pg.v.y : pg.v.x\n      let c = (noX || noY) ? pg.u.z : pg.u.y\n      let d = (noX || noY) ? pg.v.z : pg.v.y\n      let p1 = noX ? p.y : p.x\n      let p2 = (noX || noY) ? p.z : p.y\n\n      // calculate u & v coefficients\n      let invDet = 1 / (a * d - b * c)\n      let alpha = (d * p1 - b * p2) * invDet\n      let beta = (a * p2 - c * p1) * invDet\n\n      return [alpha, beta]\n    },\n    getRayPoint(ray: Ray, t: number) : vec3 {\n      return this.vAdd(\n        ray.o,\n        this.vScale(ray.dir, t)\n      )\n    },\n    getNormal(item: Item, p: vec3 = { x: 0, y: 0, z: 0 }) : vec3 {\n      let n = { x: 0, y: 0, z: 0 } as vec3\n      if (item.type === 'plane') {\n        let plane = item as Plane\n        n = plane.n\n      }\n      else if (item.type === 'triangle') {\n        let triangle = item as Triangle\n        n = this.norm(this.vCross(\n          this.vSubtract(triangle.v1, triangle.v0),\n          this.vSubtract(triangle.v2, triangle.v0)\n        ))\n      }\n      else if (item.type === 'circle') {\n        let circle = item as Circle\n        n = circle.n\n      }\n      else if (item.type === 'parallelogram') {\n        let pg = item as Parallelogram\n        n = this.norm(this.vCross(pg.u, pg.v))\n      }\n      else if (item.type === 'sphere') {\n        let sphere = item as Sphere\n        n = this.norm(this.vSubtract(p, sphere.c))\n      }\n      else if (item.type === 'tube') {\n        let tube = item as Tube\n        n = this.norm(\n          this.vSubtract(\n            p,\n            this.vAdd(\n              tube.p,\n              this.vScale(\n                tube.d,\n                this.vDot(\n                  tube.d,\n                  this.vSubtract(p, tube.p)\n                )\n              )\n            )\n          )\n        )\n      }\n      else if (item.type === 'cylinder') {\n        let cylinder = item as Cylinder\n        let d = this.norm(this.vSubtract(cylinder.p1, cylinder.p0))\n        let qp = this.vAdd(\n          cylinder.p0,\n          this.vScale(\n            d,\n            this.vDot(\n              d,\n              this.vSubtract(p, cylinder.p0)\n            )\n          )\n        )\n        let p0QpDotD = this.vDot(\n          this.vSubtract(qp, cylinder.p0),\n          d\n        )\n        if (Math.abs(p0QpDotD) < 0.00001) {\n          n = this.vScale(d, -1)\n        }\n        else {\n          let p1QpDotNegD = this.vDot(\n            this.vSubtract(qp, cylinder.p1),\n            this.vScale(d, -1)\n          )\n          if (Math.abs(p1QpDotNegD) < 0.00001) {\n            n = d\n          }\n          else {\n            n = this.norm(this.vSubtract(p, qp))\n          }\n        }\n      }\n      return n\n    },\n    isInside(p: vec3, item: Item) : boolean {\n      if (item.type === 'sphere') {\n        let sphere = item as Sphere\n        let dist = this.vSubtract(sphere.c, p)\n        return this.magnitude(dist) <= sphere.r\n        // return this.vDot(dist, dist) <= sphere.r * sphere.r//////////////////////////prolly use this tho it won't matter on this small a scale\n      }\n      else if (item.type === 'tube') {\n        // asdf\n      }\n      return false\n    },\n    intersect(ray: Ray, item: Item, isNullVolume = false) : null | number {\n      // let t = null as null | number\n      let ts = [] as number[]////////////////////////////////////////////////////////////////maybe make this just number[]?\n\n      if (item.type === 'plane') {\n        let plane = item as Plane\n        let bottom = this.vDot(plane.n, ray.dir)\n        if (bottom !== 0){\n          let initialT = this.vDot(plane.n, this.vSubtract(plane.p, ray.o)) / bottom\n          // t = initialT > 0 ? initialT : null////////////////////////////////////////////////do this for each shape\n          ts = initialT > 0 ? [ initialT ] : []\n        }\n      }\n      else if (item.type === 'triangle') {\n        let triangle = item as Triangle\n        let n = this.getNormal(item)\n        let initialT = this.intersect(ray, { type: 'plane', p: triangle.v0, n: n } as Plane)\n        if (initialT !== null) {\n          let p = this.getRayPoint(ray, initialT)\n\n          // determine if point is inside triangle\n          let v0v1 = this.vSubtract(triangle.v1, triangle.v0)\n          let v1v2 = this.vSubtract(triangle.v2, triangle.v1)\n          let v2v0 = this.vSubtract(triangle.v0, triangle.v2)\n          let v0v1Xv0p = this.vCross(\n            v0v1,\n            this.vSubtract(p, triangle.v0)\n          )\n          let v1v2Xv1p = this.vCross(\n            v1v2,\n            this.vSubtract(p, triangle.v1)\n          )\n          let v2v0Xv2p = this.vCross(\n            v2v0,\n            this.vSubtract(p, triangle.v2)\n          )\n          let isInside = this.vDot(n, v0v1Xv0p) >= 0 &&\n                         this.vDot(n, v1v2Xv1p) >= 0 &&\n                         this.vDot(n, v2v0Xv2p) >= 0\n          \n          // t = isInside ? initialT : null\n          ts = isInside ? [ initialT ] : []\n        }\n      }\n      else if (item.type === 'circle') {\n        let circle = item as Circle\n        // get intersection with plane\n        let initialT = this.intersect(ray, { type: 'plane', p: circle.c, n: circle.n } as Plane)\n        if (initialT !== null) {\n          let p2c = this.vSubtract(this.getRayPoint(ray, initialT), circle.c)\n          // t = this.vDot(p2c, p2c) <= circle.r * circle.r ? initialT : null\n          ts = this.vDot(p2c, p2c) <= circle.r * circle.r ? [ initialT ] : []\n        }\n      }\n      else if (item.type === 'parallelogram') {\n        let pg = item as Parallelogram\n        let n = this.getNormal(item)\n        let initialT = this.intersect(ray, { type: 'plane', p: pg.p, n: n } as Plane)\n        if (initialT !== null) {\n          let p = this.getRayPoint(ray, initialT)\n\n          // determine if point is inside parallelogram\n          let uvCoeffs = this.getUV(pg, p)\n          let alpha = uvCoeffs[0]\n          let beta = uvCoeffs[1]\n\n          let isInside = alpha >= 0 &&\n                         alpha <= 1 &&\n                         beta >= 0 &&\n                         beta <= 1\n          \n          // t = isInside ? initialT : null\n          ts = isInside ? [ initialT ] : []\n        }\n      }\n      else if (item.type === 'sphere') {\n        let sphere = item as Sphere\n        let a = this.vDot(ray.dir, ray.dir)\n        let b = 2 * this.vDot(\n          ray.dir,\n          this.vSubtract(ray.o, sphere.c)\n        )\n        let c = this.vDot(ray.o, ray.o) +\n                this.vDot(sphere.c, sphere.c) -\n                2 * this.vDot(ray.o, sphere.c) -\n                sphere.r * sphere.r\n\n        // let ts = this.solveQuadratic(a, b, c)\n        ts = this.solveQuadratic(a, b, c)\n        // if (ts !== null) {\n        //   t = Math.min(...ts.filter(t => t > 0))\n        // }\n      }\n      else if (item.type === 'tube') {\n        let tube = item as Tube\n        let alpha = this.vSubtract(\n          ray.dir,\n          this.vScale(\n            tube.d,\n            this.vDot(tube.d, ray.dir)\n          )\n        )\n        let deltaO = this.vSubtract(ray.o, tube.p)\n        let beta = this.vSubtract(\n          deltaO,\n          this.vScale(\n            tube.d,\n            this.vDot(tube.d, deltaO)\n          )\n        )\n        let a = this.vDot(alpha, alpha)\n        let b = 2 * this.vDot(alpha, beta)\n        let c = this.vDot(beta, beta) - tube.r * tube.r\n\n        // let ts = this.solveQuadratic(a, b, c)\n        ts = this.solveQuadratic(a, b, c)\n        // if (ts !== null) {\n        //   t = Math.min(...ts.filter(t => t > 0))\n        // }\n      }\n      else if (item.type === 'cylinder') {\n        let cylinder = item as Cylinder\n        let d = this.norm(this.vSubtract(cylinder.p1, cylinder.p0))\n\n        // let potentialTs = [] as number[]\n        ts = []/////////////////////////////////////////////////////////////////////////////////////////////////don't need this if ts: number[]\n        let tubeT = this.intersect(ray, { type: 'tube', p: cylinder.p0, d: d, r: cylinder.r } as Tube)\n        if (tubeT && tubeT > 0) {\n          let p = this.vAdd(ray.o, this.vScale(ray.dir, tubeT))\n          let qp = this.vAdd(\n            cylinder.p0,\n            this.vScale(\n              d,\n              this.vDot(\n                d,\n                this.vSubtract(p, cylinder.p0)\n              )\n            )\n          )\n          let p0QpDotD = this.vDot(\n            this.vSubtract(qp, cylinder.p0),\n            d\n          )\n          let p1QpDotNegD = this.vDot(\n            this.vSubtract(qp, cylinder.p1),\n            this.vScale(d, -1)\n          )\n          if (p0QpDotD >= 0 && p1QpDotNegD >= 0) {\n            // ray is hitting side of cylinder\n            // potentialTs.push(tubeT)\n            ts.push(tubeT)\n          }\n\n          // check each end\n          let end0 = {\n            type: 'circle',\n            c: cylinder.p0,\n            n: this.vScale(d, -1),\n            r: cylinder.r\n          } as Circle\n          let end1 = {\n            type: 'circle',\n            c: cylinder.p1,\n            n: d,\n            r: cylinder.r\n          } as Circle\n          let end0T = this.intersect(ray, end0)\n          let end1T = this.intersect(ray, end1)\n          if (end0T) {\n            ts.push(end0T)\n          }\n          if (end1T) {\n            ts.push(end1T)\n          }\n        }\n\n        // if (potentialTs.length > 0) {\n        //   t = Math.min(...potentialTs.filter((potentialT: number) => potentialT > 0))\n        // }\n      }\n\n      // determine which t value is closest\n      let t = null as null | number\n      // if (ts !== null) {\n      //   t = Math.min(...ts.filter(t => t > 0))\n      // }\n      ts = ts.filter(t => t > 0)\n      if (ts.length === 0) {\n        // no intersection\n        return null\n      }\n      else if (!item.nullVolumes || item.nullVolumes.length === 0) {\n        // normal intersection\n        t = isNullVolume ? Math.max(...ts) : Math.min(...ts)\n      }\n      else {\n        // intersection with null volumes\n        if(this.doOut)console.log('Beginning NV check.')\n        ts.sort()\n        t = ts[0]\n        let nullVolumes = item.nullVolumes as Item[]\n        let doNullVolCheck = true as boolean\n        while (doNullVolCheck) {\n          if(this.doOut)console.log('Starting while loop')\n          let p = this.getRayPoint(ray, t)\n          if(this.doOut)console.log('t: ' + t.toFixed(2))\n          if(this.doOut)console.log('p: ' + this.vec3ToStr(p))\n          let maxNullVolT = null as null | number\n          let maxNullVolIdx = null as null | number\n          nullVolumes.forEach((nv: Item, idx: number) => {\n            if(this.doOut)console.log('Testing NV ' + idx + ':')\n            if(this.doOut)console.log(nv)\n            if (this.isInside(p, nv)) {\n              if(this.doOut)console.log('p is inside nv.')\n              let nullVolT = this.intersect(ray, nv, true)\n              if (nullVolT !== null) {\n                if(this.doOut)console.log('nvT: ' + nullVolT.toFixed(2))\n                ts = ts.filter(t => t > nullVolT!)\n                if (ts.length === 0) {\n                  return null\n                }\n                else if (maxNullVolT === null || maxNullVolT < nullVolT) {\n                  if(this.doOut)console.log('asdf')\n                  maxNullVolT = nullVolT\n                  maxNullVolIdx = idx\n                }\n                if(this.doOut)console.log('asdf2')\n              }\n              else {if(this.doOut)console.log('!!! shouldn\\'t be here')}\n            }\n          })\n          if (ts.length > 0 && maxNullVolT !== null && maxNullVolIdx !== null) {\n            if(this.doOut)console.log('setting t to ' + maxNullVolT)\n            t = maxNullVolT\n            nullVolumes.splice(maxNullVolIdx, 1)\n            doNullVolCheck = (nullVolumes.length > 0)\n          }\n          else {\n            if(this.doOut)console.log('No new nv intersections found')\n            doNullVolCheck = false\n          }\n        }\n        if(this.doOut)console.log('Final t = ' + t.toFixed(2))\n      }\n\n      return t ? (isFinite(t) ? t : null) : null\n    },\n    getColor(ray: Ray, sceneIdx = -1) : vec3 {\n      sceneIdx = (sceneIdx === -1) ? this.mainSceneIdx : sceneIdx\n      let scene = this.allScenes[sceneIdx]\n      // cast into scene\n      let minT = null as null | number\n      let itemIdx = -1\n      // let tMap = [] as { t: number, itemIdx: number }[]\n      scene.items.forEach((item: Item, idx: number) => {\n        // if (!item.isNullVolume) {\n          let t = this.intersect(ray, item)\n          if (t != null) {\n            // tMap.push({ t: t, itemIdx: idx })\n            if (minT === null || t < minT) {\n              minT = t\n              itemIdx = idx\n            }\n          }\n        // }\n      })\n      // if (minT !== null) {\n      //   tMap.sort((a, b) => b.t - a.t)/////////////////////////////////////////////// can use this to avoid looping thru all shapes again\n      //   let potentialP = this.getRayPoint(ray, minT * 1.0001)\n      //   scene.items.forEach((nullVol: Item, idx: number) => {\n      //     if (nullVol.isNullVolume) {\n      //       /////////////////////////////////////////////////// rn assuming no null volume overlap\n      //       if (this.isInside(potentialP, nullVol)) {\n      //         let continuedRay = ray\n      //         continuedRay.o = potentialP\n      //         let nullVolT = this.intersect(continuedRay, nullVol)\n      //         let itemT = this.intersect(continuedRay, scene.items[itemIdx])\n      //         if (nullVolT && itemT) {\n      //           if (nullVolT <= itemT) {\n      //             potentialP = this.getRayPoint(continuedRay, nullVolT)\n      //           }\n      //           else {\n\n      //           }\n      //         }\n      //       }\n      //     }\n      //   })\n      // }\n      // scene.lights.forEach((light: Light) => {\n      //   let lightShape = {\n      //     type: 'sphere',\n      //     c: light.p,\n      //     r: 0.5\n      //   } as Sphere\n      //   let t = this.intersect(ray, lightShape)\n      //   if (t != null && (minT === null || t < minT)) {\n      //     minT = t\n      //     itemIdx = -2\n      //   }\n      // })\n\n      // get color\n      let color = (itemIdx === -2 ? { x: 1, y: 1, z: 1 } : (scene.voidColor ? scene.voidColor : { x: 0, y: 0, z: 0 })) as vec3\n      if (itemIdx >= 0 && minT !== null) {\n        let p = this.getRayPoint(ray, minT)\n        let item = scene.items[itemIdx]\n        let N = this.getNormal(item, p)\n        let E = this.norm(this.vSubtract(scene.camera.pos, p))\n\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\n        // if(this.doOut && ray.reflectLvl === 0) {\n        //   // console.log('reflectLvl: ' + ray.reflectLvl)\n        //   console.log('p: ' + this.vec3ToStr(p))\n        //   console.log('N: ' + this.vec3ToStr(N))\n        // }\n        //////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        // let I = Math.max(Math.abs(this.vDot(ray.dir, n)), 0.2)\n\n        // ambient: ka*A\n        let I = item.material.ka * scene.A\n        \n        let shadowP = this.getRayPoint(ray, minT * 0.9999)\n        scene.lights.forEach((light: Light) => {\n          // determine light or shadow\n          let doLightCalculation = true\n          let shadowP2L = this.vSubtract(light.p, shadowP)\n          let shadowT = this.magnitude(shadowP2L)\n          let shadowRay = {\n            o: shadowP,\n            dir: this.vScale(shadowP2L, 1 / shadowT)\n          } as Ray\n\n          for (let i = 0; i < scene.items.length; i++) {\n            let shadowItem = scene.items[i]\n            let itemT = this.intersect(shadowRay, shadowItem)\n            if (itemT != null && itemT < shadowT) {\n              doLightCalculation = false\n              break\n            }\n          }\n          \n          if (doLightCalculation) {\n            // diffuse: C*kd*max(0, dot(L, N))\n            let p2L = this.vSubtract(light.p, p)\n            let L = this.norm(p2L)\n            let diffAndSpec= light.C * item.material.kd * Math.max(0, this.vDot(L, N))\n\n            // specular: C*ks*max(0, dot(R, E)^n)\n            let R = this.vSubtract(\n              this.vScale(N, 2 * this.vDot(L, N)),\n              L\n            )\n            diffAndSpec += light.C * item.material.ks * Math.max(0, this.vDot(R, E) ** item.material.n)\n\n            // light falloff: 1/r^2\n            I += diffAndSpec / (this.vDot(p2L, p2L))\n          }\n        })\n\n        // color = scene.items[itemIdx].material.color // flat color\n        // apply image pixel color if available\n        let itemColor = item.material.color\n        if (item.type === 'parallelogram' && (item.material.image || item.material.imgSrcSceneIdx != null)) {\n          let img = item.material.imgSrcSceneIdx != null\n                      ? this.allScenes[item.material.imgSrcSceneIdx].camera.image\n                      : item.material.image ? item.material.image : [[{ x: 0, y: 1, z: 1 } as vec3]]\n          let imgRows = img.length\n          let imgCols = img[0].length\n          let uvCoeffs = this.getUV(item as Parallelogram, p)\n          let rowIdx = Math.min(Math.floor((1 - uvCoeffs[1]) * imgRows), imgRows - 1)\n          let colIdx = Math.min(Math.floor(uvCoeffs[0] * imgCols), imgCols - 1)\n          itemColor = img[rowIdx][colIdx]\n        }\n        let rayColor = this.vScale(itemColor, I)\n\n        // get reflection\n        let reflectedColor = rayColor\n        if (ray.reflectLvl < scene.camera.settings.reflectLimit && item.material.reflectivity > 0) {\n          // get color of reflected ray\n          let reflectDir = this.vSubtract(\n            this.vScale(N, 2 * this.vDot(E, N)),\n            E\n          )\n          let newRay = {\n            o: shadowP,\n            dir: reflectDir,\n            reflectLvl: ray.reflectLvl + 1,\n            refractLvl: ray.refractLvl\n          } as Ray\n\n          reflectedColor = this.getColor(newRay, sceneIdx)\n        }\n        color = this.vAdd(\n          this.vScale(rayColor, 1 - item.material.reflectivity),\n          this.vScale(reflectedColor, item.material.reflectivity),\n        )\n\n        // get refraction////////////////////////////////////////////////////////////////////////////////// may want to not avg in rayColor at all?\n        /////////////////////////////////////////////////////////////////////////////////////////////////// so if material.opacity < 1, color = avg(refl, refr)?\n        /////////////////////////////////////////////////////////////////////////////////////////////////// for now, just avging refr in second for priority\n        // if (ray.refractLvl < scene.camera.settings.refractLimit && item.material.opacity < 1) {\n        //   // get color of refracted ray\n        //   let refractDir = { x: 0, y: 0, z: -1 } as vec3///////////////////////////////////////// gotta figure out this formmula\n        //   let newRay = {\n        //     o: this.getRayPoint(ray, minT * 1.0001),\n        //     dir: refractDir,\n        //     reflectLvl: ray.reflectLvl,\n        //     refractLvl: ray.refractLvl + 1\n        //   } as Ray\n\n        //   let refractedColor = this.getColor(newRay, sceneIdx)\n        //   color = this.vAdd(\n        //     this.vScale(color, item.material.opacity),\n        //     this.vScale(refractedColor, 1 - item.material.opacity),\n        //   )\n        // }\n      }\n\n      return color\n    },\n    async generateCanvasImage() {\n      this.startTime = moment()\n\n      // first generate any images used by main scene\n      let mainScene = this.allScenes[this.mainSceneIdx]\n      let scenesNeeded = new Set<number>()\n      mainScene.items.forEach((item: Item) => {\n        if (item.type === 'parallelogram' && item.material.imgSrcSceneIdx != null) {\n          scenesNeeded.add(item.material.imgSrcSceneIdx)\n        }\n      })\n      this.subSceneCount = scenesNeeded.size\n      scenesNeeded.forEach((sceneIdx: number) => this.capture(sceneIdx))\n\n      // capture main scene\n      this.capture(this.mainSceneIdx)\n\n      this.refreshCanvas()\n      this.endTime = moment()\n    },\n    capture(sceneIdx: number) {\n      let timingData = {} as TimingData\n      timingData.start = moment()\n      // this.startTime = moment()\n      // sceneIdx = (sceneIdx === -1) ? this.mainSceneIdx : sceneIdx\n      let scene = this.allScenes[sceneIdx]\n      if (this.doGlobalCameraSettings) {\n        scene.camera.settings = this.canvasSettings\n      }\n      let scenePxRows = scene.camera.settings.pxRows\n      let scenePxCols = scene.camera.settings.pxCols\n      scene.camera.image = new Array(scenePxRows).fill(0).map(() => new Array(scenePxCols).fill({ x: 0, y: 1, z: 1 } as vec3)) as vec3[][];\n\n      let camLeft = this.vCross(scene.camera.up, scene.camera.dir)\n      let screenWidth = 2 * Math.tan(scene.camera.fov[0])\n      let screenHeight = 2 * Math.tan(scene.camera.fov[1])\n      let pxWidth = screenWidth / scenePxCols\n      let pxHeight = screenHeight / scenePxRows\n      for (let row = 0; row < scenePxRows; row++) {\n        let pxPitch = pxHeight * (scenePxRows / 2 - row - 0.5)\n        for (let col = 0; col < scenePxCols; col++) {\n          ///////////////////////////////////////////////////////////\n          // this.doOut = row === Math.floor(scenePxRows * 1 / 5) - 0 && col === Math.floor(scenePxCols * 7 / 16) - 0\n          // if(this.doOut)console.log('row ' + row + ', col ' + col)\n          ///////////////////////////////////////////////////////////\n\n          let pxYaw = pxWidth * (scenePxCols / 2 - col - 0.5)\n          let ssColors = [] as vec3[]\n          // do supersampling to get cleaner image\n          let ssLvl = scene.camera.settings.superSampleLvl\n          for (let ssRow = 0; ssRow < ssLvl; ssRow++) {\n            let ssPitch = (pxHeight / ssLvl) * (ssLvl / 2 - ssRow - 0.5)\n            for (let ssCol = 0; ssCol < ssLvl; ssCol++) {\n              let ssYaw = (pxWidth / ssLvl) * (ssLvl / 2 - ssCol - 0.5)\n\n              // get ray\n              let targetDir = this.norm(\n                this.vAdd(\n                  scene.camera.dir,\n                  this.vScale(scene.camera.up, pxPitch + ssPitch),\n                  this.vScale(camLeft, pxYaw + ssYaw)\n                )\n              )\n              let ray = {\n                o: scene.camera.pos,\n                dir: targetDir,\n                reflectLvl: 0,\n                refractLvl: 0\n              } as Ray\n\n              // get color\n              ssColors.push(this.getColor(ray, sceneIdx))\n            }\n          }\n\n          // get average of color samples\n          let color = this.getAvgColor(ssColors)\n\n          if (this.doOut) {\n            color = { x: 1, y: 0, z: 0 } as vec3\n          }\n\n          scene.camera.image[row][col] = color\n\n          // this.cMat[row][col][0] = color.x\n          // this.cMat[row][col][1] = color.y\n          // this.cMat[row][col][2] = color.z\n        }\n      }\n\n      // this.refreshCanvas()\n      // this.endTime = moment()\n      timingData.end = moment()\n      timingData.sceneIdx = sceneIdx\n      timingData.sceneSettings = scene.camera.settings\n      this.captureTimes.push(timingData)\n    },\n    unpackCompound(item: Item, sceneIdx = -1) {\n      sceneIdx = (sceneIdx === -1) ? this.mainSceneIdx : sceneIdx\n      if (item.type === 'polygon') {\n        let polygon = item as Polygon\n        let vertexCount = polygon.vertices.length\n        for (let i = 2; i < vertexCount; i++) {\n          // build face from triangles\n          this.allScenes[sceneIdx].items.push({\n            type: 'triangle',\n            material: polygon.material,\n            v0: polygon.vertices[0],\n            v1: polygon.vertices[i - 1],\n            v2: polygon.vertices[i],\n          } as Triangle)\n        }\n      }\n      else if (item.type === 'smoothPolygon') {\n        let polygon = item as SmoothPolygon\n        let vertexCount = polygon.vertices.length\n        for (let i = 0; i < vertexCount; i++) {\n          // vertices are spheres\n          this.allScenes[sceneIdx].items.push({\n            type: 'sphere',\n            material: polygon.material,\n            c: polygon.vertices[i],\n            r: polygon.r,\n          } as Sphere)\n\n          // edges are cylinders\n          this.allScenes[sceneIdx].items.push({\n            type: 'cylinder',\n            material: polygon.material,\n            p0: polygon.vertices[i],\n            p1: polygon.vertices[(i + 1 > vertexCount - 1) ? 0 : i + 1],\n            r: polygon.r,\n          } as Cylinder)\n\n          // faces are multiple triangles\n          if (i > 1) {\n            let pair = [\n              {\n                type: 'triangle',\n                material: polygon.material,\n                v0: polygon.vertices[0],\n                v1: polygon.vertices[i],\n                v2: polygon.vertices[i - 1],\n              } as Triangle,\n              {\n                type: 'triangle',\n                material: polygon.material,\n                v0: polygon.vertices[0],\n                v1: polygon.vertices[i - 1],\n                v2: polygon.vertices[i],\n              } as Triangle\n            ]\n            for (let j = 0; j < 2; j++) {\n              let shift = this.vScale(\n                this.norm(\n                  this.vCross(\n                    this.vSubtract(pair[j].v2, pair[j].v0),\n                    this.vSubtract(pair[j].v1, pair[j].v0)\n                  )\n                ),\n                -polygon.r\n              )\n              pair[j].v0 = this.vAdd(pair[j].v0, shift)\n              pair[j].v1 = this.vAdd(pair[j].v1, shift)\n              pair[j].v2 = this.vAdd(pair[j].v2, shift)\n              this.allScenes[sceneIdx].items.push(pair[j])\n            }\n          }\n        }\n      }\n    },\n    aAdd(a: number[], b: number[]) : number[] {\n      return a.map((n: number, i: number) => n + b[i])\n    },\n    aScale(a: number[], b: number) : number[] {\n      return a.map((n: number) => n * b)\n    },\n    getGrayscale(img: number[][][]) : number[][] {\n      return img.map((row: number[][]) => {\n        return row.map((px: number[]) => {\n          return px[0] * 0.299 + px[1] * 0.587 + px[2] * 0.114\n        })\n      })\n    },\n    getEdgeMap(img: number[][][]) : number[][] {\n      let grayImg = this.getGrayscale(img)\n      let imgPxRows = grayImg.length\n      let imgPxCols = grayImg.length > 0 ? grayImg[0].length : 0\n      let edgeMap = new Array(imgPxRows).fill(0).map(() => new Array(imgPxCols).fill(0)) as number[][];\n      for (let row = 0; row < imgPxRows; row++) {\n        for (let col = 0; col < imgPxCols; col++) {\n          let px = grayImg[row][col]\n          let neighbors = [] as number[]\n          // let isEdge = false\n          if (row > 0) {\n            neighbors.push(grayImg[row - 1][col])\n          }\n          if (row < imgPxRows - 1) {\n            neighbors.push(grayImg[row + 1][col])\n          }\n          if (col > 0) {\n            neighbors.push(grayImg[row][col - 1])\n          }\n          if (col < imgPxCols - 1) {\n            neighbors.push(grayImg[row][col + 1])\n          }\n\n          neighbors.forEach((neighborPx: number) => {\n            // edgeMap[row][col] += Math.abs(px - neighborPx) / neighbors.length\n            // edgeMap[row][col] = Math.max(edgeMap[row][col], Math.abs(px - neighborPx))\n            if (Math.abs(px - neighborPx) > 0.1) {\n              edgeMap[row][col] = 1\n            }\n          })\n        }\n      }\n      return edgeMap\n    },\n    blurCross(pxMask: null | number[][] = null) { ///////////////cMat is outdated\n      let imgPxRows = this.cMat.length\n      let imgPxCols = this.cMat.length > 0 ? this.cMat[0].length : 0\n      for (let row = 0; row < imgPxRows; row++) {\n        for (let col = 0; col < imgPxCols; col++) {\n          if (pxMask === null || pxMask[row][col] === 1) {\n            let pxCount = 3\n            let colorSum = this.aScale(this.cMat[row][col], 3)\n            if (row > 0) {\n              colorSum = this.aAdd(colorSum, this.cMat[row - 1][col])\n              pxCount++\n            }\n            if (row < imgPxRows - 1) {\n              colorSum = this.aAdd(colorSum, this.cMat[row + 1][col])\n              pxCount++\n            }\n            if (col > 0) {\n              colorSum = this.aAdd(colorSum, this.cMat[row][col - 1])\n              pxCount++\n            }\n            if (col < imgPxCols - 1) {\n              colorSum = this.aAdd(colorSum, this.cMat[row][col + 1])\n              pxCount++\n            }\n\n            let color = this.aScale(colorSum, 1 / pxCount)\n            this.cMat[row][col] = color\n          }\n        }\n      }\n\n      this.refreshCanvas()\n    },\n    get3dFrom2d(grayImg: number[][]) : number[][][] {\n      return grayImg.map((row: number[]) => {\n        return row.map((px: number) => [px, px, px])\n      })\n    },\n    vec3ToStr(v: vec3) : string {\n      return '{ ' + v.x.toFixed(2) + ', ' + v.y.toFixed(2) + ', ' + v.z.toFixed(2) + ' }'\n    },\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTest.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasTest.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CanvasTest.vue?vue&type=template&id=09982d7d&scoped=true&\"\nimport script from \"./CanvasTest.vue?vue&type=script&lang=ts&\"\nexport * from \"./CanvasTest.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09982d7d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',[_c('div',{style:('font-weight: bold; background-color: ' + (_vm.pen.element ? _vm.vec2RGB(_vm.pen.element.color) : '#eee') + '; border-radius: 4px; margin: 1px; text-align: center;')},[_vm._v(\" \"+_vm._s(_vm.pen.element ? _vm.pen.element.name : 'Eraser')+\" \")]),_c('div',{staticStyle:{\"height\":\"200px\",\"overflow-y\":\"auto\"}},_vm._l(([null ].concat( _vm.elementsList)),function(element,idx){return _c('div',{key:idx,style:('background-color: ' + (element ? _vm.vec2RGB(element.color) : '#eee') + '; border-radius: 4px; margin: 1px; text-align: center; cursor: pointer'),on:{\"click\":function($event){_vm.pen.element = element}}},[_vm._v(\" \"+_vm._s(element ? element.name : 'Eraser')+\" \")])}),0)]),_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('canvas',{staticStyle:{\"margin-left\":\"10px\",\"border\":\"1px solid #000000\"},attrs:{\"id\":\"c\",\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight},on:{\"click\":function($event){return _vm.drawMouseEvent($event)},\"mousemove\":function($event){_vm.pen.isDrawing ? _vm.drawMouseEvent($event) : null},\"mousedown\":function($event){_vm.pen.isDrawing = true},\"mouseup\":function($event){_vm.pen.isDrawing = false},\"mouseleave\":function($event){_vm.pen.isDrawing = false}}}),_c('div',[_c('button',{staticStyle:{\"background-color\":\"#78f\"},on:{\"click\":function($event){return _vm.doTick()}}},[_vm._v(\" tick++ \")]),_c('button',{staticStyle:{\"background-color\":\"#f87\"},on:{\"click\":function($event){return _vm.resetScene()}}},[_vm._v(\" reset \")])]),_c('div',[_c('button',{staticStyle:{\"background-color\":\"#7ce\"},on:{\"click\":function($event){_vm.doAutoTick = !_vm.doAutoTick}}},[_vm._v(\" \"+_vm._s(_vm.doAutoTick ? 'Pause' : 'Run')+\" \")])]),_c('div',[_c('button',{style:('background-color: ' + (_vm.scene.isCeiling ? '#8ac' : '#468')),on:{\"click\":function($event){_vm.scene.isCeiling = !_vm.scene.isCeiling}}},[_vm._v(\" Ceiling: \"+_vm._s(_vm.scene.isCeiling ? 'On' : 'Off')+\" \")]),_c('button',{style:('background-color: ' + (_vm.scene.isFloor ? '#ca8' : '#864')),on:{\"click\":function($event){_vm.scene.isFloor = !_vm.scene.isFloor}}},[_vm._v(\" Floor: \"+_vm._s(_vm.scene.isFloor ? 'On' : 'Off')+\" \")])]),_c('div',[_vm._v(\" Tick: \"+_vm._s(_vm.scene.tick)+\" \")]),_vm._v(\" Pen size: \"),_c('b-form-spinbutton',{staticStyle:{\"margin\":\"10px 5px\"},attrs:{\"min\":\"1\",\"max\":\"20\",\"wrap\":\"\",\"inline\":\"\"},model:{value:(_vm.pen.size),callback:function ($$v) {_vm.$set(_vm.pen, \"size\", $$v)},expression:\"pen.size\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport tools from '@/utils/tools'\nimport Vue from 'vue'\n\ninterface vec3 {\n  x: number\n  y: number\n  z: number\n}\ninterface Scene {\n  image: vec3[][]\n  particles: (Particle | null)[][]\n  tick: number\n  isCeiling: boolean\n  isFloor: boolean\n}\ninterface Pen {\n  element: (Element | null)\n  size: number\n  isDrawing: boolean\n}\n\ninterface Element {\n  name: string\n  color: vec3\n  state: string // solid, sediment, liquid, gas\n  density?: number // for determining buoyancy between gas-gas or liquid-liquid\n  isActive: boolean\n  reactions: Reaction[] // empty if !isActive\n  decay: null | Decay\n}\ninterface Reaction {\n  reactee: string\n  result: string\n  isTransitive: boolean\n  direction: number[]\n  chance: number\n}\ninterface Decay {\n  startAge: number\n  endAge: number\n  result: string\n}\ninterface Particle {\n  material: Element\n  birthTick: number\n}\n\n// let materialSand: Element = {\n//   name: 'sand',\n//   color: { x: 0.9, y: 0.8, z: 0.5 },\n//   isStatic: false,\n//   angleOfRepose: 34,\n// }\n// let materialWater: Element = {\n//   name: 'water',\n//   color: { x: 0, y: 0.3, z: 0.8 },\n//   isStatic: false,\n//   angleOfRepose: 0,\n// }\n// let materialStone: Element = {\n//   name: 'stone',\n//   color: { x: 0.6, y: 0.6, z: 0.6 },\n//   isStatic: true,\n//   angleOfRepose: 0,\n// } /////////////////////////////////////////// transfer these to elements obj below\nconst msPerTick = 50\n\nconst elements: { [key: string]: Element } = {\n  // //// passive\n  // liquids\n  'oil': {\n    name: 'oil',\n    state: 'liquid',\n    density: 0.5,\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.7, y: 0.3, z: 0 },\n  } as Element,\n  // sediments\n  'ash': {\n    name: 'ash',\n    state: 'sediment',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.7, y: 0.7, z: 0.7 },\n  } as Element,\n  'dirt': {\n    name: 'dirt',\n    state: 'sediment',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.4, y: 0.3, z: 0 },\n  } as Element,\n  'sand': {\n    name: 'sand',\n    state: 'sediment',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.9, y: 0.8, z: 0.5 },\n  } as Element,\n  // solids\n  'ice': {\n    name: 'ice',\n    state: 'solid',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.6, y: 0.7, z: 1 },\n  } as Element,\n  'steel': {\n    name: 'steel',\n    state: 'solid',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.85, y: 0.85, z: 0.85 },\n  } as Element,\n  'stone': {\n    name: 'stone',\n    state: 'solid',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.6, y: 0.6, z: 0.6 },\n  } as Element,\n  'wire': {\n    name: 'wire',\n    state: 'solid',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.6, y: 0.1, z: 0.6 },\n  } as Element,\n  'wood': {\n    name: 'wood',\n    state: 'solid',\n    isActive: false,\n    reactions: [] as Reaction[],\n    color: { x: 0.6, y: 0.5, z: 0 },\n  } as Element,\n  // //// active\n  // gases\n  'fire': {\n    name: 'fire',\n    state: 'gas',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'oil',\n        result: 'fire',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n      {\n        reactee: 'ice',\n        result: 'water',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n      {\n        reactee: 'wood',\n        result: 'ember',\n        isTransitive: true,\n        chance: 0.1,\n      } as Reaction,\n      {\n        reactee: 'water',\n        result: 'steam',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 1, y: 0.2, z: 0 },\n    decay: {\n      startAge: 5 * 1000 / msPerTick,\n      endAge: 20 * 1000 / msPerTick,\n      result: 'smoke',\n    } as Decay,\n  } as Element,\n  'methane': {\n    name: 'methane',\n    state: 'gas',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'air',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'fire',\n        result: 'fire',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.5, y: 0.4, z: 0.2 },\n  } as Element,\n  'smoke': {\n    name: 'smoke',\n    state: 'gas',\n    isActive: true,\n    reactions: [] as Reaction[],\n    decay: {\n      startAge: 2 * 1000 / msPerTick,\n      endAge: 10 * 1000 / msPerTick,\n      result: 'air',\n    } as Decay,\n    color: { x: 0.5, y: 0.4, z: 0.4 },\n  } as Element,\n  'steam': {\n    name: 'steam',\n    state: 'gas',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'air',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'ice',\n        result: 'water',\n        isTransitive: false,\n        chance: 0.2,\n      } as Reaction,\n      {\n        reactee: 'plant',\n        result: 'plant',\n        isTransitive: false,\n        chance: 0.1,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 15 * 1000 / msPerTick,\n      endAge: 60 * 1000 / msPerTick,\n      result: 'spark',\n      // startAge: 10 * 1000 / msPerTick,\n      // endAge: 30 * 1000 / msPerTick,\n      // result: 'air',\n    } as Decay,\n    color: { x: 0.6, y: 0.8, z: 1 },\n  } as Element,\n  // liquids\n  'water': {\n    name: 'water',\n    state: 'liquid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'dirt',\n        result: 'plant',\n        isTransitive: false,\n        chance: 0.001,\n      } as Reaction,\n      {\n        reactee: 'steel',\n        result: 'rust',\n        isTransitive: true,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'fire',\n        result: 'steam',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n      {\n        reactee: 'plant',\n        result: 'plant',\n        isTransitive: false,\n        chance: 0.6,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.2, y: 0.3, z: 1 },\n  } as Element,\n  // sediments\n  'spark': {\n    name: 'spark',\n    state: 'sediment',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'oil',\n        result: 'fire',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 1 * 1000 / msPerTick,\n      endAge: 5 * 1000 / msPerTick,\n      result: 'air',\n    } as Decay,\n    color: { x: 0.9, y: 0.9, z: 0 },\n  } as Element,\n  // solids\n  'ember': {\n    name: 'ember',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'fire',\n        isTransitive: true,\n        chance: 0.2,\n      } as Reaction,\n      {\n        reactee: 'ice',\n        result: 'water',\n        isTransitive: true,\n        chance: 0.1,\n      } as Reaction,\n      {\n        reactee: 'wood',\n        result: 'ember',\n        isTransitive: true,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'water',\n        result: 'ash',\n        isTransitive: false,\n        chance: 0.05,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 5 * 1000 / msPerTick,\n      endAge: 20 * 1000 / msPerTick,\n      result: 'ash',\n    } as Decay,\n    color: { x: 0.3, y: 0.3, z: 0.3 },\n  } as Element,\n  'plant': {\n    name: 'plant',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'plant',\n        isTransitive: true,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'ash',\n        result: 'plant',\n        isTransitive: true,\n        chance: 0.001,\n      } as Reaction,\n      {\n        reactee: 'dirt',\n        result: 'wood',\n        isTransitive: true,\n        chance: 0.001,\n      } as Reaction,\n      {\n        reactee: 'methane',\n        result: 'humus',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'oil',\n        result: 'humus',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'ice',\n        result: 'humus',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'wood',\n        result: 'wood',\n        isTransitive: false,\n        chance: 0.001,\n      } as Reaction,\n      {\n        reactee: 'fire',\n        result: 'fire',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n      {\n        reactee: 'humus',\n        result: 'humus',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.2, y: 0.8, z: 0.3 },\n  } as Element,\n  'humus': {\n    name: 'humus',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'methane',\n        isTransitive: false,\n        chance: 0.01,\n      } as Reaction,\n      {\n        reactee: 'methane',\n        result: 'methane',\n        isTransitive: false,\n        chance: 0.05,\n      } as Reaction,\n      {\n        reactee: 'fire',\n        result: 'fire',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.6, y: 0.9, z: 0.3 },\n  } as Element,\n  'rust': {\n    name: 'rust',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'oil',\n        result: 'air',\n        isTransitive: false,\n        chance: 0.1,\n      } as Reaction,\n      {\n        reactee: 'steel',\n        result: 'rust',\n        isTransitive: true,\n        chance: 0.005,\n      } as Reaction,\n      {\n        reactee: 'steel+',\n        result: 'smoke',\n        isTransitive: false,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 10 * 1000 / msPerTick,\n      endAge: 20 * 1000 / msPerTick,\n      result: 'air',\n    } as Decay,\n    color: { x: 0.5, y: 0.3, z: 0 },\n  } as Element,\n  'steel+': {\n    name: 'steel+',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'spark',\n        isTransitive: true,\n        chance: 0.75,\n      } as Reaction,\n      {\n        reactee: 'steel',\n        result: 'steel+',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 2, // 5 * 1000 / msPerTick,\n      endAge: 2, // 20 * 1000 / msPerTick,\n      result: 'steel',\n    } as Decay,\n    color: { x: 0.95, y: 0.95, z: 0.5 },\n  } as Element,\n  'wire+': {\n    name: 'wire+',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'wire',\n        result: 'wire+',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n      {\n        reactee: 'steel',\n        result: 'steel+',\n        isTransitive: true,\n        chance: 1,\n      } as Reaction,\n    ] as Reaction[],\n    decay: {\n      startAge: 2, // 5 * 1000 / msPerTick,\n      endAge: 2, // 20 * 1000 / msPerTick,\n      result: 'wire',\n    } as Decay,\n    color: { x: 0.9, y: 0.3, z: 0.9 },\n  } as Element,\n  // sources\n  'pump': {\n    name: 'pump',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'oil',\n        isTransitive: true,\n        chance: 0.5,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.8, y: 0.6, z: 0.3 },\n  } as Element,\n  'torch': {\n    name: 'torch',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'fire',\n        isTransitive: true,\n        chance: 0.5,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0.5, y: 0.3, z: 0 },\n  } as Element,\n  'well': {\n    name: 'well',\n    state: 'solid',\n    isActive: true,\n    reactions: [\n      {\n        reactee: 'air',\n        result: 'water',\n        isTransitive: true,\n        chance: 0.5,\n      } as Reaction,\n    ] as Reaction[],\n    color: { x: 0, y: 0, z: 0.8 },\n  } as Element,\n}\n\nexport default Vue.extend({\n  name: 'SandboxGame',\n  // props: {\n  //   value: {\n  //     name: String,\n  //     default: '',\n  //   },\n  // },\n  data() {\n    return {\n      scene: {\n        image: [],\n        particles: [],\n        tick: 0,\n        isCeiling: true,\n        isFloor: true,\n      } as Scene,\n      pen: {\n        element: elements['sand'],\n        size: 3,\n        isDrawing: false,\n      } as Pen,\n      vueCanvas: {} as CanvasRenderingContext2D,\n      imgRows: 50,\n      imgCols: 50,\n      canvasWidth: 250,\n      canvasHeight: 250,\n      interval: undefined as number | undefined,\n      doAutoTick: false as boolean,\n    }\n  },\n  computed: {\n    backgroundImage(): vec3[][] {\n      let blankA: vec3 = { x: 0.05, y: 0.05, z: 0.05 }\n      // let blankA: vec3 = { x: 0.15, y: 0.15, z: 0.15 }\n      let blankB: vec3 = { x: 0.15, y: 0.15, z: 0.15 }\n      let background: vec3[][] = new Array(this.imgRows).fill(0).map(() => new Array(this.imgCols).fill(blankA))\n      for (let row = 0; row < this.imgRows; row++) {\n        for (let col = 0; col < this.imgCols; col++) {\n          background[row][col] = ((row + col) % 2 === 0) ? blankA : blankB\n        }\n      }\n      return background\n    },\n    elementsList(): Element[] {\n      return Object.keys(elements).map(k => elements[k])\n    },\n    // particleCount(): number\n  },\n  created() {\n    this.initializeScene()\n\n    this.$nextTick(() => {\n      // bind vueCanvas to canvas element\n      let c = document.getElementById('c') as HTMLCanvasElement\n      let ctx = c.getContext('2d')\n\n      const handleTap = (e: TouchEvent) => {\n        e.preventDefault()\n        this.drawTouchEvent(e)\n      }\n      c.addEventListener('touchstart', handleTap, {passive: false});\n      c.addEventListener('touchmove', this.drawTouchEvent);\n\n      if (ctx !== null) {\n        this.vueCanvas = ctx\n        this.renderScene()\n      }\n    })\n\n    this.interval = setInterval(() => {\n      if (this.doAutoTick) {\n        this.doTick()\n      }\n    }, msPerTick)\n  },\n  destroyed() {\n    clearInterval(this.interval)\n  },\n  methods: {\n    trimToLength(str: string, len: number): string {\n      return str.substring(0, len) + (str.length < len ? ' '.repeat(len - str.length) : '')\n    },\n    vec2Str(v: vec3, decimals = 2): string {\n      return '( ' + v.x.toFixed(decimals) + ', ' + v.y.toFixed(decimals) + ', ' + v.z.toFixed(decimals) + ' )'\n    },\n    particle2Str(p: Particle | null): string {\n      return this.trimToLength(p === null ? ' - ' : p.material.name, 3)\n    },\n    particleRow2Str(row: (Particle | null)[]): string {\n      let particleStrs: string[] = []\n      row.forEach((p: Particle | null) => {\n        particleStrs.push(this.particle2Str(p))\n      })\n      return '[ ' + particleStrs.join(', ') + ' ]'\n    },\n    imageRow2Str(row: vec3[]): string {\n      let pixelStrs: string[] = []\n      row.forEach((v: vec3) => {\n        pixelStrs.push(this.trimToLength(this.vec2Str(v), 20))\n      })\n      return '[ ' + pixelStrs.join(', ') + ' ]'\n    },\n    printImgData() {\n      console.log('Particles --------------')\n      this.scene.particles.forEach((row: (Particle | null)[]) => {\n        console.log(this.particleRow2Str(row))\n      })\n      // console.log('Image')\n      // this.scene.image.forEach((row: vec3[]) => {\n      //   console.log(this.imageRow2Str(row))\n      // })\n      console.log('--------------------')\n    },\n    testDrag(event: Event) {\n      console.log('drag detected:')\n      console.log(event)\n    },\n    vec2RGB(color: vec3): string {\n      return 'rgb(' + (color.x * 256) + ', ' + (color.y * 256) + ', ' + (color.z * 256) + ')'\n    },\n    setParticle(row: number, col: number, element: (Element | null)) {\n      if (element) {\n        this.scene.particles[row][col] = {\n          material: element,\n          birthTick: this.scene.tick,\n        }\n      } else {\n        this.scene.particles[row][col] = null\n      }\n    },\n    drawMouseEvent(evt: MouseEvent) {\n      let canvas = document.getElementById('c')\n      let rect = canvas!.getBoundingClientRect()\n      let x = evt.clientX - rect.left - 1\n      let y = evt.clientY - rect.top - 1\n      this.draw(x, y)\n    },\n    drawTouchEvent(evt: TouchEvent) {\n      let canvas = document.getElementById('c')\n      let rect = canvas!.getBoundingClientRect()\n      let x = evt.touches[0].clientX - rect.left - 1\n      let y = evt.touches[0].clientY - rect.top - 1\n      this.draw(x, y)\n    },\n    draw(x: number, y: number) {\n      let particleRow = Math.floor(y * this.imgRows / this.canvasHeight)\n      let particleCol = Math.floor(x * this.imgCols / this.canvasWidth)\n      let maxOffset = Math.floor(this.pen.size / 2) // /////////////////////////////////////////////////// pen sizing doesn't work\n      // console.log('--------------------')\n      // console.log('drawing at: [' + particleCol + ', ' + particleRow + ']')\n      // console.log('particleRow: ' + particleRow)\n      // console.log('maxOffset: ' + maxOffset)\n      for (let rowOffset = particleRow - maxOffset; rowOffset <= particleRow + maxOffset; rowOffset++) {\n        for (let colOffset = particleCol - maxOffset; colOffset <= particleCol + maxOffset; colOffset++) {\n          // console.log('    ------------')\n          // console.log('    rowOffset: ' + rowOffset)\n          // console.log('    colOffset: ' + colOffset)\n          if (colOffset >= 0 && colOffset < this.imgCols && rowOffset >= 0 && rowOffset < this.imgRows) {\n            this.setParticle(rowOffset, colOffset, this.pen.element)\n          }// else console.log('bad particle coords: [' + particleCol + ', ' + particleRow + ']')\n        }\n      }\n      // console.log('end ----------------')\n\n      this.renderScene()\n    },\n    initializeScene() {\n      this.scene.image = tools.deepClone(this.backgroundImage)\n      this.scene.particles = new Array(this.imgRows).fill(0).map(() => new Array(this.imgCols).fill(null))\n\n      // create areas pre-filled with elements\n      interface Fill {\n        element: string\n        startRow: number\n        startCol: number\n        height: number\n        width: number\n      }\n      let fills: Fill[] = []\n      // buoyancy test\n      // fills.push({\n      //   element: 'stone',\n      //   startRow: 10,\n      //   startCol: 20,\n      //   height: 22,\n      //   width: 10,\n      // })\n      // fills.push({\n      //   element: 'sand',\n      //   startRow: 11,\n      //   startCol: 21,\n      //   height: 4,\n      //   width: 8,\n      // })\n      // fills.push({\n      //   element: 'water',\n      //   startRow: 15,\n      //   startCol: 21,\n      //   height: 4,\n      //   width: 8,\n      // })\n      // fills.push({\n      //   element: 'oil',\n      //   startRow: 19,\n      //   startCol: 21,\n      //   height: 4,\n      //   width: 8,\n      // })\n      // fills.push({\n      //   element: 'methane',\n      //   startRow: 23,\n      //   startCol: 21,\n      //   height: 4,\n      //   width: 8,\n      // })\n      // fills.push({\n      //   element: 'air',\n      //   startRow: 27,\n      //   startCol: 21,\n      //   height: 4,\n      //   width: 8,\n      // })\n\n      fills.forEach((f: Fill) => {\n        for (let row = f.startRow; row < f.startRow + f.height; row++) {\n          if (row >= 0 && row < this.imgRows) {\n            for (let col = f.startCol; col < f.startCol + f.width; col++) {\n              if (col >= 0 && col < this.imgCols) {\n                this.setParticle(row, col, f.element === 'air' ? null : elements[f.element])\n              }\n            }\n          }\n        }\n      })\n    },\n    resetScene() {\n      this.scene.tick = 0\n      this.initializeScene()\n      this.renderScene()\n    },\n    doTick() {\n      if (this.scene.tick % 2 === 0) {\n        this.react()\n      } else {\n        this.move()\n      }\n      this.scene.tick++\n\n      this.renderScene()\n    },\n    getNewParticle(name: string): Particle | null {\n      if (name === 'air') {\n        return null\n      }\n      return {\n        material: elements[name],\n        birthTick: this.scene.tick,\n      } as Particle\n    },\n    isDenser(a: Particle, b: Particle): boolean {\n      if (a.material.state === b.material.state) {\n        let densityA = a.material.density === undefined ? 1 : a.material.density\n        let densityB = b.material.density === undefined ? 1 : b.material.density\n        return densityA > densityB\n      } else {\n        const densityMap: { [key: string]: number } = {\n          'gas': 0,\n          'liquid': 1,\n          'sediment': 2,\n        }\n        return densityMap[a.material.state] > densityMap[b.material.state]\n      }\n    },\n    doesChanceSucceed(chance: number): boolean {\n      return Math.random() < chance\n    },\n    doesDecayOccur(p: Particle): boolean {\n      if (p.material.decay) {\n        let age = this.scene.tick - p.birthTick\n        let chance = (age - p.material.decay.startAge) / (p.material.decay.endAge - p.material.decay.startAge)\n        return this.doesChanceSucceed(chance)\n      }\n      return false\n    },\n    react() {\n      /// TODO: copy constructors instead of deepClone\n      /// !! or try structuredClone again once in Node 17+\n      let nextScene: (Particle | null)[][] = tools.deepClone(this.scene.particles)\n      let isUpdatedMask: boolean[][] = new Array(this.imgRows).fill(0).map(() => new Array(this.imgCols).fill(false))\n\n      this.scene.particles.forEach((particleRow: (Particle | null)[], row: number) => {\n        particleRow.forEach((p: Particle | null, col: number) => {\n          // if (p !== null && p.material.isActive && !isUpdatedMask[row][col]) {\n          if (p !== null && p.material.isActive) {\n            // let doOut = p.material.name === 'torch'\n            // if (doOut) console.log('----------------')\n\n            // attempt decay, then reactions\n            if (this.doesDecayOccur(p)) {\n              let result = p.material.decay!.result\n              nextScene[row][col] = this.getNewParticle(result)\n              // this.setParticle(row, col, elements[result])\n              // if (result === 'air') {\n              //   nextScene[row][col] = null\n              // } else {\n              //   nextScene[row][col]!.material = elements[result]\n              // }\n              isUpdatedMask[row][col] = true\n            } else {\n              // determine possible reactions\n              let potentialReactions = []\n              // if (row > 0 && !isUpdatedMask[row - 1][col]) {\n              if (row > 0) { // && !isUpdatedMask[row - 1][col]) {\n                let potentialReactee = (this.scene.particles[row - 1][col] === null) ? 'air' : this.scene.particles[row - 1][col]!.material.name\n                // if (doOut) console.log('looking up: potRxt = ' + potentialReactee)\n                if (potentialReactee !== p.material.name) {\n                  let reaction = p.material.reactions.find((r: Reaction) => r.reactee === potentialReactee)\n                  // if (doOut) console.log('rxn:')\n                  // if (doOut) console.log(reaction)\n                  if (reaction !== undefined) {\n                    let newReaction: Reaction = tools.deepClone(reaction)\n                    newReaction.direction = [-1, 0]\n                    potentialReactions.push(newReaction)\n                  }\n                }\n              }\n              // if (row < this.imgRows - 1 && !isUpdatedMask[row + 1][col]) {\n              if (row < this.imgRows - 1) { // && !isUpdatedMask[row + 1][col]) {\n                let potentialReactee = (this.scene.particles[row + 1][col] === null) ? 'air' : this.scene.particles[row + 1][col]!.material.name\n                if (potentialReactee !== p.material.name) {\n                  let reaction = p.material.reactions.find((r: Reaction) => r.reactee === potentialReactee)\n                  if (reaction !== undefined) {\n                    let newReaction: Reaction = tools.deepClone(reaction)\n                    newReaction.direction = [1, 0]\n                    potentialReactions.push(newReaction)\n                  }\n                }\n              }\n              // if (col > 0 && !isUpdatedMask[row][col - 1]) {\n              if (col > 0) { // && !isUpdatedMask[row][col - 1]) {\n                let potentialReactee = (this.scene.particles[row][col - 1] === null) ? 'air' : this.scene.particles[row][col - 1]!.material.name\n                if (potentialReactee !== p.material.name) {\n                  let reaction = p.material.reactions.find((r: Reaction) => r.reactee === potentialReactee)\n                  if (reaction !== undefined) {\n                    let newReaction: Reaction = tools.deepClone(reaction)\n                    newReaction.direction = [0, -1]\n                    potentialReactions.push(newReaction)\n                  }\n                }\n              }\n              // if (col < this.imgCols - 1 && !isUpdatedMask[row][col + 1]) {\n              if (col < this.imgCols - 1) { // && !isUpdatedMask[row][col + 1]) {\n                let potentialReactee = (this.scene.particles[row][col + 1] === null) ? 'air' : this.scene.particles[row][col + 1]!.material.name\n                if (potentialReactee !== p.material.name) {\n                  let reaction = p.material.reactions.find((r: Reaction) => r.reactee === potentialReactee)\n                  if (reaction !== undefined) {\n                    let newReaction: Reaction = tools.deepClone(reaction)\n                    newReaction.direction = [0, 1]\n                    potentialReactions.push(newReaction)\n                  }\n                }\n              }\n              potentialReactions.sort((a: Reaction, b: Reaction) => {\n                // prioritize intransitivity, then chance\n                return (a.isTransitive !== b.isTransitive)\n                  ? (a.isTransitive ? 1 : -1)\n                  : (b.chance - a.chance)\n              })\n              // if (doOut) console.log('potentialReactions:')\n              // if (doOut) console.log(potentialReactions)\n\n              // react\n              // let didReactionOccur = false\n              for (let i = 0; i < potentialReactions.length; i++) {\n                let r = potentialReactions[i]\n                if (this.doesChanceSucceed(r.chance)) {\n                  // didReactionOccur = true\n                  if (!r.isTransitive) {\n                    // nextScene[row][col]!.material = elements[r.result]\n                    nextScene[row][col] = this.getNewParticle(r.result)\n                    isUpdatedMask[row][col] = true\n                    break\n                  } else {\n                    nextScene[row + r.direction[0]][col + r.direction[1]] = this.getNewParticle(r.result) // elements[r.result]\n                    isUpdatedMask[row + r.direction[0]][col + r.direction[1]] = true\n                  }\n                }\n              }\n            }\n          }\n        })\n      })\n      this.scene.particles = tools.deepClone(nextScene)\n    },\n    move() {\n      let nextScene = tools.deepClone(this.scene.particles)\n      let isUpdatedMask: boolean[][] = new Array(this.imgRows).fill(0).map(() => new Array(this.imgCols).fill(false))\n\n      this.scene.particles.forEach((particleRow: (Particle | null)[], row: number) => {\n        particleRow.forEach((p: Particle | null, col: number) => {\n          if (p !== null && p.material.state !== 'solid') {\n            let didMovement = false\n            if (p.material.state === 'gas') {\n              // try going straight up\n              if (row > 0) {\n                let positionAbove = this.scene.particles[row - 1][col]\n                if (!isUpdatedMask[row - 1][col]) {\n                  if (positionAbove === null) {\n                    nextScene[row - 1][col] = p\n                    isUpdatedMask[row - 1][col] = true\n                    nextScene[row][col] = null\n                    didMovement = true\n                  } else if (this.isDenser(positionAbove, p)) {\n                    nextScene[row - 1][col] = p\n                    nextScene[row][col] = positionAbove\n                    isUpdatedMask[row - 1][col] = true\n                    isUpdatedMask[row][col] = true\n                    didMovement = true\n                  }\n                }\n              } else if (!this.scene.isCeiling) {\n                nextScene[row][col] = null\n                didMovement = true\n              }\n              if (!didMovement) {\n                // \"settle\" - shift to left or right\n                let isLeftOpen = col > 0 &&\n                                 this.scene.particles[row][col - 1] == null &&\n                                 !isUpdatedMask[row][col - 1]\n                let isLeftUpOpen = isLeftOpen &&\n                                   row > 0 &&\n                                   this.scene.particles[row - 1][col - 1] == null &&\n                                   !isUpdatedMask[row - 1][col - 1]\n                let isRightOpen = col < this.imgCols - 1 &&\n                                  this.scene.particles[row][col + 1] == null &&\n                                  !isUpdatedMask[row][col + 1]\n                let isRightUpOpen = isRightOpen &&\n                                    row > 0 &&\n                                    this.scene.particles[row - 1][col + 1] == null &&\n                                    !isUpdatedMask[row - 1][col + 1]\n                if (isLeftUpOpen || isRightUpOpen) {\n                  let doLeft = (isLeftUpOpen && isRightUpOpen) ? this.doesChanceSucceed(0.5) : isLeftUpOpen\n                  let idxShift = doLeft ? -1 : 1\n                  nextScene[row - 1][col + idxShift] = p\n                  isUpdatedMask[row - 1][col + idxShift] = true\n                  nextScene[row][col] = null\n                } else if (isLeftOpen || isRightOpen) {\n                  if (this.doesChanceSucceed(0.5)) {\n                    let doLeft = (isLeftOpen && isRightOpen) ? this.doesChanceSucceed(0.5) : isLeftOpen\n                    let idxShift = doLeft ? -1 : 1\n                    nextScene[row][col + idxShift] = p\n                    isUpdatedMask[row][col + idxShift] = true\n                    nextScene[row][col] = null\n                  }\n                }\n              }\n            } else {\n              if (row < this.imgRows - 1) {\n                let positionBelow = this.scene.particles[row + 1][col]\n                if (!isUpdatedMask[row + 1][col]) {\n                  if (positionBelow === null) {\n                    nextScene[row + 1][col] = p\n                    isUpdatedMask[row + 1][col] = true\n                    nextScene[row][col] = null\n                    didMovement = true\n                  } else if (this.isDenser(p, positionBelow)) {\n                    nextScene[row + 1][col] = p\n                    nextScene[row][col] = positionBelow\n                    isUpdatedMask[row + 1][col] = true\n                    isUpdatedMask[row][col] = true\n                    // nextScene[row][col] = null\n                    didMovement = true\n                  }\n                }\n              } else if (!this.scene.isFloor) {\n                nextScene[row][col] = null\n                didMovement = true\n              }\n              if (!didMovement) {\n                // \"settle\" - shift to left or right\n                let isLeftOpen = col > 0 &&\n                                 this.scene.particles[row][col - 1] == null &&\n                                 !isUpdatedMask[row][col - 1]\n                let isLeftDownOpen = isLeftOpen &&\n                                     row < this.imgRows - 1 &&\n                                     this.scene.particles[row + 1][col - 1] == null &&\n                                     !isUpdatedMask[row + 1][col - 1]\n                let isRightOpen = col < this.imgCols - 1 &&\n                                  this.scene.particles[row][col + 1] == null &&\n                                  !isUpdatedMask[row][col + 1]\n                let isRightDownOpen = isRightOpen &&\n                                      row < this.imgRows - 1 &&\n                                      this.scene.particles[row + 1][col + 1] == null &&\n                                      !isUpdatedMask[row + 1][col + 1]\n                if (isLeftDownOpen || isRightDownOpen) {\n                  let doLeft = (isLeftDownOpen && isRightDownOpen) ? this.doesChanceSucceed(0.5) : isLeftDownOpen\n                  let idxShift = doLeft ? -1 : 1\n                  nextScene[row + 1][col + idxShift] = p\n                  isUpdatedMask[row + 1][col + idxShift] = true\n                  nextScene[row][col] = null\n                } else if (p.material.state === 'liquid' && (isLeftOpen || isRightOpen)) {\n                  if (this.doesChanceSucceed(0.5)) {\n                    let doLeft = (isLeftOpen && isRightOpen) ? this.doesChanceSucceed(0.5) : isLeftOpen\n                    let idxShift = doLeft ? -1 : 1\n                    nextScene[row][col + idxShift] = p\n                    isUpdatedMask[row][col + idxShift] = true\n                    nextScene[row][col] = null\n                  }\n                }\n              }\n            }\n          }\n        })\n      })\n      this.scene.particles = tools.deepClone(nextScene)\n    },\n    // renderScene(doOut: boolean = false) {\n    renderScene() {\n      // if (doOut) console.log('renderScene() =====================')\n      // if (doOut) this.printImgData()\n      // let vm = this\n      // if (doOut) console.log('starting loop...')\n      this.scene.particles.forEach((particleRow: (Particle | null)[], row: number) => {\n        // if (doOut) console.log('particleRow: ' + this.particleRow2Str(particleRow))\n        // if (doOut) console.log('imageRow: ' + this.imageRow2Str(vm.scene.image[row]))\n        particleRow.forEach((p: Particle | null, col: number) => {\n          // if (doOut) console.log('        p: ' + this.particle2Str(p))\n          // if (doOut) console.log('    - pixel original: ' + this.vec2Str(vm.scene.image[row][col]))\n          if (p === null) {\n            // if (doOut) console.log('    - null; setting to background image color: ' + this.vec2Str(this.backgroundImage[row][col]))\n            this.scene.image[row][col] = this.backgroundImage[row][col]\n          } else {\n            // if (doOut) console.log('    - not null; setting to material color: ' + this.vec2Str(p.material.color))\n            this.scene.image[row][col] = p.material.color\n          }\n          // if (doOut) console.log('    - pixel final: ' + this.vec2Str(vm.scene.image[row][col]))\n        })\n        // if (doOut) console.log('particleRow final: ' + this.particleRow2Str(particleRow))\n        // if (doOut) console.log('imageRow final: ' + this.imageRow2Str(vm.scene.image[row]))\n      })\n      // if (doOut) console.log('Final state:')\n      // if (doOut) this.printImgData()\n\n      // if (doOut) console.log('Refreshing canvas...')\n      this.refreshCanvas()\n      // if (doOut) console.log('Done. =============================')\n    },\n    refreshCanvas() {\n      let img = this.scene.image\n      let imgPxRows = img.length\n      let imgPxCols = img.length > 0 ? img[0].length : 0\n      let pxWidth = this.canvasWidth / imgPxCols\n      let pxHeight = this.canvasHeight / imgPxRows\n      for (let row = 0; row < imgPxRows; row++) {\n        for (let col = 0; col < imgPxCols; col++) {\n          let colorString = 'rgb(' +\n                            img[row][col].x * 256 + ',' +\n                            img[row][col].y * 256 + ',' +\n                            img[row][col].z * 256 + ')'\n          this.vueCanvas.fillStyle = colorString\n          this.vueCanvas.fillRect(col * pxWidth, row * pxHeight, pxWidth, pxHeight)\n        }\n      }\n    },\n  },\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandboxGame.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandboxGame.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SandboxGame.vue?vue&type=template&id=407b3fe4&scoped=true&\"\nimport script from \"./SandboxGame.vue?vue&type=script&lang=ts&\"\nexport * from \"./SandboxGame.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SandboxGame.vue?vue&type=style&index=0&id=407b3fe4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"407b3fe4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"viewBox\":'0 0 ' + _vm.pxCols + ' ' + _vm.pxRows,\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('mask',{attrs:{\"id\":\"dropletMask\"}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"black\"}}),_c('circle',{attrs:{\"cx\":_vm.R,\"cy\":_vm.R,\"r\":_vm.R,\"fill\":\"white\"}}),_c('rect',{attrs:{\"x\":\"0\",\"y\":_vm.R - _vm.de,\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"black\",\"transform\":'rotate(' + (-180 / _vm.n) + ', ' + _vm.R + ', ' + _vm.R + ')'}}),_c('path',{attrs:{\"fill\":\"black\",\"d\":(\"\\n        M \" + _vm.R + \" \" + _vm.R + \"\\n        l 0 \" + (-_vm.R) + \"\\n        a \" + _vm.R + \" \" + _vm.R + \" 0\\n          1 1\\n          \" + (-_vm.R * Math.sin(2 * Math.PI / _vm.n)) + \" \" + (_vm.R - _vm.R * Math.cos(2 * Math.PI / _vm.n)) + \"\\n        z\\n      \")}}),_c('circle',{attrs:{\"cx\":_vm.R,\"cy\":_vm.r,\"r\":_vm.r,\"fill\":\"white\"}}),_c('circle',{attrs:{\"cx\":_vm.R,\"cy\":_vm.r,\"r\":_vm.r,\"transform\":'rotate(' + (-360 / _vm.n) + ', ' + _vm.R + ', ' + _vm.R + ')',\"fill\":\"black\"}})]),_vm._l((_vm.n),function(i){return _c('circle',{key:'droplet' + i,attrs:{\"cx\":_vm.R,\"cy\":_vm.R,\"r\":_vm.R,\"fill\":(\"hsl(\" + (i * 360 / _vm.n) + \", 50%, 60%)\"),\"mask\":\"url(#dropletMask)\",\"transform\":(\"rotate(\" + (i * 360 / _vm.n) + \", \" + _vm.R + \", \" + _vm.R + \")\")}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'DropletRing',\n  props: ['n'],\n  data() {\n    return {\n      pxRows: 10,\n      pxCols: 10,\n    }\n  },\n  computed: {\n    R(): number { // radius of outer circle\n      return Math.min(this.pxRows, this.pxCols) / 2\n    },\n    r(): number { // radius of inner circles\n      let l0 = Math.sqrt(2 - 2 * Math.cos(2 * Math.PI / this.n))\n      return this.R * l0 / (2 + l0)\n    },\n    de(): number { // distance from center to point where inner circles touch\n      return this.r / Math.tan(Math.PI / this.n)\n    },\n  },\n  methods: {}\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropletRing.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropletRing.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropletRing.vue?vue&type=template&id=549b8c69&\"\nimport script from \"./DropletRing.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropletRing.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport ImageAnalyzer from '@/components/miscTools/ImageAnalyzer/ImageAnalyzer.vue'\nimport CanvasTest from '@/components/CanvasTest.vue'\n// import CurveCreator from '@/components/miscTools/CurveCreator.vue'\nimport SandboxGame from '@/components/miscTools/SandboxGame.vue'\nimport DropletRing from '@/components/miscTools/DropletRing.vue'\n\nexport default Vue.extend({\n  name: \"MiscTools\",\n  components: {\n    canvasTest: CanvasTest,\n    imageAnalyzer: ImageAnalyzer,\n    // curveCreator: CurveCreator,\n    sandboxGame: SandboxGame,\n    dropletRing: DropletRing,\n  },\n  data() {\n    return {\n      dropletCount: 3,\n    }\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscTools.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MiscTools.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MiscTools.vue?vue&type=template&id=438d4831&\"\nimport script from \"./MiscTools.vue?vue&type=script&lang=ts&\"\nexport * from \"./MiscTools.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\nimport VueRouter from \"vue-router\"\nimport Home from \"@/views/Home.vue\"\nimport Watchlist from \"@/views/Watchlist.vue\"\nimport MiscTools from \"@/views/MiscTools.vue\"\n// import About from \"@/views/About.vue\"\n\nVue.use(VueRouter);\n\nexport default new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: \"/\",\n      name: \"Home\",\n      component: Home,\n    },\n    // {\n    //   path: \"/about\",\n    //   name: \"About\",\n    //   component: About,\n    // },\n    {\n      path: \"/watchlist\",\n      name: \"Watchlist\",\n      component: Watchlist,\n    },\n    {\n      path: \"/miscTools\",\n      name: \"MiscTools\",\n      component: MiscTools,\n    },\n  ]\n});\n","import tools from '@/utils/tools'\n\nexport default {\n  filters: {\n    toTitleCase(str: string): string {\n      return str?.replace(\n        /\\w*/g,\n        (txt: string) => {\n          return txt.charAt(0).toUpperCase() + txt.substring(1).toLowerCase();\n        }\n      );\n    },\n    formatDate(dateStr: string | null): string {\n      if (!dateStr) {\n        return '?'\n      }\n      const doDateOnly = /^\\d{4}-\\d{2}-\\d{2}$/.test(dateStr)\n      return tools.getFormattedDate(dateStr, doDateOnly)\n    },\n  }\n}","import Vue from \"vue\"\nimport App from \"./App.vue\"\nimport router from \"./router\"\nimport store from \"./store\"\nimport { BootstrapVue, BootstrapVueIcons } from \"bootstrap-vue\"\nimport VueCookies from 'vue-cookies'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport mixin from \"./mixin\"\n\nVue.config.productionTip = false;\nVue.use(BootstrapVue)\nVue.use(BootstrapVueIcons)\nVue.use(VueCookies)\nVue.mixin(mixin)\n\nnew Vue({\n  router,\n  store,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowInfoEditModal.vue?vue&type=style&index=0&id=29c4afef&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetList.vue?vue&type=style&index=0&id=c941bd92&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WatchlistItem.vue?vue&type=style&index=0&id=86b5fefc&scoped=true&lang=css&\""],"sourceRoot":""}